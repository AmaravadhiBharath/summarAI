function aS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tg={exports:{}},ru={};var kE;function mD(){if(kE)return ru;kE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ru.Fragment=t,ru.jsx=n,ru.jsxs=n,ru}var VE;function pD(){return VE||(VE=1,Tg.exports=mD()),Tg.exports}var x=pD(),Eg={exports:{}},Mt={};var OE;function gD(){if(OE)return Mt;OE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,L={};function X(V,J,ct){this.props=V,this.context=J,this.refs=L,this.updater=ct||M}X.prototype.isReactComponent={},X.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},X.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function nt(){}nt.prototype=X.prototype;function W(V,J,ct){this.props=V,this.context=J,this.refs=L,this.updater=ct||M}var ot=W.prototype=new nt;ot.constructor=W,j(ot,X.prototype),ot.isPureReactComponent=!0;var ut=Array.isArray;function lt(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(V,J,ct){var ft=ct.ref;return{$$typeof:e,type:V,key:J,ref:ft!==void 0?ft:null,props:ct}}function P(V,J){return N(V.type,J,V.props)}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function z(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return J[ct]})}var I=/\/+/g;function Gt(V,J){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):J.toString(36)}function te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(lt,lt):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,J,ct,ft,xt){var It=typeof V;(It==="undefined"||It==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(It){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case e:case t:bt=!0;break;case y:return bt=V._init,$(bt(V._payload),J,ct,ft,xt)}}if(bt)return xt=xt(V),bt=ft===""?"."+Gt(V,0):ft,ut(xt)?(ct="",bt!=null&&(ct=bt.replace(I,"$&/")+"/"),$(xt,J,ct,"",function(ze){return ze})):xt!=null&&(k(xt)&&(xt=P(xt,ct+(xt.key==null||V&&V.key===xt.key?"":(""+xt.key).replace(I,"$&/")+"/")+bt)),J.push(xt)),1;bt=0;var Re=ft===""?".":ft+":";if(ut(V))for(var ee=0;ee<V.length;ee++)ft=V[ee],It=Re+Gt(ft,ee),bt+=$(ft,J,ct,It,xt);else if(ee=C(V),typeof ee=="function")for(V=ee.call(V),ee=0;!(ft=V.next()).done;)ft=ft.value,It=Re+Gt(ft,ee++),bt+=$(ft,J,ct,It,xt);else if(It==="object"){if(typeof V.then=="function")return $(te(V),J,ct,ft,xt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return bt}function at(V,J,ct){if(V==null)return V;var ft=[],xt=0;return $(V,ft,"","",function(It){return J.call(ct,It,xt++)}),ft}function et(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var At=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}},Pt={map:at,forEach:function(V,J,ct){at(V,function(){J.apply(this,arguments)},ct)},count:function(V){var J=0;return at(V,function(){J++}),J},toArray:function(V){return at(V,function(J){return J})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Mt.Activity=v,Mt.Children=Pt,Mt.Component=X,Mt.Fragment=n,Mt.Profiler=a,Mt.PureComponent=W,Mt.StrictMode=i,Mt.Suspense=m,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Mt.cache=function(V){return function(){return V.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(V,J,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ft=j({},V.props),xt=V.key;if(J!=null)for(It in J.key!==void 0&&(xt=""+J.key),J)!S.call(J,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&J.ref===void 0||(ft[It]=J[It]);var It=arguments.length-2;if(It===1)ft.children=ct;else if(1<It){for(var bt=Array(It),Re=0;Re<It;Re++)bt[Re]=arguments[Re+2];ft.children=bt}return N(V.type,xt,ft)},Mt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Mt.createElement=function(V,J,ct){var ft,xt={},It=null;if(J!=null)for(ft in J.key!==void 0&&(It=""+J.key),J)S.call(J,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(xt[ft]=J[ft]);var bt=arguments.length-2;if(bt===1)xt.children=ct;else if(1<bt){for(var Re=Array(bt),ee=0;ee<bt;ee++)Re[ee]=arguments[ee+2];xt.children=Re}if(V&&V.defaultProps)for(ft in bt=V.defaultProps,bt)xt[ft]===void 0&&(xt[ft]=bt[ft]);return N(V,It,xt)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(V){return{$$typeof:h,render:V}},Mt.isValidElement=k,Mt.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:et}},Mt.memo=function(V,J){return{$$typeof:p,type:V,compare:J===void 0?null:J}},Mt.startTransition=function(V){var J=R.T,ct={};R.T=ct;try{var ft=V(),xt=R.S;xt!==null&&xt(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(lt,At)}catch(It){At(It)}finally{J!==null&&ct.types!==null&&(J.types=ct.types),R.T=J}},Mt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Mt.use=function(V){return R.H.use(V)},Mt.useActionState=function(V,J,ct){return R.H.useActionState(V,J,ct)},Mt.useCallback=function(V,J){return R.H.useCallback(V,J)},Mt.useContext=function(V){return R.H.useContext(V)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(V,J){return R.H.useDeferredValue(V,J)},Mt.useEffect=function(V,J){return R.H.useEffect(V,J)},Mt.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Mt.useId=function(){return R.H.useId()},Mt.useImperativeHandle=function(V,J,ct){return R.H.useImperativeHandle(V,J,ct)},Mt.useInsertionEffect=function(V,J){return R.H.useInsertionEffect(V,J)},Mt.useLayoutEffect=function(V,J){return R.H.useLayoutEffect(V,J)},Mt.useMemo=function(V,J){return R.H.useMemo(V,J)},Mt.useOptimistic=function(V,J){return R.H.useOptimistic(V,J)},Mt.useReducer=function(V,J,ct){return R.H.useReducer(V,J,ct)},Mt.useRef=function(V){return R.H.useRef(V)},Mt.useState=function(V){return R.H.useState(V)},Mt.useSyncExternalStore=function(V,J,ct){return R.H.useSyncExternalStore(V,J,ct)},Mt.useTransition=function(){return R.H.useTransition()},Mt.version="19.2.3",Mt}var PE;function m_(){return PE||(PE=1,Eg.exports=gD()),Eg.exports}var G=m_();const p_=aS(G);var xg={exports:{}},au={},wg={exports:{}},Sg={};var LE;function yD(){return LE||(LE=1,(function(e){function t($,at){var et=$.length;$.push(at);t:for(;0<et;){var At=et-1>>>1,Pt=$[At];if(0<a(Pt,at))$[At]=at,$[et]=Pt,et=At;else break t}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var at=$[0],et=$.pop();if(et!==at){$[0]=et;t:for(var At=0,Pt=$.length,V=Pt>>>1;At<V;){var J=2*(At+1)-1,ct=$[J],ft=J+1,xt=$[ft];if(0>a(ct,et))ft<Pt&&0>a(xt,ct)?($[At]=xt,$[ft]=et,At=ft):($[At]=ct,$[J]=et,At=J);else if(ft<Pt&&0>a(xt,et))$[At]=xt,$[ft]=et,At=ft;else break t}}return at}function a($,at){var et=$.sortIndex-at.sortIndex;return et!==0?et:$.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var m=[],p=[],y=1,v=null,T=3,C=!1,M=!1,j=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ot($){for(var at=n(p);at!==null;){if(at.callback===null)i(p);else if(at.startTime<=$)i(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function ut($){if(j=!1,ot($),!M)if(n(m)!==null)M=!0,lt||(lt=!0,z());else{var at=n(p);at!==null&&te(ut,at.startTime-$)}}var lt=!1,R=-1,S=5,N=-1;function P(){return L?!0:!(e.unstable_now()-N<S)}function k(){if(L=!1,lt){var $=e.unstable_now();N=$;var at=!0;try{t:{M=!1,j&&(j=!1,nt(R),R=-1),C=!0;var et=T;try{e:{for(ot($),v=n(m);v!==null&&!(v.expirationTime>$&&P());){var At=v.callback;if(typeof At=="function"){v.callback=null,T=v.priorityLevel;var Pt=At(v.expirationTime<=$);if($=e.unstable_now(),typeof Pt=="function"){v.callback=Pt,ot($),at=!0;break e}v===n(m)&&i(m),ot($)}else i(m);v=n(m)}if(v!==null)at=!0;else{var V=n(p);V!==null&&te(ut,V.startTime-$),at=!1}}break t}finally{v=null,T=et,C=!1}at=void 0}}finally{at?z():lt=!1}}}var z;if(typeof W=="function")z=function(){W(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Gt=I.port2;I.port1.onmessage=k,z=function(){Gt.postMessage(null)}}else z=function(){X(k,0)};function te($,at){R=X(function(){$(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$||(S=0<$?Math.floor(1e3/$):5)},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function($){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var et=T;T=at;try{return $()}finally{T=et}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function($,at){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var et=T;T=$;try{return at()}finally{T=et}},e.unstable_scheduleCallback=function($,at,et){var At=e.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?At+et:At):et=At,$){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=et+Pt,$={id:y++,callback:at,priorityLevel:$,startTime:et,expirationTime:Pt,sortIndex:-1},et>At?($.sortIndex=et,t(p,$),n(m)===null&&$===n(p)&&(j?(nt(R),R=-1):j=!0,te(ut,et-At))):($.sortIndex=Pt,t(m,$),M||C||(M=!0,lt||(lt=!0,z()))),$},e.unstable_shouldYield=P,e.unstable_wrapCallback=function($){var at=T;return function(){var et=T;T=at;try{return $.apply(this,arguments)}finally{T=et}}}})(Sg)),Sg}var jE;function _D(){return jE||(jE=1,wg.exports=yD()),wg.exports}var Ag={exports:{}},Ln={};var zE;function vD(){if(zE)return Ln;zE=1;var e=m_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ln.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},Ln.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},Ln.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Ln.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Ln.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:C}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:T,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Ln.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Ln.requestFormReset=function(m){i.d.r(m)},Ln.unstable_batchedUpdates=function(m,p){return m(p)},Ln.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ln.version="19.2.3",Ln}var UE;function bD(){if(UE)return Ag.exports;UE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch{}}return e(),Ag.exports=vD(),Ag.exports}var BE;function TD(){if(BE)return au;BE=1;var e=_D(),t=m_(),n=bD();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),s;if(g===u)return m(d),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,w=d.child;w;){if(w===o){b=!0,o=d,u=g;break}if(w===u){b=!0,u=d,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=d;break}if(w===u){b=!0,u=g,o=d;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function Gt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case X:return"Profiler";case L:return"StrictMode";case ut:return"Suspense";case lt:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case W:return s.displayName||"Context";case nt:return(s._context.displayName||"Context")+".Consumer";case ot:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:Gt(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return Gt(s(r))}catch{}}return null}var te=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},At=[],Pt=-1;function V(s){return{current:s}}function J(s){0>Pt||(s.current=At[Pt],At[Pt]=null,Pt--)}function ct(s,r){Pt++,At[Pt]=s.current,s.current=r}var ft=V(null),xt=V(null),It=V(null),bt=V(null);function Re(s,r){switch(ct(It,r),ct(xt,s),ct(ft,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?nE(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=nE(r),s=iE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ft),ct(ft,s)}function ee(){J(ft),J(xt),J(It)}function ze(s){s.memoizedState!==null&&ct(bt,s);var r=ft.current,o=iE(r,s.type);r!==o&&(ct(xt,s),ct(ft,o))}function qn(s){xt.current===s&&(J(ft),J(xt)),bt.current===s&&(J(bt),eu._currentValue=et)}var Xn,Vs;function oi(s){if(Xn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Xn=r&&r[1]||"",Vs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+s+Vs}var Ca=!1;function Ee(s,r){if(!s||Ca)return"";Ca=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Q){var H=Q}Reflect.construct(s,[],it)}else{try{it.call()}catch(Q){H=Q}s.call(it.prototype)}}else{try{throw Error()}catch(Q){H=Q}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var D=b.split(`
`),q=w.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===q.length)for(u=D.length-1,d=q.length-1;1<=u&&0<=d&&D[u]!==q[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==q[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==q[d]){var Z=`
`+D[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Ca=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?oi(o):""}function _r(s,r){switch(s.tag){case 26:case 27:case 5:return oi(s.type);case 16:return oi("Lazy");case 13:return s.child!==r&&r!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Ee(s.type,!1);case 11:return Ee(s.type.render,!1);case 1:return Ee(s.type,!0);case 31:return oi("Activity");default:return""}}function vr(s){try{var r="",o=null;do r+=_r(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,bi=e.unstable_cancelCallback,wo=e.unstable_shouldYield,br=e.unstable_requestPaint,wn=e.unstable_now,Os=e.unstable_getCurrentPriorityLevel,Ps=e.unstable_ImmediatePriority,Ra=e.unstable_UserBlockingPriority,Ti=e.unstable_NormalPriority,Na=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,So=e.log,Ao=e.unstable_setDisableYieldValue,li=null,Be=null;function Sn(s){if(typeof So=="function"&&Ao(s),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(li,s)}catch{}}var ke=Math.clz32?Math.clz32:K,Co=Math.log,Tr=Math.LN2;function K(s){return s>>>=0,s===0?32:31-(Co(s)/Tr|0)|0}var wt=256,Wt=262144,le=4194304;function An(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ci(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,g=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=An(u):(b&=w,b!==0?d=An(b):o||(o=w&~s,o!==0&&(d=An(o))))):(w=u&~g,w!==0?d=An(w):b!==0?d=An(b):o||(o=u&~s,o!==0&&(d=An(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function yn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Fe(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(){var s=le;return le<<=1,(le&62914560)===0&&(le=4194304),s}function Hn(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Ls(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function js(s,r,o,u,d,g){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var w=s.entanglements,D=s.expirationTimes,q=s.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-ke(o),it=1<<Z;w[Z]=0,D[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var Q=H[Z];Q!==null&&(Q.lane&=-536870913)}o&=~it}u!==0&&as(s,u,0),g!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=g&~(b&~r))}function as(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ke(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function zi(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-ke(o),d=1<<u;d&r|s[u]&r&&(s[u]|=r),o&=~d}}function Da(s,r){var o=r&-r;return o=(o&42)!==0?1:ve(o),(o&(s.suspendedLanes|r))!==0?0:o}function ve(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ke(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zs(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:AE(s.type))}function Ui(s,r){var o=at.p;try{return at.p=s,r()}finally{at.p=o}}var Bi=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Bi,_n="__reactProps$"+Bi,os="__reactContainer$"+Bi,Ro="__reactEvents$"+Bi,Cm="__reactListeners$"+Bi,Th="__reactHandles$"+Bi,Eh="__reactResources$"+Bi,ls="__reactMarker$"+Bi;function No(s){delete s[Qe],delete s[_n],delete s[Ro],delete s[Cm],delete s[Th]}function cs(s){var r=s[Qe];if(r)return r;for(var o=s.parentNode;o;){if(r=o[os]||o[Qe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=uE(s);s!==null;){if(o=s[Qe])return o;s=uE(s)}return r}s=o,o=s.parentNode}return null}function Ei(s){if(s=s[Qe]||s[os]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function ui(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function us(s){var r=s[Eh];return r||(r=s[Eh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Xe(s){s[ls]=!0}var lc=new Set,cc={};function hs(s,r){fs(s,r),fs(s+"Capture",r)}function fs(s,r){for(cc[s]=r,s=0;s<r.length;s++)lc.add(r[s])}var uc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},fc={};function xh(s){return Me.call(fc,s)?!0:Me.call(hc,s)?!1:uc.test(s)?fc[s]=!0:(hc[s]=!0,!1)}function Io(s,r,o){if(xh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function hi(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function We(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Er(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dc(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ue(s){if(!s._valueTracker){var r=Er(s)?"checked":"value";s._valueTracker=dc(s,r,""+s[r])}}function Ma(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=Er(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function ds(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ka=/[\n"\\]/g;function Wn(s){return s.replace(ka,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Do(s,r,o,u,d,g,b,w){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+vn(r)):s.value!==""+vn(r)&&(s.value=""+vn(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?mc(s,b,vn(r)):o!=null?mc(s,b,vn(o)):u!=null&&s.removeAttribute("value"),d==null&&g!=null&&(s.defaultChecked=!!g),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+vn(w):s.removeAttribute("name")}function wh(s,r,o,u,d,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ue(s);return}o=o!=null?""+vn(o):"",r=r!=null?""+vn(r):o,w||r===s.value||(s.value=r),s.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),ue(s)}function mc(s,r,o){r==="number"&&ds(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function xr(s,r,o,u){if(s=s.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=r.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&u&&(s[o].defaultSelected=!0)}else{for(o=""+vn(o),r=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function Sh(s,r,o){if(r!=null&&(r=""+vn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+vn(o):""}function wr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(te(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=vn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),ue(s)}function $n(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Ah.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function gc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&pc(s,d,u)}else for(var g in r)r.hasOwnProperty(g)&&pc(s,g,r[g])}function Mo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(s){return Sr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Fi(){}var yc=null;function xi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ar=null,ms=null;function Va(s){var r=Ei(s);if(r&&(s=r.stateNode)){var o=s[_n]||null;t:switch(s=r.stateNode,r.type){case"input":if(Do(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Wn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var d=u[_n]||null;if(!d)throw Error(i(90));Do(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Ma(u)}break t;case"textarea":Sh(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&xr(s,!!o.multiple,r,!1)}}}var Vo=!1;function Cr(s,r,o){if(Vo)return s(r,o);Vo=!0;try{var u=s(r);return u}finally{if(Vo=!1,(Ar!==null||ms!==null)&&(Tf(),Ar&&(r=Ar,s=ms,ms=Ar=null,Va(r),s)))for(r=0;r<s.length;r++)Va(s[r])}}function qi(s,r){var o=s.stateNode;if(o===null)return null;var u=o[_n]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=!1;if(wi)try{var de={};Object.defineProperty(de,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{Oa=!1}var ps=null,_c=null,Pa=null;function vc(){if(Pa)return Pa;var s,r=_c,o=r.length,u,d="value"in ps?ps.value:ps.textContent,g=d.length;for(s=0;s<o&&r[s]===d[s];s++);var b=o-s;for(u=1;u<=b&&r[o-u]===d[g-u];u++);return Pa=d.slice(s,1<u?1-u:void 0)}function La(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Us(){return!0}function Hi(){return!1}function Cn(s){function r(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(o=s[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Us:Hi,this.isPropagationStopped=Hi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),r}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=Cn(Bs),Rr=v({},Bs,{view:0,detail:0}),bc=Cn(Rr),Nr,Oo,ys,Po=v({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ys&&(ys&&s.type==="mousemove"?(Nr=s.screenX-ys.screenX,Oo=s.screenY-ys.screenY):Oo=Nr=0,ys=s),Nr)},movementY:function(s){return"movementY"in s?s.movementY:Oo}}),Tc=Cn(Po),ja=v({},Po,{dataTransfer:0}),Rh=Cn(ja),Nh=v({},Rr,{relatedTarget:0}),za=Cn(Nh),Ec=v({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=Cn(Ec),Lo=v({},Bs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Dh=Cn(Lo),Mh=v({},Bs,{data:0}),_s=Cn(Mh),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ph(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Oh[s])?!!r[s]:!1}function Ir(){return Ph}var Gn=v({},Rr,{key:function(s){if(s.key){var r=kh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=La(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(s){return s.type==="keypress"?La(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?La(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lh=Cn(Gn),jh=v({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=Cn(jh),f=v({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),_=Cn(f),E=v({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Cn(E),B=v({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Cn(B),dt=v({},Bs,{newState:0,oldState:0}),Vt=Cn(dt),qe=[9,13,27,32],re=wi&&"CompositionEvent"in window,Ne=null;wi&&"documentMode"in document&&(Ne=document.documentMode);var Si=wi&&"TextEvent"in window&&!Ne,vs=wi&&(!re||Ne&&8<Ne&&11>=Ne),Gi=" ",Yi=!1;function Ua(s,r){switch(s){case"keyup":return qe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zo=!1;function jN(s,r){switch(s){case"compositionend":return jo(r);case"keypress":return r.which!==32?null:(Yi=!0,Gi);case"textInput":return s=r.data,s===Gi&&Yi?null:s;default:return null}}function zN(s,r){if(zo)return s==="compositionend"||!re&&Ua(s,r)?(s=vc(),Pa=_c=ps=null,zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vs&&r.locale!=="ko"?null:r.data;default:return null}}var UN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!UN[s.type]:r==="textarea"}function m0(s,r,o,u){Ar?ms?ms.push(u):ms=[u]:Ar=u,r=Rf(r,"onChange"),0<r.length&&(o=new gs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var xc=null,wc=null;function BN(s){WT(s,0)}function zh(s){var r=ui(s);if(Ma(r))return s}function p0(s,r){if(s==="change")return r}var g0=!1;if(wi){var Rm;if(wi){var Nm="oninput"in document;if(!Nm){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Nm=typeof y0.oninput=="function"}Rm=Nm}else Rm=!1;g0=Rm&&(!document.documentMode||9<document.documentMode)}function _0(){xc&&(xc.detachEvent("onpropertychange",v0),wc=xc=null)}function v0(s){if(s.propertyName==="value"&&zh(wc)){var r=[];m0(r,wc,s,xi(s)),Cr(BN,r)}}function FN(s,r,o){s==="focusin"?(_0(),xc=r,wc=o,xc.attachEvent("onpropertychange",v0)):s==="focusout"&&_0()}function qN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zh(wc)}function HN(s,r){if(s==="click")return zh(r)}function GN(s,r){if(s==="input"||s==="change")return zh(r)}function YN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var fi=typeof Object.is=="function"?Object.is:YN;function Sc(s,r){if(fi(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Me.call(r,d)||!fi(s[d],r[d]))return!1}return!0}function b0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function T0(s,r){var o=b0(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=b0(o)}}function E0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?E0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function x0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ds(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=ds(s.document)}return r}function Im(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var KN=wi&&"documentMode"in document&&11>=document.documentMode,Uo=null,Dm=null,Ac=null,Mm=!1;function w0(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Mm||Uo==null||Uo!==ds(u)||(u=Uo,"selectionStart"in u&&Im(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ac&&Sc(Ac,u)||(Ac=u,u=Rf(Dm,"onSelect"),0<u.length&&(r=new gs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Uo)))}function Ba(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Bo={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},km={},S0={};wi&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Fa(s){if(km[s])return km[s];if(!Bo[s])return s;var r=Bo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in S0)return km[s]=r[o];return s}var A0=Fa("animationend"),C0=Fa("animationiteration"),R0=Fa("animationstart"),QN=Fa("transitionrun"),XN=Fa("transitionstart"),WN=Fa("transitioncancel"),N0=Fa("transitionend"),I0=new Map,Vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vm.push("scrollEnd");function Ki(s,r){I0.set(s,r),hs(r,[s])}var Uh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}},Ai=[],Fo=0,Om=0;function Bh(){for(var s=Fo,r=Om=Fo=0;r<s;){var o=Ai[r];Ai[r++]=null;var u=Ai[r];Ai[r++]=null;var d=Ai[r];Ai[r++]=null;var g=Ai[r];if(Ai[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&D0(o,d,g)}}function Fh(s,r,o,u){Ai[Fo++]=s,Ai[Fo++]=r,Ai[Fo++]=o,Ai[Fo++]=u,Om|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Pm(s,r,o,u){return Fh(s,r,o,u),qh(s)}function qa(s,r){return Fh(s,null,null,r),qh(s)}function D0(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(d=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,d&&r!==null&&(d=31-ke(o),s=g.hiddenUpdates,u=s[d],u===null?s[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function qh(s){if(50<Qc)throw Qc=0,Gp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var qo={};function $N(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,r,o,u){return new $N(s,r,o,u)}function Lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qs(s,r){var o=s.alternate;return o===null?(o=di(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function M0(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Hh(s,r,o,u,d,g){var b=0;if(u=s,typeof s=="function")Lm(s)&&(b=1);else if(typeof s=="string")b=nD(s,o,ft.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=di(31,o,r,d),s.elementType=N,s.lanes=g,s;case j:return Ha(o.children,d,g,r);case L:b=8,d|=24;break;case X:return s=di(12,o,r,d|2),s.elementType=X,s.lanes=g,s;case ut:return s=di(13,o,r,d),s.elementType=ut,s.lanes=g,s;case lt:return s=di(19,o,r,d),s.elementType=lt,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:b=10;break t;case nt:b=9;break t;case ot:b=11;break t;case R:b=14;break t;case S:b=16,u=null;break t}b=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=di(b,o,r,d),r.elementType=s,r.type=u,r.lanes=g,r}function Ha(s,r,o,u){return s=di(7,s,u,r),s.lanes=o,s}function jm(s,r,o){return s=di(6,s,null,r),s.lanes=o,s}function k0(s){var r=di(18,null,null,0);return r.stateNode=s,r}function zm(s,r,o){return r=di(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var V0=new WeakMap;function Ci(s,r){if(typeof s=="object"&&s!==null){var o=V0.get(s);return o!==void 0?o:(r={value:s,source:r,stack:vr(r)},V0.set(s,r),r)}return{value:s,source:r,stack:vr(r)}}var Ho=[],Go=0,Gh=null,Cc=0,Ri=[],Ni=0,Dr=null,bs=1,Ts="";function Hs(s,r){Ho[Go++]=Cc,Ho[Go++]=Gh,Gh=s,Cc=r}function O0(s,r,o){Ri[Ni++]=bs,Ri[Ni++]=Ts,Ri[Ni++]=Dr,Dr=s;var u=bs;s=Ts;var d=32-ke(u)-1;u&=~(1<<d),o+=1;var g=32-ke(r)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,bs=1<<32-ke(r)+d|o<<d|u,Ts=g+s}else bs=1<<g|o<<d|u,Ts=s}function Um(s){s.return!==null&&(Hs(s,1),O0(s,1,0))}function Bm(s){for(;s===Gh;)Gh=Ho[--Go],Ho[Go]=null,Cc=Ho[--Go],Ho[Go]=null;for(;s===Dr;)Dr=Ri[--Ni],Ri[Ni]=null,Ts=Ri[--Ni],Ri[Ni]=null,bs=Ri[--Ni],Ri[Ni]=null}function P0(s,r){Ri[Ni++]=bs,Ri[Ni++]=Ts,Ri[Ni++]=Dr,bs=r.id,Ts=r.overflow,Dr=s}var Rn=null,xe=null,$t=!1,Mr=null,Ii=!1,Fm=Error(i(519));function kr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rc(Ci(r,s)),Fm}function L0(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Qe]=s,r[_n]=u,o){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(o=0;o<Wc.length;o++)Bt(Wc[o],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":Bt("invalid",r),wh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Bt("invalid",r);break;case"textarea":Bt("invalid",r),wr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||tE(r.textContent,o)?(u.popover!=null&&(Bt("beforetoggle",r),Bt("toggle",r)),u.onScroll!=null&&Bt("scroll",r),u.onScrollEnd!=null&&Bt("scrollend",r),u.onClick!=null&&(r.onclick=Fi),r=!0):r=!1,r||kr(s,!0)}function j0(s){for(Rn=s.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:Rn=Rn.return}}function Yo(s){if(s!==Rn)return!1;if(!$t)return j0(s),$t=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ag(s.type,s.memoizedProps)),o=!o),o&&xe&&kr(s),j0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));xe=cE(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));xe=cE(s)}else r===27?(r=xe,Kr(s.type)?(s=hg,hg=null,xe=s):xe=r):xe=Rn?Mi(s.stateNode.nextSibling):null;return!0}function Ga(){xe=Rn=null,$t=!1}function qm(){var s=Mr;return s!==null&&(ei===null?ei=s:ei.push.apply(ei,s),Mr=null),s}function Rc(s){Mr===null?Mr=[s]:Mr.push(s)}var Hm=V(null),Ya=null,Gs=null;function Vr(s,r,o){ct(Hm,r._currentValue),r._currentValue=o}function Ys(s){s._currentValue=Hm.current,J(Hm)}function Gm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Ym(s,r,o,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var D=0;D<r.length;D++)if(w.context===r[D]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Gm(g.return,o,s),u||(b=null);break t}g=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Gm(b,o,s),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===s){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ko(s,r,o,u){s=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=d.type;fi(d.pendingProps.value,b.value)||(s!==null?s.push(w):s=[w])}}else if(d===bt.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(eu):s=[eu])}d=d.return}s!==null&&Ym(r,s,o,u),r.flags|=262144}function Yh(s){for(s=s.firstContext;s!==null;){if(!fi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ka(s){Ya=s,Gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Nn(s){return z0(Ya,s)}function Kh(s,r){return Ya===null&&Ka(s),z0(s,r)}function z0(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Gs===null){if(s===null)throw Error(i(308));Gs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Gs=Gs.next=r;return o}var ZN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},JN=e.unstable_scheduleCallback,tI=e.unstable_NormalPriority,$e={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new ZN,data:new Map,refCount:0}}function Nc(s){s.refCount--,s.refCount===0&&JN(tI,function(){s.controller.abort()})}var Ic=null,Qm=0,Qo=0,Xo=null;function eI(s,r){if(Ic===null){var o=Ic=[];Qm=0,Qo=$p(),Xo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qm++,r.then(U0,U0),r}function U0(){if(--Qm===0&&Ic!==null){Xo!==null&&(Xo.status="fulfilled");var s=Ic;Ic=null,Qo=0,Xo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function nI(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var B0=$.S;$.S=function(s,r){wT=wn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&eI(s,r),B0!==null&&B0(s,r)};var Qa=V(null);function Xm(){var s=Qa.current;return s!==null?s:ye.pooledCache}function Qh(s,r){r===null?ct(Qa,Qa.current):ct(Qa,r.pool)}function F0(){var s=Xm();return s===null?null:{parent:$e._currentValue,pool:s}}var Wo=Error(i(460)),Wm=Error(i(474)),Xh=Error(i(542)),Wh={then:function(){}};function q0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function H0(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Fi,Fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Y0(s),s;default:if(typeof r.status=="string")r.then(Fi,Fi);else{if(s=ye,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Y0(s),s}throw Wa=r,Wo}}function Xa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Wa=o,Wo):o}}var Wa=null;function G0(){if(Wa===null)throw Error(i(459));var s=Wa;return Wa=null,s}function Y0(s){if(s===Wo||s===Xh)throw Error(i(483))}var $o=null,Dc=0;function $h(s){var r=Dc;return Dc+=1,$o===null&&($o=[]),H0($o,s,r)}function Mc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Zh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function K0(s){function r(U,O){if(s){var F=U.deletions;F===null?(U.deletions=[O],U.flags|=16):F.push(O)}}function o(U,O){if(!s)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function u(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function d(U,O){return U=qs(U,O),U.index=0,U.sibling=null,U}function g(U,O,F){return U.index=F,s?(F=U.alternate,F!==null?(F=F.index,F<O?(U.flags|=67108866,O):F):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function b(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function w(U,O,F,tt){return O===null||O.tag!==6?(O=jm(F,U.mode,tt),O.return=U,O):(O=d(O,F),O.return=U,O)}function D(U,O,F,tt){var Tt=F.type;return Tt===j?Z(U,O,F.props.children,tt,F.key):O!==null&&(O.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&Xa(Tt)===O.type)?(O=d(O,F.props),Mc(O,F),O.return=U,O):(O=Hh(F.type,F.key,F.props,null,U.mode,tt),Mc(O,F),O.return=U,O)}function q(U,O,F,tt){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=zm(F,U.mode,tt),O.return=U,O):(O=d(O,F.children||[]),O.return=U,O)}function Z(U,O,F,tt,Tt){return O===null||O.tag!==7?(O=Ha(F,U.mode,tt,Tt),O.return=U,O):(O=d(O,F),O.return=U,O)}function it(U,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=jm(""+O,U.mode,F),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return F=Hh(O.type,O.key,O.props,null,U.mode,F),Mc(F,O),F.return=U,F;case M:return O=zm(O,U.mode,F),O.return=U,O;case S:return O=Xa(O),it(U,O,F)}if(te(O)||z(O))return O=Ha(O,U.mode,F,null),O.return=U,O;if(typeof O.then=="function")return it(U,$h(O),F);if(O.$$typeof===W)return it(U,Kh(U,O),F);Zh(U,O)}return null}function H(U,O,F,tt){var Tt=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Tt!==null?null:w(U,O,""+F,tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return F.key===Tt?D(U,O,F,tt):null;case M:return F.key===Tt?q(U,O,F,tt):null;case S:return F=Xa(F),H(U,O,F,tt)}if(te(F)||z(F))return Tt!==null?null:Z(U,O,F,tt,null);if(typeof F.then=="function")return H(U,O,$h(F),tt);if(F.$$typeof===W)return H(U,O,Kh(U,F),tt);Zh(U,F)}return null}function Q(U,O,F,tt,Tt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(F)||null,w(O,U,""+tt,Tt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case C:return U=U.get(tt.key===null?F:tt.key)||null,D(O,U,tt,Tt);case M:return U=U.get(tt.key===null?F:tt.key)||null,q(O,U,tt,Tt);case S:return tt=Xa(tt),Q(U,O,F,tt,Tt)}if(te(tt)||z(tt))return U=U.get(F)||null,Z(O,U,tt,Tt,null);if(typeof tt.then=="function")return Q(U,O,F,$h(tt),Tt);if(tt.$$typeof===W)return Q(U,O,F,Kh(O,tt),Tt);Zh(O,tt)}return null}function gt(U,O,F,tt){for(var Tt=null,ne=null,vt=O,Lt=O=0,Kt=null;vt!==null&&Lt<F.length;Lt++){vt.index>Lt?(Kt=vt,vt=null):Kt=vt.sibling;var ie=H(U,vt,F[Lt],tt);if(ie===null){vt===null&&(vt=Kt);break}s&&vt&&ie.alternate===null&&r(U,vt),O=g(ie,O,Lt),ne===null?Tt=ie:ne.sibling=ie,ne=ie,vt=Kt}if(Lt===F.length)return o(U,vt),$t&&Hs(U,Lt),Tt;if(vt===null){for(;Lt<F.length;Lt++)vt=it(U,F[Lt],tt),vt!==null&&(O=g(vt,O,Lt),ne===null?Tt=vt:ne.sibling=vt,ne=vt);return $t&&Hs(U,Lt),Tt}for(vt=u(vt);Lt<F.length;Lt++)Kt=Q(vt,U,Lt,F[Lt],tt),Kt!==null&&(s&&Kt.alternate!==null&&vt.delete(Kt.key===null?Lt:Kt.key),O=g(Kt,O,Lt),ne===null?Tt=Kt:ne.sibling=Kt,ne=Kt);return s&&vt.forEach(function(Zr){return r(U,Zr)}),$t&&Hs(U,Lt),Tt}function St(U,O,F,tt){if(F==null)throw Error(i(151));for(var Tt=null,ne=null,vt=O,Lt=O=0,Kt=null,ie=F.next();vt!==null&&!ie.done;Lt++,ie=F.next()){vt.index>Lt?(Kt=vt,vt=null):Kt=vt.sibling;var Zr=H(U,vt,ie.value,tt);if(Zr===null){vt===null&&(vt=Kt);break}s&&vt&&Zr.alternate===null&&r(U,vt),O=g(Zr,O,Lt),ne===null?Tt=Zr:ne.sibling=Zr,ne=Zr,vt=Kt}if(ie.done)return o(U,vt),$t&&Hs(U,Lt),Tt;if(vt===null){for(;!ie.done;Lt++,ie=F.next())ie=it(U,ie.value,tt),ie!==null&&(O=g(ie,O,Lt),ne===null?Tt=ie:ne.sibling=ie,ne=ie);return $t&&Hs(U,Lt),Tt}for(vt=u(vt);!ie.done;Lt++,ie=F.next())ie=Q(vt,U,Lt,ie.value,tt),ie!==null&&(s&&ie.alternate!==null&&vt.delete(ie.key===null?Lt:ie.key),O=g(ie,O,Lt),ne===null?Tt=ie:ne.sibling=ie,ne=ie);return s&&vt.forEach(function(dD){return r(U,dD)}),$t&&Hs(U,Lt),Tt}function ge(U,O,F,tt){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case C:t:{for(var Tt=F.key;O!==null;){if(O.key===Tt){if(Tt=F.type,Tt===j){if(O.tag===7){o(U,O.sibling),tt=d(O,F.props.children),tt.return=U,U=tt;break t}}else if(O.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&Xa(Tt)===O.type){o(U,O.sibling),tt=d(O,F.props),Mc(tt,F),tt.return=U,U=tt;break t}o(U,O);break}else r(U,O);O=O.sibling}F.type===j?(tt=Ha(F.props.children,U.mode,tt,F.key),tt.return=U,U=tt):(tt=Hh(F.type,F.key,F.props,null,U.mode,tt),Mc(tt,F),tt.return=U,U=tt)}return b(U);case M:t:{for(Tt=F.key;O!==null;){if(O.key===Tt)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){o(U,O.sibling),tt=d(O,F.children||[]),tt.return=U,U=tt;break t}else{o(U,O);break}else r(U,O);O=O.sibling}tt=zm(F,U.mode,tt),tt.return=U,U=tt}return b(U);case S:return F=Xa(F),ge(U,O,F,tt)}if(te(F))return gt(U,O,F,tt);if(z(F)){if(Tt=z(F),typeof Tt!="function")throw Error(i(150));return F=Tt.call(F),St(U,O,F,tt)}if(typeof F.then=="function")return ge(U,O,$h(F),tt);if(F.$$typeof===W)return ge(U,O,Kh(U,F),tt);Zh(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(o(U,O.sibling),tt=d(O,F),tt.return=U,U=tt):(o(U,O),tt=jm(F,U.mode,tt),tt.return=U,U=tt),b(U)):o(U,O)}return function(U,O,F,tt){try{Dc=0;var Tt=ge(U,O,F,tt);return $o=null,Tt}catch(vt){if(vt===Wo||vt===Xh)throw vt;var ne=di(29,vt,null,U.mode);return ne.lanes=tt,ne.return=U,ne}}}var $a=K0(!0),Q0=K0(!1),Or=!1;function $m(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Pr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Lr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(ae&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=qh(s),D0(s,null,o),r}return Fh(s,u,r,o),qh(s)}function kc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,zi(s,o)}}function Jm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var tp=!1;function Vc(){if(tp){var s=Xo;if(s!==null)throw s}}function Oc(s,r,o,u){tp=!1;var d=s.updateQueue;Or=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var D=w,q=D.next;D.next=null,b===null?g=q:b.next=q,b=D;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=q:w.next=q,Z.lastBaseUpdate=D))}if(g!==null){var it=d.baseState;b=0,Z=q=D=null,w=g;do{var H=w.lane&-536870913,Q=H!==w.lane;if(Q?(Yt&H)===H:(u&H)===H){H!==0&&H===Qo&&(tp=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var gt=s,St=w;H=r;var ge=o;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){it=gt.call(ge,it,H);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,H=typeof gt=="function"?gt.call(ge,it,H):gt,H==null)break t;it=v({},it,H);break t;case 2:Or=!0}}H=w.callback,H!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(q=Z=Q,D=it):Z=Z.next=Q,b|=H;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(D=it),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Fr|=b,s.lanes=b,s.memoizedState=it}}function X0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function W0(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)X0(o[s],r)}var Zo=V(null),Jh=V(0);function $0(s,r){s=er,ct(Jh,s),ct(Zo,r),er=s|r.baseLanes}function ep(){ct(Jh,er),ct(Zo,Zo.current)}function np(){er=Jh.current,J(Zo),J(Jh)}var mi=V(null),Di=null;function jr(s){var r=s.alternate;ct(He,He.current&1),ct(mi,s),Di===null&&(r===null||Zo.current!==null||r.memoizedState!==null)&&(Di=s)}function ip(s){ct(He,He.current),ct(mi,s),Di===null&&(Di=s)}function Z0(s){s.tag===22?(ct(He,He.current),ct(mi,s),Di===null&&(Di=s)):zr()}function zr(){ct(He,He.current),ct(mi,mi.current)}function pi(s){J(mi),Di===s&&(Di=null),J(He)}var He=V(0);function tf(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||cg(o)||ug(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ks=0,Ot=null,me=null,Ze=null,ef=!1,Jo=!1,Za=!1,nf=0,Pc=0,tl=null,iI=0;function Oe(){throw Error(i(321))}function sp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!fi(s[o],r[o]))return!1;return!0}function rp(s,r,o,u,d,g){return Ks=g,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=s===null||s.memoizedState===null?Ob:bp,Za=!1,g=o(u,d),Za=!1,Jo&&(g=tb(r,o,u,d)),J0(s),g}function J0(s){$.H=zc;var r=me!==null&&me.next!==null;if(Ks=0,Ze=me=Ot=null,ef=!1,Pc=0,tl=null,r)throw Error(i(300));s===null||Je||(s=s.dependencies,s!==null&&Yh(s)&&(Je=!0))}function tb(s,r,o,u){Ot=s;var d=0;do{if(Jo&&(tl=null),Pc=0,Jo=!1,25<=d)throw Error(i(301));if(d+=1,Ze=me=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=Pb,g=r(o,u)}while(Jo);return g}function sI(){var s=$.H,r=s.useState()[0];return r=typeof r.then=="function"?Lc(r):r,s=s.useState()[0],(me!==null?me.memoizedState:null)!==s&&(Ot.flags|=1024),r}function ap(){var s=nf!==0;return nf=0,s}function op(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function lp(s){if(ef){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ef=!1}Ks=0,Ze=me=Ot=null,Jo=!1,Pc=nf=0,tl=null}function Yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ot.memoizedState=Ze=s:Ze=Ze.next=s,Ze}function Ge(){if(me===null){var s=Ot.alternate;s=s!==null?s.memoizedState:null}else s=me.next;var r=Ze===null?Ot.memoizedState:Ze.next;if(r!==null)Ze=r,me=s;else{if(s===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));me=s,s={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Ze===null?Ot.memoizedState=Ze=s:Ze=Ze.next=s}return Ze}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lc(s){var r=Pc;return Pc+=1,tl===null&&(tl=[]),s=H0(tl,s,r),r=Ot,(Ze===null?r.memoizedState:Ze.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Ob:bp),s}function rf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lc(s);if(s.$$typeof===W)return Nn(s)}throw Error(i(438,String(s)))}function cp(s){var r=null,o=Ot.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=sf(),Ot.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=P;return r.index++,o}function Qs(s,r){return typeof r=="function"?r(s):r}function af(s){var r=Ge();return up(r,me,s)}function up(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=s.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}r.baseQueue=d=g,u.pending=null}if(g=s.baseState,d===null)s.memoizedState=g;else{r=d.next;var w=b=null,D=null,q=r,Z=!1;do{var it=q.lane&-536870913;if(it!==q.lane?(Yt&it)===it:(Ks&it)===it){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),it===Qo&&(Z=!0);else if((Ks&H)===H){q=q.next,H===Qo&&(Z=!0);continue}else it={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(w=D=it,b=g):D=D.next=it,Ot.lanes|=H,Fr|=H;it=q.action,Za&&o(g,it),g=q.hasEagerState?q.eagerState:o(g,it)}else H={lane:it,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(w=D=H,b=g):D=D.next=H,Ot.lanes|=it,Fr|=it;q=q.next}while(q!==null&&q!==r);if(D===null?b=g:D.next=w,!fi(g,s.memoizedState)&&(Je=!0,Z&&(o=Xo,o!==null)))throw o;s.memoizedState=g,s.baseState=b,s.baseQueue=D,u.lastRenderedState=g}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function hp(s){var r=Ge(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=s(g,b.action),b=b.next;while(b!==d);fi(g,r.memoizedState)||(Je=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function eb(s,r,o){var u=Ot,d=Ge(),g=$t;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!fi((me||d).memoizedState,o);if(b&&(d.memoizedState=o,Je=!0),d=d.queue,mp(sb.bind(null,u,d,s),[s]),d.getSnapshot!==r||b||Ze!==null&&Ze.memoizedState.tag&1){if(u.flags|=2048,el(9,{destroy:void 0},ib.bind(null,u,d,o,r),null),ye===null)throw Error(i(349));g||(Ks&127)!==0||nb(u,r,o)}return o}function nb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ot.updateQueue,r===null?(r=sf(),Ot.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function ib(s,r,o,u){r.value=o,r.getSnapshot=u,rb(r)&&ab(s)}function sb(s,r,o){return o(function(){rb(r)&&ab(s)})}function rb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!fi(s,o)}catch{return!0}}function ab(s){var r=qa(s,2);r!==null&&ni(r,s,2)}function fp(s){var r=Yn();if(typeof s=="function"){var o=s;if(s=o(),Za){Sn(!0);try{o()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:s},r}function ob(s,r,o,u){return s.baseState=o,up(s,me,typeof u=="function"?u:Qs)}function rI(s,r,o,u,d){if(cf(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};$.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,lb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function lb(s,r){var o=r.action,u=r.payload,d=s.state;if(r.isTransition){var g=$.T,b={};$.T=b;try{var w=o(d,u),D=$.S;D!==null&&D(b,w),cb(s,r,w)}catch(q){dp(s,r,q)}finally{g!==null&&b.types!==null&&(g.types=b.types),$.T=g}}else try{g=o(d,u),cb(s,r,g)}catch(q){dp(s,r,q)}}function cb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ub(s,r,u)},function(u){return dp(s,r,u)}):ub(s,r,o)}function ub(s,r,o){r.status="fulfilled",r.value=o,hb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,lb(s,o)))}function dp(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,hb(r),r=r.next;while(r!==u)}s.action=null}function hb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function fb(s,r){return r}function db(s,r){if($t){var o=ye.formState;if(o!==null){t:{var u=Ot;if($t){if(xe){e:{for(var d=xe,g=Ii;d.nodeType!==8;){if(!g){d=null;break e}if(d=Mi(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){xe=Mi(d.nextSibling),u=d.data==="F!";break t}}kr(u)}u=!1}u&&(r=o[0])}}return o=Yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fb,lastRenderedState:r},o.queue=u,o=Mb.bind(null,Ot,u),u.dispatch=o,u=fp(!1),g=vp.bind(null,Ot,!1,u.queue),u=Yn(),d={state:r,dispatch:null,action:s,pending:null},u.queue=d,o=rI.bind(null,Ot,d,g,o),d.dispatch=o,u.memoizedState=s,[r,o,!1]}function mb(s){var r=Ge();return pb(r,me,s)}function pb(s,r,o){if(r=up(s,r,fb)[0],s=af(Qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Lc(r)}catch(b){throw b===Wo?Xh:b}else u=r;r=Ge();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ot.flags|=2048,el(9,{destroy:void 0},aI.bind(null,d,o),null)),[u,g,s]}function aI(s,r){s.action=r}function gb(s){var r=Ge(),o=me;if(o!==null)return pb(r,o,s);Ge(),r=r.memoizedState,o=Ge();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function el(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=sf(),Ot.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function yb(){return Ge().memoizedState}function of(s,r,o,u){var d=Yn();Ot.flags|=s,d.memoizedState=el(1|r,{destroy:void 0},o,u===void 0?null:u)}function lf(s,r,o,u){var d=Ge();u=u===void 0?null:u;var g=d.memoizedState.inst;me!==null&&u!==null&&sp(u,me.memoizedState.deps)?d.memoizedState=el(r,g,o,u):(Ot.flags|=s,d.memoizedState=el(1|r,g,o,u))}function _b(s,r){of(8390656,8,s,r)}function mp(s,r){lf(2048,8,s,r)}function oI(s){Ot.flags|=4;var r=Ot.updateQueue;if(r===null)r=sf(),Ot.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function vb(s){var r=Ge().memoizedState;return oI({ref:r,nextImpl:s}),function(){if((ae&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function bb(s,r){return lf(4,2,s,r)}function Tb(s,r){return lf(4,4,s,r)}function Eb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function xb(s,r,o){o=o!=null?o.concat([s]):null,lf(4,4,Eb.bind(null,r,s),o)}function pp(){}function wb(s,r){var o=Ge();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&sp(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Sb(s,r){var o=Ge();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&sp(r,u[1]))return u[0];if(u=s(),Za){Sn(!0);try{s()}finally{Sn(!1)}}return o.memoizedState=[u,r],u}function gp(s,r,o){return o===void 0||(Ks&1073741824)!==0&&(Yt&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=AT(),Ot.lanes|=s,Fr|=s,o)}function Ab(s,r,o,u){return fi(o,r)?o:Zo.current!==null?(s=gp(s,o,u),fi(s,r)||(Je=!0),s):(Ks&42)===0||(Ks&1073741824)!==0&&(Yt&261930)===0?(Je=!0,s.memoizedState=o):(s=AT(),Ot.lanes|=s,Fr|=s,r)}function Cb(s,r,o,u,d){var g=at.p;at.p=g!==0&&8>g?g:8;var b=$.T,w={};$.T=w,vp(s,!1,r,o);try{var D=d(),q=$.S;if(q!==null&&q(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=nI(D,u);jc(s,r,Z,_i(s))}else jc(s,r,u,_i(s))}catch(it){jc(s,r,{then:function(){},status:"rejected",reason:it},_i())}finally{at.p=g,b!==null&&w.types!==null&&(b.types=w.types),$.T=b}}function lI(){}function yp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var d=Rb(s).queue;Cb(s,d,r,et,o===null?lI:function(){return Nb(s),o(u)})}function Rb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:et},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Nb(s){var r=Rb(s);r.next===null&&(r=s.alternate.memoizedState),jc(s,r.next.queue,{},_i())}function _p(){return Nn(eu)}function Ib(){return Ge().memoizedState}function Db(){return Ge().memoizedState}function cI(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=_i();s=Pr(o);var u=Lr(r,s,o);u!==null&&(ni(u,r,o),kc(u,r,o)),r={cache:Km()},s.payload=r;return}r=r.return}}function uI(s,r,o){var u=_i();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},cf(s)?kb(r,o):(o=Pm(s,r,o,u),o!==null&&(ni(o,s,u),Vb(o,r,u)))}function Mb(s,r,o){var u=_i();jc(s,r,o,u)}function jc(s,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(cf(s))kb(r,d);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(d.hasEagerState=!0,d.eagerState=w,fi(w,b))return Fh(s,r,d,0),ye===null&&Bh(),!1}catch{}if(o=Pm(s,r,d,u),o!==null)return ni(o,s,u),Vb(o,r,u),!0}return!1}function vp(s,r,o,u){if(u={lane:2,revertLane:$p(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cf(s)){if(r)throw Error(i(479))}else r=Pm(s,o,u,2),r!==null&&ni(r,s,2)}function cf(s){var r=s.alternate;return s===Ot||r!==null&&r===Ot}function kb(s,r){Jo=ef=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Vb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,zi(s,o)}}var zc={readContext:Nn,use:rf,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};zc.useEffectEvent=Oe;var Ob={readContext:Nn,use:rf,useCallback:function(s,r){return Yn().memoizedState=[s,r===void 0?null:r],s},useContext:Nn,useEffect:_b,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,of(4194308,4,Eb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return of(4194308,4,s,r)},useInsertionEffect:function(s,r){of(4,2,s,r)},useMemo:function(s,r){var o=Yn();r=r===void 0?null:r;var u=s();if(Za){Sn(!0);try{s()}finally{Sn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Yn();if(o!==void 0){var d=o(r);if(Za){Sn(!0);try{o(r)}finally{Sn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=uI.bind(null,Ot,s),[u.memoizedState,s]},useRef:function(s){var r=Yn();return s={current:s},r.memoizedState=s},useState:function(s){s=fp(s);var r=s.queue,o=Mb.bind(null,Ot,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:pp,useDeferredValue:function(s,r){var o=Yn();return gp(o,s,r)},useTransition:function(){var s=fp(!1);return s=Cb.bind(null,Ot,s.queue,!0,!1),Yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ot,d=Yn();if($t){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ye===null)throw Error(i(349));(Yt&127)!==0||nb(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,_b(sb.bind(null,u,g,s),[s]),u.flags|=2048,el(9,{destroy:void 0},ib.bind(null,u,g,o,r),null),o},useId:function(){var s=Yn(),r=ye.identifierPrefix;if($t){var o=Ts,u=bs;o=(u&~(1<<32-ke(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=nf++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=iI++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:_p,useFormState:db,useActionState:db,useOptimistic:function(s){var r=Yn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=vp.bind(null,Ot,!0,o),o.dispatch=r,[s,r]},useMemoCache:cp,useCacheRefresh:function(){return Yn().memoizedState=cI.bind(null,Ot)},useEffectEvent:function(s){var r=Yn(),o={impl:s};return r.memoizedState=o,function(){if((ae&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},bp={readContext:Nn,use:rf,useCallback:wb,useContext:Nn,useEffect:mp,useImperativeHandle:xb,useInsertionEffect:bb,useLayoutEffect:Tb,useMemo:Sb,useReducer:af,useRef:yb,useState:function(){return af(Qs)},useDebugValue:pp,useDeferredValue:function(s,r){var o=Ge();return Ab(o,me.memoizedState,s,r)},useTransition:function(){var s=af(Qs)[0],r=Ge().memoizedState;return[typeof s=="boolean"?s:Lc(s),r]},useSyncExternalStore:eb,useId:Ib,useHostTransitionStatus:_p,useFormState:mb,useActionState:mb,useOptimistic:function(s,r){var o=Ge();return ob(o,me,s,r)},useMemoCache:cp,useCacheRefresh:Db};bp.useEffectEvent=vb;var Pb={readContext:Nn,use:rf,useCallback:wb,useContext:Nn,useEffect:mp,useImperativeHandle:xb,useInsertionEffect:bb,useLayoutEffect:Tb,useMemo:Sb,useReducer:hp,useRef:yb,useState:function(){return hp(Qs)},useDebugValue:pp,useDeferredValue:function(s,r){var o=Ge();return me===null?gp(o,s,r):Ab(o,me.memoizedState,s,r)},useTransition:function(){var s=hp(Qs)[0],r=Ge().memoizedState;return[typeof s=="boolean"?s:Lc(s),r]},useSyncExternalStore:eb,useId:Ib,useHostTransitionStatus:_p,useFormState:gb,useActionState:gb,useOptimistic:function(s,r){var o=Ge();return me!==null?ob(o,me,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:cp,useCacheRefresh:Db};Pb.useEffectEvent=vb;function Tp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Ep={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=_i(),d=Pr(u);d.payload=r,o!=null&&(d.callback=o),r=Lr(s,d,u),r!==null&&(ni(r,s,u),kc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=_i(),d=Pr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Lr(s,d,u),r!==null&&(ni(r,s,u),kc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=_i(),u=Pr(o);u.tag=2,r!=null&&(u.callback=r),r=Lr(s,u,o),r!==null&&(ni(r,s,o),kc(r,s,o))}};function Lb(s,r,o,u,d,g,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Sc(o,u)||!Sc(d,g):!0}function jb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Ep.enqueueReplaceState(r,r.state,null)}function Ja(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}function zb(s){Uh(s)}function Ub(s){}function Bb(s){Uh(s)}function uf(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Fb(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xp(s,r,o){return o=Pr(o),o.tag=3,o.payload={element:null},o.callback=function(){uf(s,r)},o}function qb(s){return s=Pr(s),s.tag=3,s}function Hb(s,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;s.payload=function(){return d(g)},s.callback=function(){Fb(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Fb(r,o,u),typeof d!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function hI(s,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ko(r,o,d,!0),o=mi.current,o!==null){switch(o.tag){case 31:case 13:return Di===null?Ef():o.alternate===null&&Pe===0&&(Pe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Qp(s,u,d)),!1;case 22:return o.flags|=65536,u===Wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Qp(s,u,d)),!1}throw Error(i(435,o.tag))}return Qp(s,u,d),Ef(),!1}if($t)return r=mi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Fm&&(s=Error(i(422),{cause:u}),Rc(Ci(s,o)))):(u!==Fm&&(r=Error(i(423),{cause:u}),Rc(Ci(r,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=Ci(u,o),d=xp(s.stateNode,u,d),Jm(s,d),Pe!==4&&(Pe=2)),!1;var g=Error(i(520),{cause:u});if(g=Ci(g,o),Kc===null?Kc=[g]:Kc.push(g),Pe!==4&&(Pe=2),r===null)return!0;u=Ci(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=xp(o.stateNode,u,s),Jm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qr===null||!qr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=qb(d),Hb(d,s,o,u),Jm(o,d),!1}o=o.return}while(o!==null);return!1}var wp=Error(i(461)),Je=!1;function In(s,r,o,u){r.child=s===null?Q0(r,null,o,u):$a(r,s.child,o,u)}function Gb(s,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return Ka(r),u=rp(s,r,o,b,g,d),w=ap(),s!==null&&!Je?(op(s,r,d),Xs(s,r,d)):($t&&w&&Um(r),r.flags|=1,In(s,r,u,d),r.child)}function Yb(s,r,o,u,d){if(s===null){var g=o.type;return typeof g=="function"&&!Lm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Kb(s,r,g,u,d)):(s=Hh(o.type,null,u,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Mp(s,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Sc,o(b,u)&&s.ref===r.ref)return Xs(s,r,d)}return r.flags|=1,s=qs(g,u),s.ref=r.ref,s.return=r,r.child=s}function Kb(s,r,o,u,d){if(s!==null){var g=s.memoizedProps;if(Sc(g,u)&&s.ref===r.ref)if(Je=!1,r.pendingProps=u=g,Mp(s,d))(s.flags&131072)!==0&&(Je=!0);else return r.lanes=s.lanes,Xs(s,r,d)}return Sp(s,r,o,u,d)}function Qb(s,r,o,u){var d=u.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(u=r.child=s.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return Xb(s,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qh(r,g!==null?g.cachePool:null),g!==null?$0(r,g):ep(),Z0(r);else return u=r.lanes=536870912,Xb(s,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Qh(r,g.cachePool),$0(r,g),zr(),r.memoizedState=null):(s!==null&&Qh(r,null),ep(),zr());return In(s,r,d,o),r.child}function Uc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xb(s,r,o,u,d){var g=Xm();return g=g===null?null:{parent:$e._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&Qh(r,null),ep(),Z0(r),s!==null&&Ko(s,r,u,!0),r.childLanes=d,null}function hf(s,r){return r=df({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Wb(s,r,o){return $a(r,s.child,null,o),s=hf(r,r.pendingProps),s.flags|=2,pi(r),r.memoizedState=null,s}function fI(s,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,s===null){if($t){if(u.mode==="hidden")return s=hf(r,u),r.lanes=536870912,Uc(null,s);if(ip(r),(s=xe)?(s=lE(s,Ii),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Dr!==null?{id:bs,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},o=k0(s),o.return=r,r.child=o,Rn=r,xe=null)):s=null,s===null)throw kr(r);return r.lanes=536870912,null}return hf(r,u)}var g=s.memoizedState;if(g!==null){var b=g.dehydrated;if(ip(r),d)if(r.flags&256)r.flags&=-257,r=Wb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Je||Ko(s,r,o,!1),d=(o&s.childLanes)!==0,Je||d){if(u=ye,u!==null&&(b=Da(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,qa(s,b),ni(u,s,b),wp;Ef(),r=Wb(s,r,o)}else s=g.treeContext,xe=Mi(b.nextSibling),Rn=r,$t=!0,Mr=null,Ii=!1,s!==null&&P0(r,s),r=hf(r,u),r.flags|=4096;return r}return s=qs(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function ff(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Sp(s,r,o,u,d){return Ka(r),o=rp(s,r,o,u,void 0,d),u=ap(),s!==null&&!Je?(op(s,r,d),Xs(s,r,d)):($t&&u&&Um(r),r.flags|=1,In(s,r,o,d),r.child)}function $b(s,r,o,u,d,g){return Ka(r),r.updateQueue=null,o=tb(r,u,o,d),J0(s),u=ap(),s!==null&&!Je?(op(s,r,g),Xs(s,r,g)):($t&&u&&Um(r),r.flags|=1,In(s,r,o,g),r.child)}function Zb(s,r,o,u,d){if(Ka(r),r.stateNode===null){var g=qo,b=o.contextType;typeof b=="object"&&b!==null&&(g=Nn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ep,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},$m(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Nn(b):qo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Tp(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Ep.enqueueReplaceState(g,g.state,null),Oc(r,u,g,d),Vc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var w=r.memoizedProps,D=Ja(o,w);g.props=D;var q=g.context,Z=o.contextType;b=qo,typeof Z=="object"&&Z!==null&&(b=Nn(Z));var it=o.getDerivedStateFromProps;Z=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||q!==b)&&jb(r,g,u,b),Or=!1;var H=r.memoizedState;g.state=H,Oc(r,u,g,d),Vc(),q=r.memoizedState,w||H!==q||Or?(typeof it=="function"&&(Tp(r,o,it,u),q=r.memoizedState),(D=Or||Lb(r,o,D,u,H,q,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),g.props=u,g.state=q,g.context=b,u=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Zm(s,r),b=r.memoizedProps,Z=Ja(o,b),g.props=Z,it=r.pendingProps,H=g.context,q=o.contextType,D=qo,typeof q=="object"&&q!==null&&(D=Nn(q)),w=o.getDerivedStateFromProps,(q=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==it||H!==D)&&jb(r,g,u,D),Or=!1,H=r.memoizedState,g.state=H,Oc(r,u,g,d),Vc();var Q=r.memoizedState;b!==it||H!==Q||Or||s!==null&&s.dependencies!==null&&Yh(s.dependencies)?(typeof w=="function"&&(Tp(r,o,w,u),Q=r.memoizedState),(Z=Or||Lb(r,o,Z,u,H,Q,D)||s!==null&&s.dependencies!==null&&Yh(s.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&H===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&H===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=D,u=Z):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&H===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&H===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,ff(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=$a(r,s.child,null,d),r.child=$a(r,null,o,d)):In(s,r,o,d),r.memoizedState=g.state,s=r.child):s=Xs(s,r,d),s}function Jb(s,r,o,u){return Ga(),r.flags|=256,In(s,r,o,u),r.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(s){return{baseLanes:s,cachePool:F0()}}function Rp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=yi),s}function tT(s,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=s!==null&&s.memoizedState===null?!1:(He.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if($t){if(d?jr(r):zr(),(s=xe)?(s=lE(s,Ii),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Dr!==null?{id:bs,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},o=k0(s),o.return=r,r.child=o,Rn=r,xe=null)):s=null,s===null)throw kr(r);return ug(s)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(zr(),d=r.mode,w=df({mode:"hidden",children:w},d),u=Ha(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Cp(o),u.childLanes=Rp(s,b,o),r.memoizedState=Ap,Uc(null,u)):(jr(r),Np(r,w))}var D=s.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(g)r.flags&256?(jr(r),r.flags&=-257,r=Ip(s,r,o)):r.memoizedState!==null?(zr(),r.child=s.child,r.flags|=128,r=null):(zr(),w=u.fallback,d=r.mode,u=df({mode:"visible",children:u.children},d),w=Ha(w,d,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,$a(r,s.child,null,o),u=r.child,u.memoizedState=Cp(o),u.childLanes=Rp(s,b,o),r.memoizedState=Ap,r=Uc(null,u));else if(jr(r),ug(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(i(419)),u.stack="",u.digest=b,Rc({value:u,source:null,stack:null}),r=Ip(s,r,o)}else if(Je||Ko(s,r,o,!1),b=(o&s.childLanes)!==0,Je||b){if(b=ye,b!==null&&(u=Da(b,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,qa(s,u),ni(b,s,u),wp;cg(w)||Ef(),r=Ip(s,r,o)}else cg(w)?(r.flags|=192,r.child=s.child,r=null):(s=D.treeContext,xe=Mi(w.nextSibling),Rn=r,$t=!0,Mr=null,Ii=!1,s!==null&&P0(r,s),r=Np(r,u.children),r.flags|=4096);return r}return d?(zr(),w=u.fallback,d=r.mode,D=s.child,q=D.sibling,u=qs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,q!==null?w=qs(q,w):(w=Ha(w,d,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,Uc(null,u),u=r.child,w=s.child.memoizedState,w===null?w=Cp(o):(d=w.cachePool,d!==null?(D=$e._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=F0(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=Rp(s,b,o),r.memoizedState=Ap,Uc(s.child,u)):(jr(r),o=s.child,s=o.sibling,o=qs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function Np(s,r){return r=df({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function df(s,r){return s=di(22,s,null,r),s.lanes=0,s}function Ip(s,r,o){return $a(r,s.child,null,o),s=Np(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function eT(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Gm(s.return,r,o)}function Dp(s,r,o,u,d,g){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=g)}function nT(s,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var b=He.current,w=(b&2)!==0;if(w?(b=b&1|2,r.flags|=128):b&=1,ct(He,b),In(s,r,u,o),u=$t?Cc:0,!w&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eT(s,o,r);else if(s.tag===19)eT(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)s=o.alternate,s!==null&&tf(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Dp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&tf(s)===null){r.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}Dp(r,!0,o,null,g,u);break;case"together":Dp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Xs(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Fr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Ko(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=qs(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=qs(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Mp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Yh(s)))}function dI(s,r,o){switch(r.tag){case 3:Re(r,r.stateNode.containerInfo),Vr(r,$e,s.memoizedState.cache),Ga();break;case 27:case 5:ze(r);break;case 4:Re(r,r.stateNode.containerInfo);break;case 10:Vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ip(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(jr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?tT(s,r,o):(jr(r),s=Xs(s,r,o),s!==null?s.sibling:null);jr(r);break;case 19:var d=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ko(s,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return nT(s,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ct(He,He.current),u)break;return null;case 22:return r.lanes=0,Qb(s,r,o,r.pendingProps);case 24:Vr(r,$e,s.memoizedState.cache)}return Xs(s,r,o)}function iT(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Je=!0;else{if(!Mp(s,o)&&(r.flags&128)===0)return Je=!1,dI(s,r,o);Je=(s.flags&131072)!==0}else Je=!1,$t&&(r.flags&1048576)!==0&&O0(r,Cc,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=Xa(r.elementType),r.type=s,typeof s=="function")Lm(s)?(u=Ja(s,u),r.tag=1,r=Zb(null,r,s,u,o)):(r.tag=0,r=Sp(null,r,s,u,o));else{if(s!=null){var d=s.$$typeof;if(d===ot){r.tag=11,r=Gb(null,r,s,u,o);break t}else if(d===R){r.tag=14,r=Yb(null,r,s,u,o);break t}}throw r=Gt(s)||s,Error(i(306,r,""))}}return r;case 0:return Sp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Ja(u,r.pendingProps),Zb(s,r,u,d,o);case 3:t:{if(Re(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Zm(s,r),Oc(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Vr(r,$e,u),u!==g.cache&&Ym(r,[$e],o,!0),Vc(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Jb(s,r,u,o);break t}else if(u!==d){d=Ci(Error(i(424)),r),Rc(d),r=Jb(s,r,u,o);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(xe=Mi(s.firstChild),Rn=r,$t=!0,Mr=null,Ii=!0,o=Q0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ga(),u===d){r=Xs(s,r,o);break t}In(s,r,u,o)}r=r.child}return r;case 26:return ff(s,r),s===null?(o=mE(r.type,null,r.pendingProps,null))?r.memoizedState=o:$t||(o=r.type,s=r.pendingProps,u=Nf(It.current).createElement(o),u[Qe]=r,u[_n]=s,Dn(u,o,s),Xe(u),r.stateNode=u):r.memoizedState=mE(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ze(r),s===null&&$t&&(u=r.stateNode=hE(r.type,r.pendingProps,It.current),Rn=r,Ii=!0,d=xe,Kr(r.type)?(hg=d,xe=Mi(u.firstChild)):xe=d),In(s,r,r.pendingProps.children,o),ff(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&$t&&((d=u=xe)&&(u=qI(u,r.type,r.pendingProps,Ii),u!==null?(r.stateNode=u,Rn=r,xe=Mi(u.firstChild),Ii=!1,d=!0):d=!1),d||kr(r)),ze(r),d=r.type,g=r.pendingProps,b=s!==null?s.memoizedProps:null,u=g.children,ag(d,g)?u=null:b!==null&&ag(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=rp(s,r,sI,null,null,o),eu._currentValue=d),ff(s,r),In(s,r,u,o),r.child;case 6:return s===null&&$t&&((s=o=xe)&&(o=HI(o,r.pendingProps,Ii),o!==null?(r.stateNode=o,Rn=r,xe=null,s=!0):s=!1),s||kr(r)),null;case 13:return tT(s,r,o);case 4:return Re(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=$a(r,null,u,o):In(s,r,u,o),r.child;case 11:return Gb(s,r,r.type,r.pendingProps,o);case 7:return In(s,r,r.pendingProps,o),r.child;case 8:return In(s,r,r.pendingProps.children,o),r.child;case 12:return In(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Vr(r,r.type,u.value),In(s,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ka(r),d=Nn(d),u=u(d),r.flags|=1,In(s,r,u,o),r.child;case 14:return Yb(s,r,r.type,r.pendingProps,o);case 15:return Kb(s,r,r.type,r.pendingProps,o);case 19:return nT(s,r,o);case 31:return fI(s,r,o);case 22:return Qb(s,r,o,r.pendingProps);case 24:return Ka(r),u=Nn($e),s===null?(d=Xm(),d===null&&(d=ye,g=Km(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},$m(r),Vr(r,$e,d)):((s.lanes&o)!==0&&(Zm(s,r),Oc(r,null,null,o),Vc()),d=s.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Vr(r,$e,u)):(u=g.cache,Vr(r,$e,u),u!==d.cache&&Ym(r,[$e],o,!0))),In(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ws(s){s.flags|=4}function kp(s,r,o,u,d){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(IT())s.flags|=8192;else throw Wa=Wh,Wm}else s.flags&=-16777217}function sT(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!vE(r))if(IT())s.flags|=8192;else throw Wa=Wh,Wm}function mf(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Pn():536870912,s.lanes|=r,rl|=r)}function Bc(s,r){if(!$t)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function we(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function mI(s,r,o){var u=r.pendingProps;switch(Bm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(r),null;case 1:return we(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ys($e),ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Yo(r)?Ws(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qm())),we(r),null;case 26:var d=r.type,g=r.memoizedState;return s===null?(Ws(r),g!==null?(we(r),sT(r,g)):(we(r),kp(r,d,null,u,o))):g?g!==s.memoizedState?(Ws(r),we(r),sT(r,g)):(we(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ws(r),we(r),kp(r,d,s,u,o)),null;case 27:if(qn(r),o=It.current,d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ws(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return we(r),null}s=ft.current,Yo(r)?L0(r):(s=hE(d,u,o),r.stateNode=s,Ws(r))}return we(r),null;case 5:if(qn(r),d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ws(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return we(r),null}if(g=ft.current,Yo(r))L0(r);else{var b=Nf(It.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}g[Qe]=r,g[_n]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;t:switch(Dn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Ws(r)}}return we(r),kp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ws(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=It.current,Yo(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,d=Rn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[Qe]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||tE(s.nodeValue,o)),s||kr(r,!0)}else s=Nf(s).createTextNode(u),s[Qe]=r,r.stateNode=s}return we(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Yo(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Qe]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;we(r),s=!1}else o=qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(pi(r),r):(pi(r),null);if((r.flags&128)!==0)throw Error(i(558))}return we(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Yo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Qe]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;we(r),d=!1}else d=qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(pi(r),r):(pi(r),null)}return pi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),mf(r,r.updateQueue),we(r),null);case 4:return ee(),s===null&&eg(r.stateNode.containerInfo),we(r),null;case 10:return Ys(r.type),we(r),null;case 19:if(J(He),u=r.memoizedState,u===null)return we(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)Bc(u,!1);else{if(Pe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=tf(s),g!==null){for(r.flags|=128,Bc(u,!1),s=g.updateQueue,r.updateQueue=s,mf(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)M0(o,s),o=o.sibling;return ct(He,He.current&1|2),$t&&Hs(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&wn()>vf&&(r.flags|=128,d=!0,Bc(u,!1),r.lanes=4194304)}else{if(!d)if(s=tf(g),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,mf(r,s),Bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!$t)return we(r),null}else 2*wn()-u.renderingStartTime>vf&&o!==536870912&&(r.flags|=128,d=!0,Bc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(s=u.last,s!==null?s.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=wn(),s.sibling=null,o=He.current,ct(He,d?o&1|2:o&1),$t&&Hs(r,u.treeForkCount),s):(we(r),null);case 22:case 23:return pi(r),np(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(we(r),r.subtreeFlags&6&&(r.flags|=8192)):we(r),o=r.updateQueue,o!==null&&mf(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&J(Qa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ys($e),we(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function pI(s,r){switch(Bm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ys($e),ee(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return qn(r),null;case 31:if(r.memoizedState!==null){if(pi(r),r.alternate===null)throw Error(i(340));Ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(pi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return J(He),null;case 4:return ee(),null;case 10:return Ys(r.type),null;case 22:case 23:return pi(r),np(),s!==null&&J(Qa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ys($e),null;case 25:return null;default:return null}}function rT(s,r){switch(Bm(r),r.tag){case 3:Ys($e),ee();break;case 26:case 27:case 5:qn(r);break;case 4:ee();break;case 31:r.memoizedState!==null&&pi(r);break;case 13:pi(r);break;case 19:J(He);break;case 10:Ys(r.type);break;case 22:case 23:pi(r),np(),s!==null&&J(Qa);break;case 24:Ys($e)}}function Fc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&s)===s){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(w){fe(r,r.return,w)}}function Ur(s,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&s)===s){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=r;var D=o,q=w;try{q()}catch(Z){fe(d,D,Z)}}}u=u.next}while(u!==g)}}catch(Z){fe(r,r.return,Z)}}function aT(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{W0(r,o)}catch(u){fe(s,s.return,u)}}}function oT(s,r,o){o.props=Ja(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){fe(s,r,u)}}function qc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(d){fe(s,r,d)}}function Es(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){fe(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){fe(s,r,d)}else o.current=null}function lT(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){fe(s,s.return,d)}}function Vp(s,r,o){try{var u=s.stateNode;LI(u,s.type,o,r),u[_n]=r}catch(d){fe(s,s.return,d)}}function cT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Kr(s.type)||s.tag===4}function Op(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||cT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Kr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Fi));else if(u!==4&&(u===27&&Kr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Pp(s,r,o),s=s.sibling;s!==null;)Pp(s,r,o),s=s.sibling}function pf(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Kr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(pf(s,r,o),s=s.sibling;s!==null;)pf(s,r,o),s=s.sibling}function uT(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Dn(r,u,o),r[Qe]=s,r[_n]=o}catch(g){fe(s,s.return,g)}}var $s=!1,tn=!1,Lp=!1,hT=typeof WeakSet=="function"?WeakSet:Set,bn=null;function gI(s,r){if(s=s.containerInfo,sg=Pf,s=x0(s),Im(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,D=-1,q=0,Z=0,it=s,H=null;e:for(;;){for(var Q;it!==o||d!==0&&it.nodeType!==3||(w=b+d),it!==g||u!==0&&it.nodeType!==3||(D=b+u),it.nodeType===3&&(b+=it.nodeValue.length),(Q=it.firstChild)!==null;)H=it,it=Q;for(;;){if(it===s)break e;if(H===o&&++q===d&&(w=b),H===g&&++Z===u&&(D=b),(Q=it.nextSibling)!==null)break;it=H,H=it.parentNode}it=Q}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(rg={focusedElem:s,selectionRange:o},Pf=!1,bn=r;bn!==null;)if(r=bn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,bn=s;else for(;bn!==null;){switch(r=bn,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)d=s[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var gt=Ja(o.type,d);s=u.getSnapshotBeforeUpdate(gt,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(St){fe(o,o.return,St)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)lg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":lg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,bn=s;break}bn=r.return}}function fT(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Js(s,o),u&4&&Fc(5,o);break;case 1:if(Js(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){fe(o,o.return,b)}else{var d=Ja(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){fe(o,o.return,b)}}u&64&&aT(o),u&512&&qc(o,o.return);break;case 3:if(Js(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{W0(s,r)}catch(b){fe(o,o.return,b)}}break;case 27:r===null&&u&4&&uT(o);case 26:case 5:Js(s,o),r===null&&u&4&&lT(o),u&512&&qc(o,o.return);break;case 12:Js(s,o);break;case 31:Js(s,o),u&4&&pT(s,o);break;case 13:Js(s,o),u&4&&gT(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=SI.bind(null,o),GI(s,o))));break;case 22:if(u=o.memoizedState!==null||$s,!u){r=r!==null&&r.memoizedState!==null||tn,d=$s;var g=tn;$s=u,(tn=r)&&!g?tr(s,o,(o.subtreeFlags&8772)!==0):Js(s,o),$s=d,tn=g}break;case 30:break;default:Js(s,o)}}function dT(s){var r=s.alternate;r!==null&&(s.alternate=null,dT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&No(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ie=null,Zn=!1;function Zs(s,r,o){for(o=o.child;o!==null;)mT(s,r,o),o=o.sibling}function mT(s,r,o){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:tn||Es(o,r),Zs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||Es(o,r);var u=Ie,d=Zn;Kr(o.type)&&(Ie=o.stateNode,Zn=!1),Zs(s,r,o),Zc(o.stateNode),Ie=u,Zn=d;break;case 5:tn||Es(o,r);case 6:if(u=Ie,d=Zn,Ie=null,Zs(s,r,o),Ie=u,Zn=d,Ie!==null)if(Zn)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(o.stateNode)}catch(g){fe(o,r,g)}else try{Ie.removeChild(o.stateNode)}catch(g){fe(o,r,g)}break;case 18:Ie!==null&&(Zn?(s=Ie,aE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),dl(s)):aE(Ie,o.stateNode));break;case 4:u=Ie,d=Zn,Ie=o.stateNode.containerInfo,Zn=!0,Zs(s,r,o),Ie=u,Zn=d;break;case 0:case 11:case 14:case 15:Ur(2,o,r),tn||Ur(4,o,r),Zs(s,r,o);break;case 1:tn||(Es(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&oT(o,r,u)),Zs(s,r,o);break;case 21:Zs(s,r,o);break;case 22:tn=(u=tn)||o.memoizedState!==null,Zs(s,r,o),tn=u;break;default:Zs(s,r,o)}}function pT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{dl(s)}catch(o){fe(r,r.return,o)}}}function gT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{dl(s)}catch(o){fe(r,r.return,o)}}function yI(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new hT),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new hT),r;default:throw Error(i(435,s.tag))}}function gf(s,r){var o=yI(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=AI.bind(null,s,u);u.then(d,d)}})}function Jn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=s,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Kr(w.type)){Ie=w.stateNode,Zn=!1;break t}break;case 5:Ie=w.stateNode,Zn=!1;break t;case 3:case 4:Ie=w.stateNode.containerInfo,Zn=!0;break t}w=w.return}if(Ie===null)throw Error(i(160));mT(g,b,d),Ie=null,Zn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)yT(r,s),r=r.sibling}var Qi=null;function yT(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Jn(r,s),ti(s),u&4&&(Ur(3,s,s.return),Fc(3,s),Ur(5,s,s.return));break;case 1:Jn(r,s),ti(s),u&512&&(tn||o===null||Es(o,o.return)),u&64&&$s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Qi;if(Jn(r,s),ti(s),u&512&&(tn||o===null||Es(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){t:{u=s.type,o=s.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ls]||g[Qe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Dn(g,u,o),g[Qe]=s,Xe(g),u=g;break t;case"link":var b=yE("link","href",d).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=d.createElement(u),Dn(g,u,o),d.head.appendChild(g);break;case"meta":if(b=yE("meta","content",d).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=d.createElement(u),Dn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Qe]=s,Xe(g),u=g}s.stateNode=u}else _E(d,s.type,s.stateNode);else s.stateNode=gE(d,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?_E(d,s.type,s.stateNode):gE(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Vp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Jn(r,s),ti(s),u&512&&(tn||o===null||Es(o,o.return)),o!==null&&u&4&&Vp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Jn(r,s),ti(s),u&512&&(tn||o===null||Es(o,o.return)),s.flags&32){d=s.stateNode;try{$n(d,"")}catch(gt){fe(s,s.return,gt)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,Vp(s,d,o!==null?o.memoizedProps:d)),u&1024&&(Lp=!0);break;case 6:if(Jn(r,s),ti(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(gt){fe(s,s.return,gt)}}break;case 3:if(Mf=null,d=Qi,Qi=If(r.containerInfo),Jn(r,s),Qi=d,ti(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{dl(r.containerInfo)}catch(gt){fe(s,s.return,gt)}Lp&&(Lp=!1,_T(s));break;case 4:u=Qi,Qi=If(s.stateNode.containerInfo),Jn(r,s),ti(s),Qi=u;break;case 12:Jn(r,s),ti(s);break;case 31:Jn(r,s),ti(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gf(s,u)));break;case 13:Jn(r,s),ti(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_f=wn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gf(s,u)));break;case 22:d=s.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,q=$s,Z=tn;if($s=q||d,tn=Z||D,Jn(r,s),tn=Z,$s=q,ti(s),u&8192)t:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||D||$s||tn||to(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var it=D.memoizedProps.style,H=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(gt){fe(D,D.return,gt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(gt){fe(D,D.return,gt)}}}else if(r.tag===18){if(o===null){D=r;try{var Q=D.stateNode;d?oE(Q,!0):oE(D.stateNode,!1)}catch(gt){fe(D,D.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,gf(s,o))));break;case 19:Jn(r,s),ti(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gf(s,u)));break;case 30:break;case 21:break;default:Jn(r,s),ti(s)}}function ti(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(cT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=Op(s);pf(s,g,d);break;case 5:var b=o.stateNode;o.flags&32&&($n(b,""),o.flags&=-33);var w=Op(s);pf(s,w,b);break;case 3:case 4:var D=o.stateNode.containerInfo,q=Op(s);Pp(s,q,D);break;default:throw Error(i(161))}}catch(Z){fe(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function _T(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;_T(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Js(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fT(s,r.alternate,r),r=r.sibling}function to(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),to(r);break;case 1:Es(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&oT(r,r.return,o),to(r);break;case 27:Zc(r.stateNode);case 26:case 5:Es(r,r.return),to(r);break;case 22:r.memoizedState===null&&to(r);break;case 30:to(r);break;default:to(r)}s=s.sibling}}function tr(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=s,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:tr(d,g,o),Fc(4,g);break;case 1:if(tr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){fe(u,u.return,q)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)X0(D[d],w)}catch(q){fe(u,u.return,q)}}o&&b&64&&aT(g),qc(g,g.return);break;case 27:uT(g);case 26:case 5:tr(d,g,o),o&&u===null&&b&4&&lT(g),qc(g,g.return);break;case 12:tr(d,g,o);break;case 31:tr(d,g,o),o&&b&4&&pT(d,g);break;case 13:tr(d,g,o),o&&b&4&&gT(d,g);break;case 22:g.memoizedState===null&&tr(d,g,o),qc(g,g.return);break;case 30:break;default:tr(d,g,o)}r=r.sibling}}function jp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Nc(o))}function zp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Nc(s))}function Xi(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vT(s,r,o,u),r=r.sibling}function vT(s,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(s,r,o,u),d&2048&&Fc(9,r);break;case 1:Xi(s,r,o,u);break;case 3:Xi(s,r,o,u),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Nc(s)));break;case 12:if(d&2048){Xi(s,r,o,u),s=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){fe(r,r.return,D)}}else Xi(s,r,o,u);break;case 31:Xi(s,r,o,u);break;case 13:Xi(s,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Xi(s,r,o,u):Hc(s,r):g._visibility&2?Xi(s,r,o,u):(g._visibility|=2,nl(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&jp(b,r);break;case 24:Xi(s,r,o,u),d&2048&&zp(r.alternate,r);break;default:Xi(s,r,o,u)}}function nl(s,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,b=r,w=o,D=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:nl(g,b,w,D,d),Fc(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?nl(g,b,w,D,d):Hc(g,b):(Z._visibility|=2,nl(g,b,w,D,d)),d&&q&2048&&jp(b.alternate,b);break;case 24:nl(g,b,w,D,d),d&&q&2048&&zp(b.alternate,b);break;default:nl(g,b,w,D,d)}r=r.sibling}}function Hc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,d=u.flags;switch(u.tag){case 22:Hc(o,u),d&2048&&jp(u.alternate,u);break;case 24:Hc(o,u),d&2048&&zp(u.alternate,u);break;default:Hc(o,u)}r=r.sibling}}var Gc=8192;function il(s,r,o){if(s.subtreeFlags&Gc)for(s=s.child;s!==null;)bT(s,r,o),s=s.sibling}function bT(s,r,o){switch(s.tag){case 26:il(s,r,o),s.flags&Gc&&s.memoizedState!==null&&iD(o,Qi,s.memoizedState,s.memoizedProps);break;case 5:il(s,r,o);break;case 3:case 4:var u=Qi;Qi=If(s.stateNode.containerInfo),il(s,r,o),Qi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Gc,Gc=16777216,il(s,r,o),Gc=u):il(s,r,o));break;default:il(s,r,o)}}function TT(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Yc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];bn=u,xT(u,s)}TT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ET(s),s=s.sibling}function ET(s){switch(s.tag){case 0:case 11:case 15:Yc(s),s.flags&2048&&Ur(9,s,s.return);break;case 3:Yc(s);break;case 12:Yc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,yf(s)):Yc(s);break;default:Yc(s)}}function yf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];bn=u,xT(u,s)}TT(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),yf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,yf(r));break;default:yf(r)}s=s.sibling}}function xT(s,r){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:Ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,bn=u;else t:for(o=s;bn!==null;){u=bn;var d=u.sibling,g=u.return;if(dT(u),u===o){bn=null;break t}if(d!==null){d.return=g,bn=d;break t}bn=g}}}var _I={getCacheForType:function(s){var r=Nn($e),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return Nn($e).controller.signal}},vI=typeof WeakMap=="function"?WeakMap:Map,ae=0,ye=null,Ut=null,Yt=0,he=0,gi=null,Br=!1,sl=!1,Up=!1,er=0,Pe=0,Fr=0,eo=0,Bp=0,yi=0,rl=0,Kc=null,ei=null,Fp=!1,_f=0,wT=0,vf=1/0,bf=null,qr=null,ln=0,Hr=null,al=null,nr=0,qp=0,Hp=null,ST=null,Qc=0,Gp=null;function _i(){return(ae&2)!==0&&Yt!==0?Yt&-Yt:$.T!==null?$p():zs()}function AT(){if(yi===0)if((Yt&536870912)===0||$t){var s=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),yi=s}else yi=536870912;return s=mi.current,s!==null&&(s.flags|=32),yi}function ni(s,r,o){(s===ye&&(he===2||he===9)||s.cancelPendingCommit!==null)&&(ol(s,0),Gr(s,Yt,yi,!1)),Ls(s,o),((ae&2)===0||s!==ye)&&(s===ye&&((ae&2)===0&&(eo|=o),Pe===4&&Gr(s,Yt,yi,!1)),xs(s))}function CT(s,r,o){if((ae&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||yn(s,r),d=u?EI(s,r):Kp(s,r,!0),g=u;do{if(d===0){sl&&!u&&Gr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!bI(o)){d=Kp(s,r,!1),g=!1;continue}if(d===2){if(g=r,s.errorRecoveryDisabledLanes&g)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=s;d=Kc;var D=w.current.memoizedState.isDehydrated;if(D&&(ol(w,b).flags|=256),b=Kp(w,b,!1),b!==2){if(Up&&!D){w.errorRecoveryDisabledLanes|=g,eo|=g,d=4;break t}g=ei,ei=d,g!==null&&(ei===null?ei=g:ei.push.apply(ei,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){ol(s,0),Gr(s,r,0,!0);break}t:{switch(u=s,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Gr(u,r,yi,!Br);break t;case 2:ei=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=_f+300-wn(),10<d)){if(Gr(u,r,yi,!Br),ci(u,0,!0)!==0)break t;nr=r,u.timeoutHandle=sE(RT.bind(null,u,o,ei,bf,Fp,r,yi,eo,rl,Br,g,"Throttled",-0,0),d);break t}RT(u,o,ei,bf,Fp,r,yi,eo,rl,Br,g,null,-0,0)}}break}while(!0);xs(s)}function RT(s,r,o,u,d,g,b,w,D,q,Z,it,H,Q){if(s.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fi},bT(r,g,it);var gt=(g&62914560)===g?_f-wn():(g&4194048)===g?wT-wn():0;if(gt=sD(it,gt),gt!==null){nr=g,s.cancelPendingCommit=gt(PT.bind(null,s,r,g,o,u,d,b,w,D,Z,it,null,H,Q)),Gr(s,g,b,!q);return}}PT(s,r,g,o,u,d,b,w,D)}function bI(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!fi(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(s,r,o,u){r&=~Bp,r&=~eo,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var d=r;0<d;){var g=31-ke(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&as(s,o,r)}function Tf(){return(ae&6)===0?(Xc(0),!1):!0}function Yp(){if(Ut!==null){if(he===0)var s=Ut.return;else s=Ut,Gs=Ya=null,lp(s),$o=null,Dc=0,s=Ut;for(;s!==null;)rT(s.alternate,s),s=s.return;Ut=null}}function ol(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,UI(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),nr=0,Yp(),ye=s,Ut=o=qs(s.current,null),Yt=r,he=0,gi=null,Br=!1,sl=yn(s,r),Up=!1,rl=yi=Bp=eo=Fr=Pe=0,ei=Kc=null,Fp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var d=31-ke(u),g=1<<d;r|=s[d],u&=~g}return er=r,Bh(),o}function NT(s,r){Ot=null,$.H=zc,r===Wo||r===Xh?(r=G0(),he=3):r===Wm?(r=G0(),he=4):he=r===wp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gi=r,Ut===null&&(Pe=1,uf(s,Ci(r,s.current)))}function IT(){var s=mi.current;return s===null?!0:(Yt&4194048)===Yt?Di===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?s===Di:!1}function DT(){var s=$.H;return $.H=zc,s===null?zc:s}function MT(){var s=$.A;return $.A=_I,s}function Ef(){Pe=4,Br||(Yt&4194048)!==Yt&&mi.current!==null||(sl=!0),(Fr&134217727)===0&&(eo&134217727)===0||ye===null||Gr(ye,Yt,yi,!1)}function Kp(s,r,o){var u=ae;ae|=2;var d=DT(),g=MT();(ye!==s||Yt!==r)&&(bf=null,ol(s,r)),r=!1;var b=Pe;t:do try{if(he!==0&&Ut!==null){var w=Ut,D=gi;switch(he){case 8:Yp(),b=6;break t;case 3:case 2:case 9:case 6:mi.current===null&&(r=!0);var q=he;if(he=0,gi=null,ll(s,w,D,q),o&&sl){b=0;break t}break;default:q=he,he=0,gi=null,ll(s,w,D,q)}}TI(),b=Pe;break}catch(Z){NT(s,Z)}while(!0);return r&&s.shellSuspendCounter++,Gs=Ya=null,ae=u,$.H=d,$.A=g,Ut===null&&(ye=null,Yt=0,Bh()),b}function TI(){for(;Ut!==null;)kT(Ut)}function EI(s,r){var o=ae;ae|=2;var u=DT(),d=MT();ye!==s||Yt!==r?(bf=null,vf=wn()+500,ol(s,r)):sl=yn(s,r);t:do try{if(he!==0&&Ut!==null){r=Ut;var g=gi;e:switch(he){case 1:he=0,gi=null,ll(s,r,g,1);break;case 2:case 9:if(q0(g)){he=0,gi=null,VT(r);break}r=function(){he!==2&&he!==9||ye!==s||(he=7),xs(s)},g.then(r,r);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:q0(g)?(he=0,gi=null,VT(r)):(he=0,gi=null,ll(s,r,g,7));break;case 5:var b=null;switch(Ut.tag){case 26:b=Ut.memoizedState;case 5:case 27:var w=Ut;if(b?vE(b):w.stateNode.complete){he=0,gi=null;var D=w.sibling;if(D!==null)Ut=D;else{var q=w.return;q!==null?(Ut=q,xf(q)):Ut=null}break e}}he=0,gi=null,ll(s,r,g,5);break;case 6:he=0,gi=null,ll(s,r,g,6);break;case 8:Yp(),Pe=6;break t;default:throw Error(i(462))}}xI();break}catch(Z){NT(s,Z)}while(!0);return Gs=Ya=null,$.H=u,$.A=d,ae=o,Ut!==null?0:(ye=null,Yt=0,Bh(),Pe)}function xI(){for(;Ut!==null&&!wo();)kT(Ut)}function kT(s){var r=iT(s.alternate,s,er);s.memoizedProps=s.pendingProps,r===null?xf(s):Ut=r}function VT(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=$b(o,r,r.pendingProps,r.type,void 0,Yt);break;case 11:r=$b(o,r,r.pendingProps,r.type.render,r.ref,Yt);break;case 5:lp(r);default:rT(o,r),r=Ut=M0(r,er),r=iT(o,r,er)}s.memoizedProps=s.pendingProps,r===null?xf(s):Ut=r}function ll(s,r,o,u){Gs=Ya=null,lp(r),$o=null,Dc=0;var d=r.return;try{if(hI(s,d,r,o,Yt)){Pe=1,uf(s,Ci(o,s.current)),Ut=null;return}}catch(g){if(d!==null)throw Ut=d,g;Pe=1,uf(s,Ci(o,s.current)),Ut=null;return}r.flags&32768?($t||u===1?s=!0:sl||(Yt&536870912)!==0?s=!1:(Br=s=!0,(u===2||u===9||u===3||u===6)&&(u=mi.current,u!==null&&u.tag===13&&(u.flags|=16384))),OT(r,s)):xf(r)}function xf(s){var r=s;do{if((r.flags&32768)!==0){OT(r,Br);return}s=r.return;var o=mI(r.alternate,r,er);if(o!==null){Ut=o;return}if(r=r.sibling,r!==null){Ut=r;return}Ut=r=s}while(r!==null);Pe===0&&(Pe=5)}function OT(s,r){do{var o=pI(s.alternate,s);if(o!==null){o.flags&=32767,Ut=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ut=s;return}Ut=s=o}while(s!==null);Pe=6,Ut=null}function PT(s,r,o,u,d,g,b,w,D){s.cancelPendingCommit=null;do wf();while(ln!==0);if((ae&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Om,js(s,o,g,b,w,D),s===ye&&(Ut=ye=null,Yt=0),al=r,Hr=s,nr=o,qp=g,Hp=d,ST=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CI(Ti,function(){return BT(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,d=at.p,at.p=2,b=ae,ae|=4;try{gI(s,r,o)}finally{ae=b,at.p=d,$.T=u}}ln=1,LT(),jT(),zT()}}function LT(){if(ln===1){ln=0;var s=Hr,r=al,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=at.p;at.p=2;var d=ae;ae|=4;try{yT(r,s);var g=rg,b=x0(s.containerInfo),w=g.focusedElem,D=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&E0(w.ownerDocument.documentElement,w)){if(D!==null&&Im(w)){var q=D.start,Z=D.end;if(Z===void 0&&(Z=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(Z,w.value.length);else{var it=w.ownerDocument||document,H=it&&it.defaultView||window;if(H.getSelection){var Q=H.getSelection(),gt=w.textContent.length,St=Math.min(D.start,gt),ge=D.end===void 0?St:Math.min(D.end,gt);!Q.extend&&St>ge&&(b=ge,ge=St,St=b);var U=T0(w,St),O=T0(w,ge);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var F=it.createRange();F.setStart(U.node,U.offset),Q.removeAllRanges(),St>ge?(Q.addRange(F),Q.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Q.addRange(F))}}}}for(it=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&it.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var tt=it[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Pf=!!sg,rg=sg=null}finally{ae=d,at.p=u,$.T=o}}s.current=r,ln=2}}function jT(){if(ln===2){ln=0;var s=Hr,r=al,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=at.p;at.p=2;var d=ae;ae|=4;try{fT(s,r.alternate,r)}finally{ae=d,at.p=u,$.T=o}}ln=3}}function zT(){if(ln===4||ln===3){ln=0,br();var s=Hr,r=al,o=nr,u=ST;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ln=5:(ln=0,al=Hr=null,UT(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(qr=null),Ke(o),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=$.T,d=at.p,at.p=2,$.T=null;try{for(var g=s.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{$.T=r,at.p=d}}(nr&3)!==0&&wf(),xs(s),d=s.pendingLanes,(o&261930)!==0&&(d&42)!==0?s===Gp?Qc++:(Qc=0,Gp=s):Qc=0,Xc(0)}}function UT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Nc(r)))}function wf(){return LT(),jT(),zT(),BT()}function BT(){if(ln!==5)return!1;var s=Hr,r=qp;qp=0;var o=Ke(nr),u=$.T,d=at.p;try{at.p=32>o?32:o,$.T=null,o=Hp,Hp=null;var g=Hr,b=nr;if(ln=0,al=Hr=null,nr=0,(ae&6)!==0)throw Error(i(331));var w=ae;if(ae|=4,ET(g.current),vT(g,g.current,b,o),ae=w,Xc(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{at.p=d,$.T=u,UT(s,r)}}function FT(s,r,o){r=Ci(o,r),r=xp(s.stateNode,r,2),s=Lr(s,r,2),s!==null&&(Ls(s,2),xs(s))}function fe(s,r,o){if(s.tag===3)FT(s,s,o);else for(;r!==null;){if(r.tag===3){FT(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qr===null||!qr.has(u))){s=Ci(o,s),o=qb(2),u=Lr(r,o,2),u!==null&&(Hb(o,u,r,s),Ls(u,2),xs(u));break}}r=r.return}}function Qp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new vI;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(Up=!0,d.add(o),s=wI.bind(null,s,r,o),r.then(s,s))}function wI(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ye===s&&(Yt&o)===o&&(Pe===4||Pe===3&&(Yt&62914560)===Yt&&300>wn()-_f?(ae&2)===0&&ol(s,0):Bp|=o,rl===Yt&&(rl=0)),xs(s)}function qT(s,r){r===0&&(r=Pn()),s=qa(s,r),s!==null&&(Ls(s,r),xs(s))}function SI(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),qT(s,o)}function AI(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),qT(s,o)}function CI(s,r){return Ue(s,r)}var Sf=null,cl=null,Xp=!1,Af=!1,Wp=!1,Yr=0;function xs(s){s!==cl&&s.next===null&&(cl===null?Sf=cl=s:cl=cl.next=s),Af=!0,Xp||(Xp=!0,NI())}function Xc(s,r){if(!Wp&&Af){Wp=!0;do for(var o=!1,u=Sf;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-ke(42|s)+1)-1,g&=d&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,KT(u,g))}else g=Yt,g=ci(u,u===ye?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||yn(u,g)||(o=!0,KT(u,g));u=u.next}while(o);Wp=!1}}function RI(){HT()}function HT(){Af=Xp=!1;var s=0;Yr!==0&&zI()&&(s=Yr);for(var r=wn(),o=null,u=Sf;u!==null;){var d=u.next,g=GT(u,r);g===0?(u.next=null,o===null?Sf=d:o.next=d,d===null&&(cl=o)):(o=u,(s!==0||(g&3)!==0)&&(Af=!0)),u=d}ln!==0&&ln!==5||Xc(s),Yr!==0&&(Yr=0)}function GT(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var b=31-ke(g),w=1<<b,D=d[b];D===-1?((w&o)===0||(w&u)!==0)&&(d[b]=Fe(w,r)):D<=r&&(s.expiredLanes|=w),g&=~w}if(r=ye,o=Yt,o=ci(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(he===2||he===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&bi(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||yn(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&bi(u),Ke(o)){case 2:case 8:o=Ra;break;case 32:o=Ti;break;case 268435456:o=Ia;break;default:o=Ti}return u=YT.bind(null,s),o=Ue(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&bi(u),s.callbackPriority=2,s.callbackNode=null,2}function YT(s,r){if(ln!==0&&ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(wf()&&s.callbackNode!==o)return null;var u=Yt;return u=ci(s,s===ye?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(CT(s,u,r),GT(s,wn()),s.callbackNode!=null&&s.callbackNode===o?YT.bind(null,s):null)}function KT(s,r){if(wf())return null;CT(s,r,!0)}function NI(){BI(function(){(ae&6)!==0?Ue(Ps,RI):HT()})}function $p(){if(Yr===0){var s=Qo;s===0&&(s=wt,wt<<=1,(wt&261888)===0&&(wt=256)),Yr=s}return Yr}function QT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ko(""+s)}function XT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function II(s,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=QT((d[_n]||null).action),b=u.submitter;b&&(r=(r=b[_n]||null)?QT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new gs("action","action",null,u,d);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Yr!==0){var D=b?XT(d,b):new FormData(d);yp(o,{pending:!0,data:D,method:d.method,action:g},null,D)}}else typeof g=="function"&&(w.preventDefault(),D=b?XT(d,b):new FormData(d),yp(o,{pending:!0,data:D,method:d.method,action:g},g,D))},currentTarget:d}]})}}for(var Zp=0;Zp<Vm.length;Zp++){var Jp=Vm[Zp],DI=Jp.toLowerCase(),MI=Jp[0].toUpperCase()+Jp.slice(1);Ki(DI,"on"+MI)}Ki(A0,"onAnimationEnd"),Ki(C0,"onAnimationIteration"),Ki(R0,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(QN,"onTransitionRun"),Ki(XN,"onTransitionStart"),Ki(WN,"onTransitionCancel"),Ki(N0,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function WT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],D=w.instance,q=w.currentTarget;if(w=w.listener,D!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=q;try{g(d)}catch(Z){Uh(Z)}d.currentTarget=null,g=D}else for(b=0;b<u.length;b++){if(w=u[b],D=w.instance,q=w.currentTarget,w=w.listener,D!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=q;try{g(d)}catch(Z){Uh(Z)}d.currentTarget=null,g=D}}}}function Bt(s,r){var o=r[Ro];o===void 0&&(o=r[Ro]=new Set);var u=s+"__bubble";o.has(u)||($T(r,s,2,!1),o.add(u))}function tg(s,r,o){var u=0;r&&(u|=4),$T(o,s,u,r)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function eg(s){if(!s[Cf]){s[Cf]=!0,lc.forEach(function(o){o!=="selectionchange"&&(kI.has(o)||tg(o,!1,s),tg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Cf]||(r[Cf]=!0,tg("selectionchange",!1,r))}}function $T(s,r,o,u){switch(AE(r)){case 2:var d=oD;break;case 8:d=lD;break;default:d=gg}o=d.bind(null,r,o,s),d=void 0,!Oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(r,o,{capture:!0,passive:d}):s.addEventListener(r,o,!0):d!==void 0?s.addEventListener(r,o,{passive:d}):s.addEventListener(r,o,!1)}function ng(s,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=u.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=cs(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){u=g=b;continue t}w=w.parentNode}}u=u.return}Cr(function(){var q=g,Z=xi(o),it=[];t:{var H=I0.get(s);if(H!==void 0){var Q=gs,gt=s;switch(s){case"keypress":if(La(o)===0)break t;case"keydown":case"keyup":Q=Lh;break;case"focusin":gt="focus",Q=za;break;case"focusout":gt="blur",Q=za;break;case"beforeblur":case"afterblur":Q=za;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case A0:case C0:case R0:Q=Ih;break;case N0:Q=A;break;case"scroll":case"scrollend":Q=bc;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Fs;break;case"toggle":case"beforetoggle":Q=Vt}var St=(r&4)!==0,ge=!St&&(s==="scroll"||s==="scrollend"),U=St?H!==null?H+"Capture":null:H;St=[];for(var O=q,F;O!==null;){var tt=O;if(F=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||F===null||U===null||(tt=qi(O,U),tt!=null&&St.push($c(O,tt,F))),ge)break;O=O.return}0<St.length&&(H=new Q(H,gt,null,o,Z),it.push({event:H,listeners:St}))}}if((r&7)===0){t:{if(H=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",H&&o!==yc&&(gt=o.relatedTarget||o.fromElement)&&(cs(gt)||gt[os]))break t;if((Q||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(gt=o.relatedTarget||o.toElement,Q=q,gt=gt?cs(gt):null,gt!==null&&(ge=l(gt),St=gt.tag,gt!==ge||St!==5&&St!==27&&St!==6)&&(gt=null)):(Q=null,gt=q),Q!==gt)){if(St=Tc,tt="onMouseLeave",U="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(St=Fs,tt="onPointerLeave",U="onPointerEnter",O="pointer"),ge=Q==null?H:ui(Q),F=gt==null?H:ui(gt),H=new St(tt,O+"leave",Q,o,Z),H.target=ge,H.relatedTarget=F,tt=null,cs(Z)===q&&(St=new St(U,O+"enter",gt,o,Z),St.target=F,St.relatedTarget=ge,tt=St),ge=tt,Q&&gt)e:{for(St=VI,U=Q,O=gt,F=0,tt=U;tt;tt=St(tt))F++;tt=0;for(var Tt=O;Tt;Tt=St(Tt))tt++;for(;0<F-tt;)U=St(U),F--;for(;0<tt-F;)O=St(O),tt--;for(;F--;){if(U===O||O!==null&&U===O.alternate){St=U;break e}U=St(U),O=St(O)}St=null}else St=null;Q!==null&&ZT(it,H,Q,St,!1),gt!==null&&ge!==null&&ZT(it,ge,gt,St,!0)}}t:{if(H=q?ui(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var ne=p0;else if(d0(H))if(g0)ne=GN;else{ne=qN;var vt=FN}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Mo(q.elementType)&&(ne=p0):ne=HN;if(ne&&(ne=ne(s,q))){m0(it,ne,o,Z);break t}vt&&vt(s,H,q),s==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&mc(H,"number",H.value)}switch(vt=q?ui(q):window,s){case"focusin":(d0(vt)||vt.contentEditable==="true")&&(Uo=vt,Dm=q,Ac=null);break;case"focusout":Ac=Dm=Uo=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,w0(it,o,Z);break;case"selectionchange":if(KN)break;case"keydown":case"keyup":w0(it,o,Z)}var Lt;if(re)t:{switch(s){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else zo?Ua(s,o)&&(Kt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Kt="onCompositionStart");Kt&&(vs&&o.locale!=="ko"&&(zo||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&zo&&(Lt=vc()):(ps=Z,_c="value"in ps?ps.value:ps.textContent,zo=!0)),vt=Rf(q,Kt),0<vt.length&&(Kt=new _s(Kt,s,null,o,Z),it.push({event:Kt,listeners:vt}),Lt?Kt.data=Lt:(Lt=jo(o),Lt!==null&&(Kt.data=Lt)))),(Lt=Si?jN(s,o):zN(s,o))&&(Kt=Rf(q,"onBeforeInput"),0<Kt.length&&(vt=new _s("onBeforeInput","beforeinput",null,o,Z),it.push({event:vt,listeners:Kt}),vt.data=Lt)),II(it,s,q,o,Z)}WT(it,r)})}function $c(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Rf(s,r){for(var o=r+"Capture",u=[];s!==null;){var d=s,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=qi(s,o),d!=null&&u.unshift($c(s,d,g)),d=qi(s,r),d!=null&&u.push($c(s,d,g))),s.tag===3)return u;s=s.return}return[]}function VI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ZT(s,r,o,u,d){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,D=w.alternate,q=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||q===null||(D=q,d?(q=qi(o,g),q!=null&&b.unshift($c(o,q,D))):d||(q=qi(o,g),q!=null&&b.push($c(o,q,D)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var OI=/\r\n?/g,PI=/\u0000|\uFFFD/g;function JT(s){return(typeof s=="string"?s:""+s).replace(OI,`
`).replace(PI,"")}function tE(s,r){return r=JT(r),JT(s)===r}function pe(s,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||$n(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&$n(s,""+u);break;case"className":hi(s,"class",u);break;case"tabIndex":hi(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(s,o,u);break;case"style":gc(s,u,g);break;case"data":if(r!=="object"){hi(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ko(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&pe(s,r,"name",d.name,d,null),pe(s,r,"formEncType",d.formEncType,d,null),pe(s,r,"formMethod",d.formMethod,d,null),pe(s,r,"formTarget",d.formTarget,d,null)):(pe(s,r,"encType",d.encType,d,null),pe(s,r,"method",d.method,d,null),pe(s,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=ko(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Fi);break;case"onScroll":u!=null&&Bt("scroll",s);break;case"onScrollEnd":u!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=ko(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),Io(s,"popover",u);break;case"xlinkActuate":We(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Io(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ch.get(o)||o,Io(s,o,u))}}function ig(s,r,o,u,d,g){switch(o){case"style":gc(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?$n(s,u):(typeof u=="number"||typeof u=="bigint")&&$n(s,""+u);break;case"onScroll":u!=null&&Bt("scroll",s);break;case"onScrollEnd":u!=null&&Bt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=s[_n]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,d);break t}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Io(s,o,u)}}}function Dn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pe(s,r,g,b,o,null)}}d&&pe(s,r,"srcSet",o.srcSet,o,null),u&&pe(s,r,"src",o.src,o,null);return;case"input":Bt("invalid",s);var w=g=b=d=null,D=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":b=Z;break;case"checked":D=Z;break;case"defaultChecked":q=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:pe(s,r,u,Z,o,null)}}wh(s,g,w,D,q,b,d,!1);return;case"select":Bt("invalid",s),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:pe(s,r,d,w,o,null)}r=g,o=b,s.multiple=!!u,r!=null?xr(s,!!u,r,!1):o!=null&&xr(s,!!u,o,!0);return;case"textarea":Bt("invalid",s),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:pe(s,r,b,w,o,null)}wr(s,u,d,g);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pe(s,r,D,u,o,null)}return;case"dialog":Bt("beforetoggle",s),Bt("toggle",s),Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(u=0;u<Wc.length;u++)Bt(Wc[u],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pe(s,r,q,u,o,null)}return;default:if(Mo(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&ig(s,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&pe(s,r,w,u,o,null))}function LI(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,w=null,D=null,q=null,Z=null;for(Q in o){var it=o[Q];if(o.hasOwnProperty(Q)&&it!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=it;default:u.hasOwnProperty(Q)||pe(s,r,Q,null,u,it)}}for(var H in u){var Q=u[H];if(it=o[H],u.hasOwnProperty(H)&&(Q!=null||it!=null))switch(H){case"type":g=Q;break;case"name":d=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==it&&pe(s,r,H,Q,u,it)}}Do(s,b,w,D,q,Z,g,d);return;case"select":Q=b=w=H=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(g)||pe(s,r,g,null,u,D)}for(d in u)if(g=u[d],D=o[d],u.hasOwnProperty(d)&&(g!=null||D!=null))switch(d){case"value":H=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==D&&pe(s,r,d,g,u,D)}r=w,o=b,u=Q,H!=null?xr(s,!!o,H,!1):!!u!=!!o&&(r!=null?xr(s,!!o,r,!0):xr(s,!!o,o?[]:"",!1));return;case"textarea":Q=H=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:pe(s,r,w,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":H=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&pe(s,r,b,d,u,g)}Sh(s,H,Q);return;case"option":for(var gt in o)if(H=o[gt],o.hasOwnProperty(gt)&&H!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":s.selected=!1;break;default:pe(s,r,gt,null,u,H)}for(D in u)if(H=u[D],Q=o[D],u.hasOwnProperty(D)&&H!==Q&&(H!=null||Q!=null))switch(D){case"selected":s.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:pe(s,r,D,H,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in o)H=o[St],o.hasOwnProperty(St)&&H!=null&&!u.hasOwnProperty(St)&&pe(s,r,St,null,u,H);for(q in u)if(H=u[q],Q=o[q],u.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:pe(s,r,q,H,u,Q)}return;default:if(Mo(r)){for(var ge in o)H=o[ge],o.hasOwnProperty(ge)&&H!==void 0&&!u.hasOwnProperty(ge)&&ig(s,r,ge,void 0,u,H);for(Z in u)H=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||H===Q||H===void 0&&Q===void 0||ig(s,r,Z,H,u,Q);return}}for(var U in o)H=o[U],o.hasOwnProperty(U)&&H!=null&&!u.hasOwnProperty(U)&&pe(s,r,U,null,u,H);for(it in u)H=u[it],Q=o[it],!u.hasOwnProperty(it)||H===Q||H==null&&Q==null||pe(s,r,it,H,u,Q)}function eE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,b=d.initiatorType,w=d.duration;if(g&&w&&eE(b)){for(b=0,w=d.responseEnd,u+=1;u<o.length;u++){var D=o[u],q=D.startTime;if(q>w)break;var Z=D.transferSize,it=D.initiatorType;Z&&eE(it)&&(D=D.responseEnd,b+=Z*(D<w?1:(w-q)/(D-q)))}if(--u,r+=8*(g+b)/(d.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var sg=null,rg=null;function Nf(s){return s.nodeType===9?s:s.ownerDocument}function nE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iE(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ag(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var og=null;function zI(){var s=window.event;return s&&s.type==="popstate"?s===og?!1:(og=s,!0):(og=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,UI=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,BI=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(s){return rE.resolve(null).then(s).catch(FI)}:sE;function FI(s){setTimeout(function(){throw s})}function Kr(s){return s==="head"}function aE(s,r){var o=r,u=0;do{var d=o.nextSibling;if(s.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(d),dl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Zc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Zc(o);for(var g=o.firstChild;g;){var b=g.nextSibling,w=g.nodeName;g[ls]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Zc(s.ownerDocument.body);o=d}while(o);dl(r)}function oE(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function lg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":lg(o),No(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function qI(s,r,o,u){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ls])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Mi(s.nextSibling),s===null)break}return null}function HI(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Mi(s.nextSibling),s===null))return null;return s}function lE(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Mi(s.nextSibling),s===null))return null;return s}function cg(s){return s.data==="$?"||s.data==="$~"}function ug(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function GI(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Mi(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var hg=null;function cE(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Mi(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function uE(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function hE(s,r,o){switch(r=Nf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Zc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);No(s)}var ki=new Map,fE=new Set;function If(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ir=at.d;at.d={f:YI,r:KI,D:QI,C:XI,L:WI,m:$I,X:JI,S:ZI,M:tD};function YI(){var s=ir.f(),r=Tf();return s||r}function KI(s){var r=Ei(s);r!==null&&r.tag===5&&r.type==="form"?Nb(r):ir.r(s)}var ul=typeof document>"u"?null:document;function dE(s,r,o){var u=ul;if(u&&typeof r=="string"&&r){var d=Wn(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),fE.has(d)||(fE.add(d),s={rel:s,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Dn(r,"link",s),Xe(r),u.head.appendChild(r)))}}function QI(s){ir.D(s),dE("dns-prefetch",s,null)}function XI(s,r){ir.C(s,r),dE("preconnect",s,r)}function WI(s,r,o){ir.L(s,r,o);var u=ul;if(u&&s&&r){var d='link[rel="preload"][as="'+Wn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Wn(o.imageSizes)+'"]')):d+='[href="'+Wn(s)+'"]';var g=d;switch(r){case"style":g=hl(s);break;case"script":g=fl(s)}ki.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ki.set(g,s),u.querySelector(d)!==null||r==="style"&&u.querySelector(Jc(g))||r==="script"&&u.querySelector(tu(g))||(r=u.createElement("link"),Dn(r,"link",s),Xe(r),u.head.appendChild(r)))}}function $I(s,r){ir.m(s,r);var o=ul;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Wn(u)+'"][href="'+Wn(s)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=fl(s)}if(!ki.has(g)&&(s=v({rel:"modulepreload",href:s},r),ki.set(g,s),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(tu(g)))return}u=o.createElement("link"),Dn(u,"link",s),Xe(u),o.head.appendChild(u)}}}function ZI(s,r,o){ir.S(s,r,o);var u=ul;if(u&&s){var d=us(u).hoistableStyles,g=hl(s);r=r||"default";var b=d.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Jc(g)))w.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ki.get(g))&&fg(s,o);var D=b=u.createElement("link");Xe(D),Dn(D,"link",s),D._p=new Promise(function(q,Z){D.onload=q,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Df(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(g,b)}}}function JI(s,r){ir.X(s,r);var o=ul;if(o&&s){var u=us(o).hoistableScripts,d=fl(s),g=u.get(d);g||(g=o.querySelector(tu(d)),g||(s=v({src:s,async:!0},r),(r=ki.get(d))&&dg(s,r),g=o.createElement("script"),Xe(g),Dn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function tD(s,r){ir.M(s,r);var o=ul;if(o&&s){var u=us(o).hoistableScripts,d=fl(s),g=u.get(d);g||(g=o.querySelector(tu(d)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ki.get(d))&&dg(s,r),g=o.createElement("script"),Xe(g),Dn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function mE(s,r,o,u){var d=(d=It.current)?If(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=hl(o.href),o=us(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=hl(o.href);var g=us(d).hoistableStyles,b=g.get(s);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,b),(g=d.querySelector(Jc(s)))&&!g._p&&(b.instance=g,b.state.loading=5),ki.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ki.set(s,o),g||eD(d,s,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fl(o),o=us(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function hl(s){return'href="'+Wn(s)+'"'}function Jc(s){return'link[rel="stylesheet"]['+s+"]"}function pE(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function eD(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Dn(r,"link",o),Xe(r),s.head.appendChild(r))}function fl(s){return'[src="'+Wn(s)+'"]'}function tu(s){return"script[async]"+s}function gE(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Wn(o.href)+'"]');if(u)return r.instance=u,Xe(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Xe(u),Dn(u,"style",d),Df(u,o.precedence,s),r.instance=u;case"stylesheet":d=hl(o.href);var g=s.querySelector(Jc(d));if(g)return r.state.loading|=4,r.instance=g,Xe(g),g;u=pE(o),(d=ki.get(d))&&fg(u,d),g=(s.ownerDocument||s).createElement("link"),Xe(g);var b=g;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Dn(g,"link",u),r.state.loading|=4,Df(g,o.precedence,s),r.instance=g;case"script":return g=fl(o.src),(d=s.querySelector(tu(g)))?(r.instance=d,Xe(d),d):(u=o,(d=ki.get(g))&&(u=v({},o),dg(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),Xe(d),Dn(d,"link",u),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Df(u,o.precedence,s));return r.instance}function Df(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function fg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function dg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Mf=null;function yE(s,r,o){if(Mf===null){var u=new Map,d=Mf=new Map;d.set(o,u)}else d=Mf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var g=o[d];if(!(g[ls]||g[Qe]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=s+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function _E(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function nD(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function iD(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=hl(u.href),g=r.querySelector(Jc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=kf.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Xe(g);return}g=r.ownerDocument||r,u=pE(u),(d=ki.get(d))&&fg(u,d),g=g.createElement("link"),Xe(g);var b=g;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Dn(g,"link",u),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=kf.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var mg=0;function sD(s,r){return s.stylesheets&&s.count===0&&Of(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Of(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&mg===0&&(mg=62500*jI());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Of(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>mg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function kf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vf=null;function Of(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vf=new Map,r.forEach(rD,s),Vf=null,kf.call(s))}function rD(s,r){if(!(r.state.loading&4)){var o=Vf.get(s);if(o)var u=o.get(null);else{o=new Map,Vf.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=kf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var eu={$$typeof:W,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function aD(s,r,o,u,d,g,b,w,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function bE(s,r,o,u,d,g,b,w,D,q,Z,it){return s=new aD(s,r,o,b,D,q,Z,it,w),r=1,g===!0&&(r|=24),g=di(3,null,null,r),s.current=g,g.stateNode=s,r=Km(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},$m(g),s}function TE(s){return s?(s=qo,s):qo}function EE(s,r,o,u,d,g){d=TE(d),u.context===null?u.context=d:u.pendingContext=d,u=Pr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Lr(s,u,r),o!==null&&(ni(o,s,r),kc(o,s,r))}function xE(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function pg(s,r){xE(s,r),(s=s.alternate)&&xE(s,r)}function wE(s){if(s.tag===13||s.tag===31){var r=qa(s,67108864);r!==null&&ni(r,s,67108864),pg(s,67108864)}}function SE(s){if(s.tag===13||s.tag===31){var r=_i();r=ve(r);var o=qa(s,r);o!==null&&ni(o,s,r),pg(s,r)}}var Pf=!0;function oD(s,r,o,u){var d=$.T;$.T=null;var g=at.p;try{at.p=2,gg(s,r,o,u)}finally{at.p=g,$.T=d}}function lD(s,r,o,u){var d=$.T;$.T=null;var g=at.p;try{at.p=8,gg(s,r,o,u)}finally{at.p=g,$.T=d}}function gg(s,r,o,u){if(Pf){var d=yg(u);if(d===null)ng(s,r,u,Lf,o),CE(s,u);else if(uD(d,s,r,o,u))u.stopPropagation();else if(CE(s,u),r&4&&-1<cD.indexOf(s)){for(;d!==null;){var g=Ei(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=An(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-ke(b);w.entanglements[1]|=D,b&=~D}xs(g),(ae&6)===0&&(vf=wn()+500,Xc(0))}}break;case 31:case 13:w=qa(g,2),w!==null&&ni(w,g,2),Tf(),pg(g,2)}if(g=yg(u),g===null&&ng(s,r,u,Lf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else ng(s,r,u,null,o)}}function yg(s){return s=xi(s),_g(s)}var Lf=null;function _g(s){if(Lf=null,s=cs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Lf=s,null}function AE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Ps:return 2;case Ra:return 8;case Ti:case Na:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var vg=!1,Qr=null,Xr=null,Wr=null,nu=new Map,iu=new Map,$r=[],cD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(s,r){switch(s){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":nu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(r.pointerId)}}function su(s,r,o,u,d,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Ei(r),r!==null&&wE(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function uD(s,r,o,u,d){switch(r){case"focusin":return Qr=su(Qr,s,r,o,u,d),!0;case"dragenter":return Xr=su(Xr,s,r,o,u,d),!0;case"mouseover":return Wr=su(Wr,s,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return nu.set(g,su(nu.get(g)||null,s,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,iu.set(g,su(iu.get(g)||null,s,r,o,u,d)),!0}return!1}function RE(s){var r=cs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,Ui(s.priority,function(){SE(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,Ui(s.priority,function(){SE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=yg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);yc=u,o.target.dispatchEvent(u),yc=null}else return r=Ei(o),r!==null&&wE(r),s.blockedOn=o,!1;r.shift()}return!0}function NE(s,r,o){jf(s)&&o.delete(r)}function hD(){vg=!1,Qr!==null&&jf(Qr)&&(Qr=null),Xr!==null&&jf(Xr)&&(Xr=null),Wr!==null&&jf(Wr)&&(Wr=null),nu.forEach(NE),iu.forEach(NE)}function zf(s,r){s.blockedOn===r&&(s.blockedOn=null,vg||(vg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hD)))}var Uf=null;function IE(s){Uf!==s&&(Uf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uf===s&&(Uf=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],d=s[r+2];if(typeof u!="function"){if(_g(u||o)===null)continue;break}var g=Ei(o);g!==null&&(s.splice(r,3),r-=3,yp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function dl(s){function r(D){return zf(D,s)}Qr!==null&&zf(Qr,s),Xr!==null&&zf(Xr,s),Wr!==null&&zf(Wr,s),nu.forEach(r),iu.forEach(r);for(var o=0;o<$r.length;o++){var u=$r[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<$r.length&&(o=$r[0],o.blockedOn===null);)RE(o),o.blockedOn===null&&$r.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[_n]||null;if(typeof g=="function")b||IE(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[_n]||null)w=b.formAction;else if(_g(d)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),IE(o)}}}function DE(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function bg(s){this._internalRoot=s}Bf.prototype.render=bg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=_i();EE(o,u,s,r,null,null)},Bf.prototype.unmount=bg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;EE(s.current,2,null,s,null,null),Tf(),r[os]=null}};function Bf(s){this._internalRoot=s}Bf.prototype.unstable_scheduleHydration=function(s){if(s){var r=zs();s={blockedOn:null,target:s,priority:r};for(var o=0;o<$r.length&&r!==0&&r<$r[o].priority;o++);$r.splice(o,0,s),o===0&&RE(s)}};var ME=t.version;if(ME!=="19.2.3")throw Error(i(527,ME,"19.2.3"));at.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var fD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{li=Ff.inject(fD),Be=Ff}catch{}}return au.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",d=zb,g=Ub,b=Bb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=bE(s,1,!1,null,null,o,u,null,d,g,b,DE),s[os]=r.current,eg(s),new bg(r)},au.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,d="",g=zb,b=Ub,w=Bb,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=bE(s,1,!0,r,o??null,u,d,D,g,b,w,DE),r.context=TE(null),o=r.current,u=_i(),u=ve(u),d=Pr(u),d.callback=null,Lr(o,d,u),o=u,r.current.lanes=o,Ls(r,o),xs(r),s[os]=r.current,eg(s),new Bf(r)},au.version="19.2.3",au}var FE;function ED(){if(FE)return xg.exports;FE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch{}}return e(),xg.exports=TD(),xg.exports}var xD=ED();const wD=aS(xD);let SD={data:""},AD=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||SD},CD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,RD=/\/\*[^]*?\*\/|  +/g,qE=/\n+/g,ea=(e,t)=>{let n="",i="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":i+=l[1]=="f"?ea(c,l):l+"{"+ea(c,l[1]=="k"?"":t)+"}":typeof c=="object"?i+=ea(c,t?t.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ea.p?ea.p(l,c):l+":"+c+";")}return n+(t&&a?t+"{"+a+"}":a)+i},sr={},oS=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+oS(e[n]);return t}return e},ND=(e,t,n,i,a)=>{let l=oS(e),c=sr[l]||(sr[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!sr[c]){let m=l!==e?e:(p=>{let y,v,T=[{}];for(;y=CD.exec(p.replace(RD,""));)y[4]?T.shift():y[3]?(v=y[3].replace(qE," ").trim(),T.unshift(T[0][v]=T[0][v]||{})):T[0][y[1]]=y[2].replace(qE," ").trim();return T[0]})(e);sr[c]=ea(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let h=n&&sr.g?sr.g:null;return n&&(sr.g=sr[c]),((m,p,y,v)=>{v?p.data=p.data.replace(v,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(sr[c],t,i,h),c},ID=(e,t,n)=>e.reduce((i,a,l)=>{let c=t[l];if(c&&c.call){let h=c(n),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;c=m?"."+m:h&&typeof h=="object"?h.props?"":ea(h,""):h===!1?"":h}return i+a+(c??"")},"");function Zd(e){let t=this||{},n=e.call?e(t.p):e;return ND(n.unshift?n.raw?ID(n,[].slice.call(arguments,1),t.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):n,AD(t.target),t.g,t.o,t.k)}let lS,ly,cy;Zd.bind({g:1});let cr=Zd.bind({k:1});function DD(e,t,n,i){ea.p=t,lS=e,ly=n,cy=i}function xa(e,t){let n=this||{};return function(){let i=arguments;function a(l,c){let h=Object.assign({},l),m=h.className||a.className;n.p=Object.assign({theme:ly&&ly()},h),n.o=/ *go\d+/.test(m),h.className=Zd.apply(n,i)+(m?" "+m:"");let p=e;return e[0]&&(p=h.as||e,delete h.as),cy&&p[0]&&cy(h),lS(p,h)}return a}}var MD=e=>typeof e=="function",gd=(e,t)=>MD(e)?e(t):e,kD=(()=>{let e=0;return()=>(++e).toString()})(),cS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),VD=20,g_="default",uS=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:i}=t;return uS(e,{type:e.toasts.find(c=>c.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},sd=[],hS={toasts:[],pausedAt:void 0,settings:{toastLimit:VD}},Ss={},fS=(e,t=g_)=>{Ss[t]=uS(Ss[t]||hS,e),sd.forEach(([n,i])=>{n===t&&i(Ss[t])})},dS=e=>Object.keys(Ss).forEach(t=>fS(e,t)),OD=e=>Object.keys(Ss).find(t=>Ss[t].toasts.some(n=>n.id===e)),Jd=(e=g_)=>t=>{fS(t,e)},PD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LD=(e={},t=g_)=>{let[n,i]=G.useState(Ss[t]||hS),a=G.useRef(Ss[t]);G.useEffect(()=>(a.current!==Ss[t]&&i(Ss[t]),sd.push([t,i]),()=>{let c=sd.findIndex(([h])=>h===t);c>-1&&sd.splice(c,1)}),[t]);let l=n.toasts.map(c=>{var h,m,p;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((h=e[c.type])==null?void 0:h.removeDelay)||e?.removeDelay,duration:c.duration||((m=e[c.type])==null?void 0:m.duration)||e?.duration||PD[c.type],style:{...e.style,...(p=e[c.type])==null?void 0:p.style,...c.style}}});return{...n,toasts:l}},jD=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||kD()}),ih=e=>(t,n)=>{let i=jD(t,e,n);return Jd(i.toasterId||OD(i.id))({type:2,toast:i}),i.id},fn=(e,t)=>ih("blank")(e,t);fn.error=ih("error");fn.success=ih("success");fn.loading=ih("loading");fn.custom=ih("custom");fn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Jd(t)(n):dS(n)};fn.dismissAll=e=>fn.dismiss(void 0,e);fn.remove=(e,t)=>{let n={type:4,toastId:e};t?Jd(t)(n):dS(n)};fn.removeAll=e=>fn.remove(void 0,e);fn.promise=(e,t,n)=>{let i=fn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?gd(t.success,a):void 0;return l?fn.success(l,{id:i,...n,...n?.success}):fn.dismiss(i),a}).catch(a=>{let l=t.error?gd(t.error,a):void 0;l?fn.error(l,{id:i,...n,...n?.error}):fn.dismiss(i)}),e};var zD=1e3,UD=(e,t="default")=>{let{toasts:n,pausedAt:i}=LD(e,t),a=G.useRef(new Map).current,l=G.useCallback((v,T=zD)=>{if(a.has(v))return;let C=setTimeout(()=>{a.delete(v),c({type:4,toastId:v})},T);a.set(v,C)},[]);G.useEffect(()=>{if(i)return;let v=Date.now(),T=n.map(C=>{if(C.duration===1/0)return;let M=(C.duration||0)+C.pauseDuration-(v-C.createdAt);if(M<0){C.visible&&fn.dismiss(C.id);return}return setTimeout(()=>fn.dismiss(C.id,t),M)});return()=>{T.forEach(C=>C&&clearTimeout(C))}},[n,i,t]);let c=G.useCallback(Jd(t),[t]),h=G.useCallback(()=>{c({type:5,time:Date.now()})},[c]),m=G.useCallback((v,T)=>{c({type:1,toast:{id:v,height:T}})},[c]),p=G.useCallback(()=>{i&&c({type:6,time:Date.now()})},[i,c]),y=G.useCallback((v,T)=>{let{reverseOrder:C=!1,gutter:M=8,defaultPosition:j}=T||{},L=n.filter(W=>(W.position||j)===(v.position||j)&&W.height),X=L.findIndex(W=>W.id===v.id),nt=L.filter((W,ot)=>ot<X&&W.visible).length;return L.filter(W=>W.visible).slice(...C?[nt+1]:[0,nt]).reduce((W,ot)=>W+(ot.height||0)+M,0)},[n]);return G.useEffect(()=>{n.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let T=a.get(v.id);T&&(clearTimeout(T),a.delete(v.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:m,startPause:h,endPause:p,calculateOffset:y}}},BD=cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,FD=cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qD=cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HD=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${FD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,GD=cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,YD=xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${GD} 1s linear infinite;
`,KD=cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,QD=cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XD=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${QD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WD=xa("div")`
  position: absolute;
`,$D=xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZD=cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JD=xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tM=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?G.createElement(JD,null,t):t:n==="blank"?null:G.createElement($D,null,G.createElement(YD,{...i}),n!=="loading"&&G.createElement(WD,null,n==="error"?G.createElement(HD,{...i}):G.createElement(XD,{...i})))},eM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,iM="0%{opacity:0;} 100%{opacity:1;}",sM="0%{opacity:1;} 100%{opacity:0;}",rM=xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aM=xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oM=(e,t)=>{let n=e.includes("top")?1:-1,[i,a]=cS()?[iM,sM]:[eM(n),nM(n)];return{animation:t?`${cr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lM=G.memo(({toast:e,position:t,style:n,children:i})=>{let a=e.height?oM(e.position||t||"top-center",e.visible):{opacity:0},l=G.createElement(tM,{toast:e}),c=G.createElement(aM,{...e.ariaProps},gd(e.message,e));return G.createElement(rM,{className:e.className,style:{...a,...n,...e.style}},typeof i=="function"?i({icon:l,message:c}):G.createElement(G.Fragment,null,l,c))});DD(G.createElement);var cM=({id:e,className:t,style:n,onHeightUpdate:i,children:a})=>{let l=G.useCallback(c=>{if(c){let h=()=>{let m=c.getBoundingClientRect().height;i(e,m)};h(),new MutationObserver(h).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return G.createElement("div",{ref:l,className:t,style:n},a)},uM=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...a}},hM=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qf=16,fM=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:a,toasterId:l,containerStyle:c,containerClassName:h})=>{let{toasts:m,handlers:p}=UD(n,l);return G.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:qf,left:qf,right:qf,bottom:qf,pointerEvents:"none",...c},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(y=>{let v=y.position||t,T=p.calculateOffset(y,{reverseOrder:e,gutter:i,defaultPosition:t}),C=uM(v,T);return G.createElement(cM,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?hM:"",style:C},y.type==="custom"?gd(y.message,y):a?a(y):G.createElement(lM,{toast:y,position:v}))}))},hn=fn;const dM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),HE=e=>{const t=mM(e);return t.charAt(0).toUpperCase()+t.slice(1)},mS=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),pM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yM=G.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},m)=>G.createElement("svg",{ref:m,...gM,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:mS("lucide",a),...!l&&!pM(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,y])=>G.createElement(p,y)),...Array.isArray(l)?l:[l]]));const oe=(e,t)=>{const n=G.forwardRef(({className:i,...a},l)=>G.createElement(yM,{ref:l,iconNode:t,className:mS(`lucide-${dM(HE(e))}`,`lucide-${e}`,i),...a}));return n.displayName=HE(e),n};const _M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pS=oe("arrow-left",_M);const vM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hf=oe("arrow-right",vM);const bM=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],GE=oe("book",bM);const TM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mu=oe("check",TM);const EM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xM=oe("chevron-down",EM);const wM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],YE=oe("circle-alert",wM);const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KE=oe("circle-question-mark",SM);const AM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gS=oe("copy",AM);const CM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],yS=oe("ellipsis-vertical",CM);const RM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QE=oe("external-link",RM);const NM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],IM=oe("file-spreadsheet",NM);const DM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MM=oe("file-text",DM);const kM=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],VM=oe("flag",kM);const OM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],XE=oe("history",OM);const PM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cg=oe("info",PM);const LM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],jM=oe("list",LM);const zM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WE=oe("loader-circle",zM);const UM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BM=oe("log-out",UM);const FM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qM=oe("mail",FM);const HM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],GM=oe("message-square",HM);const YM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_S=oe("refresh-cw",YM);const KM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vS=oe("send",KM);const QM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XM=oe("settings",QM);const WM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$M=oe("sparkles",WM);const ZM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],JM=oe("text-align-start",ZM);const tk=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],y_=oe("thumbs-up",tk);const ek=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],bS=oe("thumbs-down",ek);const nk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ik=oe("user",nk);const sk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$E=oe("users",sk);const rk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ak=oe("volume-2",rk);const ok=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TS=oe("x",ok);function ES(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ES(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function lk(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ES(e))&&(i&&(i+=" "),i+=t);return i}const ck=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},uk=(e,t)=>({classGroupId:e,validator:t}),xS=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),yd="-",ZE=[],hk="arbitrary..",fk=e=>{const t=mk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return dk(c);const h=c.split(yd),m=h[0]===""&&h.length>1?1:0;return wS(h,m,t)},getConflictingClassGroupIds:(c,h)=>{if(h){const m=i[c],p=n[c];return m?p?ck(p,m):m:p||ZE}return n[c]||ZE}}},wS=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],l=n.nextPart.get(a);if(l){const p=wS(e,t+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=t===0?e.join(yd):e.slice(t).join(yd),m=c.length;for(let p=0;p<m;p++){const y=c[p];if(y.validator(h))return y.classGroupId}},dk=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?hk+i:void 0})(),mk=e=>{const{theme:t,classGroups:n}=e;return pk(n,t)},pk=(e,t)=>{const n=xS();for(const i in e){const a=e[i];__(a,n,i,t)}return n},__=(e,t,n,i)=>{const a=e.length;for(let l=0;l<a;l++){const c=e[l];gk(c,t,n,i)}},gk=(e,t,n,i)=>{if(typeof e=="string"){yk(e,t,n);return}if(typeof e=="function"){_k(e,t,n,i);return}vk(e,t,n,i)},yk=(e,t,n)=>{const i=e===""?t:SS(t,e);i.classGroupId=n},_k=(e,t,n,i)=>{if(bk(e)){__(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(uk(n,e))},vk=(e,t,n,i)=>{const a=Object.entries(e),l=a.length;for(let c=0;c<l;c++){const[h,m]=a[c];__(m,SS(t,h),n,i)}},SS=(e,t)=>{let n=e;const i=t.split(yd),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=xS(),n.nextPart.set(c,h)),n=h}return n},bk=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Tk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},uy="!",JE=":",Ek=[],t1=(e,t,n,i,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),xk=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=a=>{const l=[];let c=0,h=0,m=0,p;const y=a.length;for(let j=0;j<y;j++){const L=a[j];if(c===0&&h===0){if(L===JE){l.push(a.slice(m,j)),m=j+1;continue}if(L==="/"){p=j;continue}}L==="["?c++:L==="]"?c--:L==="("?h++:L===")"&&h--}const v=l.length===0?a:a.slice(m);let T=v,C=!1;v.endsWith(uy)?(T=v.slice(0,-1),C=!0):v.startsWith(uy)&&(T=v.slice(1),C=!0);const M=p&&p>m?p-m:void 0;return t1(l,C,T,M)};if(t){const a=t+JE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):t1(Ek,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},wk=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",m=t.has(c);h||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Sk=e=>({cache:Tk(e.cacheSize),parseClassName:xk(e),sortModifiers:wk(e),...fk(e)}),Ak=/\s+/,Ck=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=t,c=[],h=e.trim().split(Ak);let m="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:T,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:j}=n(y);if(v){m=y+(m.length>0?" "+m:m);continue}let L=!!j,X=i(L?M.substring(0,j):M);if(!X){if(!L){m=y+(m.length>0?" "+m:m);continue}if(X=i(M),!X){m=y+(m.length>0?" "+m:m);continue}L=!1}const nt=T.length===0?"":T.length===1?T[0]:l(T).join(":"),W=C?nt+uy:nt,ot=W+X;if(c.indexOf(ot)>-1)continue;c.push(ot);const ut=a(X,L);for(let lt=0;lt<ut.length;++lt){const R=ut[lt];c.push(W+R)}m=y+(m.length>0?" "+m:m)}return m},Rk=(...e)=>{let t=0,n,i,a="";for(;t<e.length;)(n=e[t++])&&(i=AS(n))&&(a&&(a+=" "),a+=i);return a},AS=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=AS(e[i]))&&(n&&(n+=" "),n+=t);return n},Nk=(e,...t)=>{let n,i,a,l;const c=m=>{const p=t.reduce((y,v)=>v(y),e());return n=Sk(p),i=n.cache.get,a=n.cache.set,l=h,h(m)},h=m=>{const p=i(m);if(p)return p;const y=Ck(m,n);return a(m,y),y};return l=c,(...m)=>l(Rk(...m))},Ik=[],cn=e=>{const t=n=>n[e]||Ik;return t.isThemeGetter=!0,t},CS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dk=/^\d+\/\d+$/,Mk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ok=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=e=>Dk.test(e),jt=e=>!!e&&!Number.isNaN(Number(e)),Jr=e=>!!e&&Number.isInteger(Number(e)),Rg=e=>e.endsWith("%")&&jt(e.slice(0,-1)),rr=e=>Mk.test(e),Lk=()=>!0,jk=e=>kk.test(e)&&!Vk.test(e),NS=()=>!1,zk=e=>Ok.test(e),Uk=e=>Pk.test(e),Bk=e=>!yt(e)&&!_t(e),Fk=e=>Ql(e,MS,NS),yt=e=>CS.test(e),no=e=>Ql(e,kS,jk),Ng=e=>Ql(e,Kk,jt),e1=e=>Ql(e,IS,NS),qk=e=>Ql(e,DS,Uk),Gf=e=>Ql(e,VS,zk),_t=e=>RS.test(e),ou=e=>Xl(e,kS),Hk=e=>Xl(e,Qk),n1=e=>Xl(e,IS),Gk=e=>Xl(e,MS),Yk=e=>Xl(e,DS),Yf=e=>Xl(e,VS,!0),Ql=(e,t,n)=>{const i=CS.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},Xl=(e,t,n=!1)=>{const i=RS.exec(e);return i?i[1]?t(i[1]):n:!1},IS=e=>e==="position"||e==="percentage",DS=e=>e==="image"||e==="url",MS=e=>e==="length"||e==="size"||e==="bg-size",kS=e=>e==="length",Kk=e=>e==="number",Qk=e=>e==="family-name",VS=e=>e==="shadow",Xk=()=>{const e=cn("color"),t=cn("font"),n=cn("text"),i=cn("font-weight"),a=cn("tracking"),l=cn("leading"),c=cn("breakpoint"),h=cn("container"),m=cn("spacing"),p=cn("radius"),y=cn("shadow"),v=cn("inset-shadow"),T=cn("text-shadow"),C=cn("drop-shadow"),M=cn("blur"),j=cn("perspective"),L=cn("aspect"),X=cn("ease"),nt=cn("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ot=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ut=()=>[...ot(),_t,yt],lt=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[_t,yt,m],N=()=>[ml,"full","auto",...S()],P=()=>[Jr,"none","subgrid",_t,yt],k=()=>["auto",{span:["full",Jr,_t,yt]},Jr,_t,yt],z=()=>[Jr,"auto",_t,yt],I=()=>["auto","min","max","fr",_t,yt],Gt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...S()],at=()=>[ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],et=()=>[e,_t,yt],At=()=>[...ot(),n1,e1,{position:[_t,yt]}],Pt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",Gk,Fk,{size:[_t,yt]}],J=()=>[Rg,ou,no],ct=()=>["","none","full",p,_t,yt],ft=()=>["",jt,ou,no],xt=()=>["solid","dashed","dotted","double"],It=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],bt=()=>[jt,Rg,n1,e1],Re=()=>["","none",M,_t,yt],ee=()=>["none",jt,_t,yt],ze=()=>["none",jt,_t,yt],qn=()=>[jt,_t,yt],Xn=()=>[ml,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rr],breakpoint:[rr],color:[Lk],container:[rr],"drop-shadow":[rr],ease:["in","out","in-out"],font:[Bk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rr],shadow:[rr],spacing:["px",jt],text:[rr],"text-shadow":[rr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ml,yt,_t,L]}],container:["container"],columns:[{columns:[jt,yt,_t,h]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ut()}],overflow:[{overflow:lt()}],"overflow-x":[{"overflow-x":lt()}],"overflow-y":[{"overflow-y":lt()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Jr,"auto",_t,yt]}],basis:[{basis:[ml,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jt,ml,"auto","initial","none",yt]}],grow:[{grow:["",jt,_t,yt]}],shrink:[{shrink:["",jt,_t,yt]}],order:[{order:[Jr,"first","last","none",_t,yt]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Gt(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...Gt()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Gt()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:at()}],w:[{w:[h,"screen",...at()]}],"min-w":[{"min-w":[h,"screen","none",...at()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...at()]}],h:[{h:["screen","lh",...at()]}],"min-h":[{"min-h":["screen","lh","none",...at()]}],"max-h":[{"max-h":["screen","lh",...at()]}],"font-size":[{text:["base",n,ou,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_t,Ng]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rg,yt]}],"font-family":[{font:[Hk,yt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_t,yt]}],"line-clamp":[{"line-clamp":[jt,"none",_t,Ng]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",_t,yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_t,yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:et()}],"text-color":[{text:et()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xt(),"wavy"]}],"text-decoration-thickness":[{decoration:[jt,"from-font","auto",_t,no]}],"text-decoration-color":[{decoration:et()}],"underline-offset":[{"underline-offset":[jt,"auto",_t,yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_t,yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_t,yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:At()}],"bg-repeat":[{bg:Pt()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jr,_t,yt],radial:["",_t,yt],conic:[Jr,_t,yt]},Yk,qk]}],"bg-color":[{bg:et()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:et()}],"gradient-via":[{via:et()}],"gradient-to":[{to:et()}],rounded:[{rounded:ct()}],"rounded-s":[{"rounded-s":ct()}],"rounded-e":[{"rounded-e":ct()}],"rounded-t":[{"rounded-t":ct()}],"rounded-r":[{"rounded-r":ct()}],"rounded-b":[{"rounded-b":ct()}],"rounded-l":[{"rounded-l":ct()}],"rounded-ss":[{"rounded-ss":ct()}],"rounded-se":[{"rounded-se":ct()}],"rounded-ee":[{"rounded-ee":ct()}],"rounded-es":[{"rounded-es":ct()}],"rounded-tl":[{"rounded-tl":ct()}],"rounded-tr":[{"rounded-tr":ct()}],"rounded-br":[{"rounded-br":ct()}],"rounded-bl":[{"rounded-bl":ct()}],"border-w":[{border:ft()}],"border-w-x":[{"border-x":ft()}],"border-w-y":[{"border-y":ft()}],"border-w-s":[{"border-s":ft()}],"border-w-e":[{"border-e":ft()}],"border-w-t":[{"border-t":ft()}],"border-w-r":[{"border-r":ft()}],"border-w-b":[{"border-b":ft()}],"border-w-l":[{"border-l":ft()}],"divide-x":[{"divide-x":ft()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ft()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xt(),"hidden","none"]}],"divide-style":[{divide:[...xt(),"hidden","none"]}],"border-color":[{border:et()}],"border-color-x":[{"border-x":et()}],"border-color-y":[{"border-y":et()}],"border-color-s":[{"border-s":et()}],"border-color-e":[{"border-e":et()}],"border-color-t":[{"border-t":et()}],"border-color-r":[{"border-r":et()}],"border-color-b":[{"border-b":et()}],"border-color-l":[{"border-l":et()}],"divide-color":[{divide:et()}],"outline-style":[{outline:[...xt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jt,_t,yt]}],"outline-w":[{outline:["",jt,ou,no]}],"outline-color":[{outline:et()}],shadow:[{shadow:["","none",y,Yf,Gf]}],"shadow-color":[{shadow:et()}],"inset-shadow":[{"inset-shadow":["none",v,Yf,Gf]}],"inset-shadow-color":[{"inset-shadow":et()}],"ring-w":[{ring:ft()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:et()}],"ring-offset-w":[{"ring-offset":[jt,no]}],"ring-offset-color":[{"ring-offset":et()}],"inset-ring-w":[{"inset-ring":ft()}],"inset-ring-color":[{"inset-ring":et()}],"text-shadow":[{"text-shadow":["none",T,Yf,Gf]}],"text-shadow-color":[{"text-shadow":et()}],opacity:[{opacity:[jt,_t,yt]}],"mix-blend":[{"mix-blend":[...It(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":It()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":bt()}],"mask-image-linear-to-pos":[{"mask-linear-to":bt()}],"mask-image-linear-from-color":[{"mask-linear-from":et()}],"mask-image-linear-to-color":[{"mask-linear-to":et()}],"mask-image-t-from-pos":[{"mask-t-from":bt()}],"mask-image-t-to-pos":[{"mask-t-to":bt()}],"mask-image-t-from-color":[{"mask-t-from":et()}],"mask-image-t-to-color":[{"mask-t-to":et()}],"mask-image-r-from-pos":[{"mask-r-from":bt()}],"mask-image-r-to-pos":[{"mask-r-to":bt()}],"mask-image-r-from-color":[{"mask-r-from":et()}],"mask-image-r-to-color":[{"mask-r-to":et()}],"mask-image-b-from-pos":[{"mask-b-from":bt()}],"mask-image-b-to-pos":[{"mask-b-to":bt()}],"mask-image-b-from-color":[{"mask-b-from":et()}],"mask-image-b-to-color":[{"mask-b-to":et()}],"mask-image-l-from-pos":[{"mask-l-from":bt()}],"mask-image-l-to-pos":[{"mask-l-to":bt()}],"mask-image-l-from-color":[{"mask-l-from":et()}],"mask-image-l-to-color":[{"mask-l-to":et()}],"mask-image-x-from-pos":[{"mask-x-from":bt()}],"mask-image-x-to-pos":[{"mask-x-to":bt()}],"mask-image-x-from-color":[{"mask-x-from":et()}],"mask-image-x-to-color":[{"mask-x-to":et()}],"mask-image-y-from-pos":[{"mask-y-from":bt()}],"mask-image-y-to-pos":[{"mask-y-to":bt()}],"mask-image-y-from-color":[{"mask-y-from":et()}],"mask-image-y-to-color":[{"mask-y-to":et()}],"mask-image-radial":[{"mask-radial":[_t,yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":bt()}],"mask-image-radial-to-pos":[{"mask-radial-to":bt()}],"mask-image-radial-from-color":[{"mask-radial-from":et()}],"mask-image-radial-to-color":[{"mask-radial-to":et()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ot()}],"mask-image-conic-pos":[{"mask-conic":[jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":bt()}],"mask-image-conic-to-pos":[{"mask-conic-to":bt()}],"mask-image-conic-from-color":[{"mask-conic-from":et()}],"mask-image-conic-to-color":[{"mask-conic-to":et()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:At()}],"mask-repeat":[{mask:Pt()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_t,yt]}],filter:[{filter:["","none",_t,yt]}],blur:[{blur:Re()}],brightness:[{brightness:[jt,_t,yt]}],contrast:[{contrast:[jt,_t,yt]}],"drop-shadow":[{"drop-shadow":["","none",C,Yf,Gf]}],"drop-shadow-color":[{"drop-shadow":et()}],grayscale:[{grayscale:["",jt,_t,yt]}],"hue-rotate":[{"hue-rotate":[jt,_t,yt]}],invert:[{invert:["",jt,_t,yt]}],saturate:[{saturate:[jt,_t,yt]}],sepia:[{sepia:["",jt,_t,yt]}],"backdrop-filter":[{"backdrop-filter":["","none",_t,yt]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[jt,_t,yt]}],"backdrop-contrast":[{"backdrop-contrast":[jt,_t,yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jt,_t,yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jt,_t,yt]}],"backdrop-invert":[{"backdrop-invert":["",jt,_t,yt]}],"backdrop-opacity":[{"backdrop-opacity":[jt,_t,yt]}],"backdrop-saturate":[{"backdrop-saturate":[jt,_t,yt]}],"backdrop-sepia":[{"backdrop-sepia":["",jt,_t,yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_t,yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jt,"initial",_t,yt]}],ease:[{ease:["linear","initial",X,_t,yt]}],delay:[{delay:[jt,_t,yt]}],animate:[{animate:["none",nt,_t,yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,_t,yt]}],"perspective-origin":[{"perspective-origin":ut()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:qn()}],"skew-x":[{"skew-x":qn()}],"skew-y":[{"skew-y":qn()}],transform:[{transform:[_t,yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:ut()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Xn()}],"translate-x":[{"translate-x":Xn()}],"translate-y":[{"translate-y":Xn()}],"translate-z":[{"translate-z":Xn()}],"translate-none":["translate-none"],accent:[{accent:et()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:et()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_t,yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_t,yt]}],fill:[{fill:["none",...et()]}],"stroke-w":[{stroke:[jt,ou,no,Ng]}],stroke:[{stroke:["none",...et()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wk=Nk(Xk);function Ft(...e){return Wk(lk(e))}const Ae=({content:e,children:t,className:n,side:i="top",disabled:a=!1})=>{const[l,c]=G.useState(!1),h={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"},m={top:"top-full left-1/2 -translate-x-1/2 -mt-1 border-t-black border-b-transparent border-l-transparent border-r-transparent",bottom:"bottom-full left-1/2 -translate-x-1/2 -mb-1 border-b-black border-t-transparent border-l-transparent border-r-transparent",left:"left-full top-1/2 -translate-y-1/2 -ml-1 border-l-black border-r-transparent border-t-transparent border-b-transparent",right:"right-full top-1/2 -translate-y-1/2 -mr-1 border-r-black border-l-transparent border-t-transparent border-b-transparent"};return x.jsxs("div",{className:Ft("relative inline-block",n),onMouseEnter:()=>!a&&c(!0),onMouseLeave:()=>c(!1),children:[t,l&&!a&&x.jsxs("div",{className:Ft("absolute z-[9999] px-2 py-1 text-xs text-white bg-black rounded-md whitespace-nowrap pointer-events-none animate-fade-in",h[i]),children:[e,x.jsx("div",{className:Ft("absolute border-4",m[i])})]})]})},$k="https://script.google.com/macros/s/AKfycbxrlK_jHWJguJ1sCHYEwmpllj8nR8uuVoiWYe2JF8RiPpvLy_vmGJTUMpoX2ZWKPwTMLA/exec",Zk=({open:e,onOpenChange:t,userEmail:n})=>{const[i,a]=G.useState(1),[l,c]=G.useState(null),[h,m]=G.useState({}),[p,y]=G.useState(!1),[v,T]=G.useState(0),C=p_.useRef(!1);G.useEffect(()=>{e?(i===0&&a(1),c(null),m({}),y(!1)):C.current=!1},[e]),G.useEffect(()=>{(async()=>{const R=(await chrome.storage.local.get(["summarizeCount","pulseCheckDismissed","pulseCheckDismissedFinal"])).summarizeCount||0;T(R)})();const ut=lt=>{if(lt.summarizeCount){const R=lt.summarizeCount.newValue;T(R)}};return chrome.storage.onChanged.addListener(ut),()=>chrome.storage.onChanged.removeListener(ut)},[]);const M=()=>{t(!1),C.current&&(v>=4?chrome.storage.local.set({pulseCheckDismissed:!0,pulseCheckDismissedFinal:!0}):chrome.storage.local.set({pulseCheckDismissed:!0})),C.current=!1},j=ot=>{c(ot),a(2)},L=(ot,ut)=>{m(lt=>({...lt,[ot]:ut}))},X=async()=>{if(p)return;y(!0);const ot={timestamp:new Date().toISOString(),rating:l,email:n||"anonymous",...h};try{fetch($k,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(ot)})}catch{}a(3)},nt=()=>{a(1),c(null),m({}),y(!1)};if(!e)return null;const W=l==="Game Changer"||l==="Useful";return x.jsx("div",{className:"popup-content absolute bottom-full right-0 mb-2 z-[200] w-[300px]",onClick:ot=>ot.stopPropagation(),children:x.jsxs("div",{className:"w-full bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[x.jsxs("div",{className:"flex justify-between items-center px-4 pt-3 pb-1",children:[x.jsx("span",{className:"text-[10px] font-bold text-black uppercase tracking-wider",children:"Pulse Check"}),x.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-600 transition-colors",children:x.jsx(TS,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"px-5 pb-5 pt-1",children:[i===1&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-900 text-center",children:"What is your initial feeling?"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("button",{onClick:()=>j("Game Changer"),className:"flex flex-col items-center justify-center gap-1 p-3 rounded-xl border border-gray-100 hover:border-black hover:bg-gray-50 transition-all group",children:[x.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:""}),x.jsx("span",{className:"text-xs font-medium text-gray-600 group-hover:text-black",children:"Game Changer"})]}),x.jsxs("button",{onClick:()=>j("Useful"),className:"flex flex-col items-center justify-center gap-1 p-3 rounded-xl border border-gray-100 hover:border-black hover:bg-gray-50 transition-all group",children:[x.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:""}),x.jsx("span",{className:"text-xs font-medium text-gray-600 group-hover:text-black",children:"Useful"})]}),x.jsxs("button",{onClick:()=>j("Okay"),className:"flex flex-col items-center justify-center gap-1 p-3 rounded-xl border border-gray-100 hover:border-gray-200 hover:bg-gray-50 transition-all group",children:[x.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:""}),x.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Okay"})]}),x.jsxs("button",{onClick:()=>j("Not helpful"),className:"flex flex-col items-center justify-center gap-1 p-3 rounded-xl border border-gray-100 hover:border-gray-200 hover:bg-gray-50 transition-all group",children:[x.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform",children:""}),x.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Not helpful"})]})]})]}),i===2&&x.jsxs("div",{className:"space-y-4 animate-fade-in",children:[W?x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Should I invest more time into this?"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>L("investTime",!0),className:Ft("flex-1 py-1.5 text-xs rounded-lg border transition-colors",h.investTime===!0?"bg-black text-white border-black":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:"Yes"}),x.jsx("button",{onClick:()=>L("investTime",!1),className:Ft("flex-1 py-1.5 text-xs rounded-lg border transition-colors",h.investTime===!1?"bg-gray-800 text-white border-gray-800":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:"No"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Did you wish for this tool before?"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>L("wishedBefore",!0),className:Ft("flex-1 py-1.5 text-xs rounded-lg border transition-colors",h.wishedBefore===!0?"bg-black text-white border-black":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:"Yes"}),x.jsx("button",{onClick:()=>L("wishedBefore",!1),className:Ft("flex-1 py-1.5 text-xs rounded-lg border transition-colors",h.wishedBefore===!1?"bg-gray-800 text-white border-gray-800":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:"No"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Would you refer this to others?"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>L("refer",!0),className:Ft("flex-1 py-1.5 text-xs rounded-lg border transition-colors",h.refer===!0?"bg-black text-white border-black":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:"Yes"}),x.jsx("button",{onClick:()=>L("refer",!1),className:Ft("flex-1 py-1.5 text-xs rounded-lg border transition-colors",h.refer===!1?"bg-gray-800 text-white border-gray-800":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:"No"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-xs font-medium text-gray-700",children:["Share more thoughts? ",x.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),x.jsx("textarea",{className:"w-full text-xs p-2 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black outline-none resize-none bg-gray-50",rows:2,placeholder:"What was your impression?",onChange:ot=>L("feedbackText",ot.target.value)})]})]}):x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs font-medium text-gray-700",children:"What went wrong?"}),x.jsx("div",{className:"flex flex-col gap-1.5",children:["Buggy","Confusing","Didn't solve problem"].map(ot=>x.jsx("button",{onClick:()=>L("whatWentWrong",ot),className:Ft("w-full text-left px-3 py-2 text-xs rounded-lg border transition-colors",h.whatWentWrong===ot?"bg-gray-50 border-gray-300 text-black font-medium":"border-gray-200 text-gray-600 hover:bg-gray-50"),children:ot},ot))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-xs font-medium text-gray-700",children:"One thing to fix?"}),x.jsx("textarea",{className:"w-full text-xs p-2 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black outline-none resize-none bg-gray-50",rows:2,placeholder:"Tell us what to improve...",onChange:ot=>L("feedbackText",ot.target.value)})]})]}),x.jsx("button",{onClick:X,disabled:p,className:"w-full py-2.5 bg-black hover:bg-gray-800 text-white text-xs font-semibold rounded-xl shadow-sm transition-all active:scale-95 flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-not-allowed",children:p?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):x.jsxs(x.Fragment,{children:["Submit Feedback",x.jsx(vS,{className:"w-3 h-3"})]})})]}),i===3&&x.jsxs("div",{className:"py-6 text-center animate-fade-in",children:[x.jsx("div",{className:"w-12 h-12 bg-gray-100 text-black rounded-full flex items-center justify-center mx-auto mb-3",children:x.jsx(y_,{className:"w-6 h-6"})}),x.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Thank You!"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1 mb-6",children:"Your feedback helps us build better."}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("button",{onClick:nt,className:"w-full py-2.5 bg-black hover:bg-gray-800 text-white text-xs font-semibold rounded-xl shadow-sm transition-all active:scale-95",children:"Submit Another Response"}),x.jsx("button",{onClick:M,className:"w-full py-2.5 bg-white border border-gray-200 hover:bg-gray-50 text-gray-600 text-xs font-semibold rounded-xl transition-all active:scale-95",children:"Close"})]})]})]})]})})},OS=({children:e,header:t})=>x.jsxs("div",{className:"h-screen w-full bg-white text-gray-900 font-sans flex flex-col overflow-hidden",children:[t&&x.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 px-4 py-3 flex items-center justify-between",children:t}),x.jsx("main",{className:"flex-1 flex flex-col p-4 relative overflow-hidden",children:e})]}),Jk=["Analyzing prompts","Extracting insights","Drafting summary"],tV=["Re-analyzing prompts","Re-extracting insights","Re-drafting summary"],Ig=({onGenerate:e,state:t,isRegenerating:n=!1,disabled:i=!1,compact:a=!1,isGuest:l=!1})=>{const c=G.useRef(null),h=n?tV:Jk,[m,p]=G.useState("paragraph"),[y,v]=G.useState("normal"),[T,C]=G.useState(""),[M,j]=G.useState(0),[L,X]=G.useState(!1),[nt,W]=G.useState(0);if(G.useEffect(()=>{if(t==="idle"){W(0),j(0),X(!1);return}if(t==="generating"){j(0),X(!1),W(0);const lt=setInterval(()=>{W(S=>S+.1)},100),R=setInterval(()=>{j(S=>S<h.length?S+1:S)},800);return()=>{clearInterval(lt),clearInterval(R)}}},[t,h.length]),a&&t==="idle")return x.jsx(Ae,{content:i?"Not available on this page":"Generate Summary",children:x.jsx("button",{onClick:()=>!i&&e(T,m,y),disabled:i,className:Ft("w-10 h-10 rounded-full flex items-center justify-center transition-colors group shadow-md",i?"bg-gray-200 cursor-not-allowed":"bg-black hover:bg-gray-800"),children:x.jsx(Hf,{className:Ft("w-5 h-5",i?"text-gray-400":"text-white")})})});if(l)return n?null:t==="idle"?x.jsx(Ae,{content:i?"Not available on this page":"Generate Summary",children:x.jsx("button",{onClick:()=>!i&&e(T,m,y),disabled:i,className:Ft("absolute right-4 bottom-4 w-12 h-12 rounded-full flex items-center justify-center transition-colors group shadow-lg z-50",i?"bg-gray-200 cursor-not-allowed":"bg-black hover:bg-gray-800"),children:x.jsx(Hf,{className:Ft("w-5 h-5",i?"text-gray-400":"text-white")})})}):t==="generating"?x.jsx(Ae,{content:"Generating...",disabled:!0,children:x.jsx("div",{className:"absolute right-4 bottom-4 w-12 h-12 rounded-full bg-black flex items-center justify-center shadow-lg z-50",children:x.jsx(WE,{className:"w-5 h-5 text-white animate-spin"})})}):null;const ot=lt=>{if(!lt.value.trim()){lt.style.height="24px";return}lt.style.height="auto";const R=Math.min(lt.scrollHeight,120);lt.style.height=`${R}px`},ut=lt=>{C(lt.target.value),ot(lt.target)};return G.useEffect(()=>{c.current&&ot(c.current)},[T]),x.jsxs("div",{className:Ft("relative w-full font-medium text-sm transition-all duration-300 ease-in-out bg-white text-gray-900 border border-gray-200",t==="idle"?"rounded-2xl":"rounded-xl",t==="idle"?"":t==="generating"||L?"min-h-[160px]":"h-12"),children:[t==="idle"&&x.jsxs("div",{className:"flex flex-col p-5 gap-6 animate-fade-in",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg w-fit",children:[x.jsx(Ae,{content:"Alignment",children:x.jsx("button",{onClick:()=>p("paragraph"),className:Ft("p-1.5 rounded-md transition-all",m==="paragraph"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"),children:x.jsx(JM,{className:"w-4 h-4"})})}),x.jsx(Ae,{content:"List",children:x.jsx("button",{onClick:()=>p("points"),className:Ft("p-1.5 rounded-md transition-all",m==="points"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"),children:x.jsx(jM,{className:"w-4 h-4"})})})]}),x.jsxs("div",{className:"w-full relative",children:[x.jsx("textarea",{ref:c,placeholder:"type additional information here",value:T,onChange:ut,rows:1,spellCheck:!0,className:"w-full border-none p-0 pr-2 text-base font-medium placeholder:text-gray-300 focus:ring-0 focus:outline-none text-gray-900 bg-transparent resize-none min-h-[24px] max-h-[120px] overflow-y-auto"}),x.jsx("div",{className:"w-full h-px bg-gray-100 mt-3"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>v(lt=>lt==="professional"?"normal":"professional"),className:Ft("px-3 py-1.5 rounded-full text-xs font-medium transition-colors",y==="professional"?"bg-gray-200 text-gray-900":"bg-gray-50 text-gray-400 hover:bg-gray-100"),children:"professional"}),x.jsx("button",{onClick:()=>v(lt=>lt==="creative"?"normal":"creative"),className:Ft("px-3 py-1.5 rounded-full text-xs font-medium transition-colors",y==="creative"?"bg-gray-200 text-gray-900":"bg-gray-50 text-gray-400 hover:bg-gray-100"),children:"creative"})]}),x.jsx(Ae,{content:"Generate Summary",children:x.jsx("button",{onClick:()=>e(T,m,y),className:"w-10 h-10 rounded-full bg-black flex items-center justify-center hover:bg-gray-800 transition-colors group shadow-md",children:x.jsx(Hf,{className:"w-5 h-5 text-white"})})})]})]}),t==="generating"&&x.jsxs("div",{className:"flex flex-col justify-center min-h-[160px] p-6 gap-3 animate-fade-in",children:[h.map((lt,R)=>x.jsxs("div",{className:"flex items-center gap-3",children:[R<M?x.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center",children:x.jsx(Mu,{className:"w-3 h-3 text-green-600"})}):R===M?x.jsx(WE,{className:"w-5 h-5 text-black animate-spin"}):x.jsx("div",{className:"w-5 h-5 rounded-full border border-gray-200"}),x.jsx("span",{className:Ft("text-sm transition-colors",R<=M?"text-gray-900 font-medium":"text-gray-400"),children:lt})]},R)),x.jsxs("div",{className:"absolute bottom-4 right-6 text-xs text-gray-400 font-mono",children:[nt.toFixed(1),"s"]})]}),t==="completed"&&x.jsxs("div",{className:"w-full h-full flex flex-col animate-fade-in",children:[!L&&x.jsxs("button",{onClick:()=>X(!0),className:"w-full h-12 flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors rounded-xl",children:[x.jsxs("div",{className:"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center",children:[x.jsx(Hf,{className:"w-3 h-3 text-green-600 -rotate-90"})," "]}),x.jsx("span",{className:"font-medium text-gray-900",children:"Summary Generated"}),x.jsxs("span",{className:"text-[10px] text-gray-400 font-mono ml-1",children:[nt.toFixed(1),"s"]})]}),L&&x.jsxs("div",{className:"flex flex-col justify-center min-h-[160px] p-6 gap-3 relative",children:[h.map((lt,R)=>x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center",children:x.jsx(Mu,{className:"w-3 h-3 text-green-600"})}),x.jsx("span",{className:"text-sm text-gray-900 font-medium",children:lt})]},R)),x.jsx("button",{onClick:()=>X(!1),className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx(xM,{className:"w-4 h-4 text-gray-400"})}),x.jsxs("div",{className:"absolute bottom-4 right-6 text-xs text-gray-400 font-mono",children:[nt.toFixed(1),"s"]})]})]})]})},PS=G.createContext({});function eV(e){const t=G.useRef(null);return t.current===null&&(t.current=e()),t.current}const v_=typeof window<"u",nV=v_?G.useLayoutEffect:G.useEffect,b_=G.createContext(null);function T_(e,t){e.indexOf(t)===-1&&e.push(t)}function E_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ur=(e,t,n)=>n>t?t:n<e?e:n;let x_=()=>{};const hr={},LS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jS(e){return typeof e=="object"&&e!==null}const zS=e=>/^0[^.\s]+$/u.test(e);function w_(e){let t;return()=>(t===void 0&&(t=e()),t)}const ji=e=>e,iV=(e,t)=>n=>t(e(n)),sh=(...e)=>e.reduce(iV),ku=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class S_{constructor(){this.subscriptions=[]}add(t){return T_(this.subscriptions,t),()=>E_(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const As=e=>e*1e3,Li=e=>e/1e3;function US(e,t){return t?e*(1e3/t):0}const BS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,sV=1e-7,rV=12;function aV(e,t,n,i,a){let l,c,h=0;do c=t+(n-t)/2,l=BS(c,i,a)-e,l>0?n=c:t=c;while(Math.abs(l)>sV&&++h<rV);return c}function rh(e,t,n,i){if(e===t&&n===i)return ji;const a=l=>aV(l,0,1,e,n);return l=>l===0||l===1?l:BS(a(l),t,i)}const FS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qS=e=>t=>1-e(1-t),HS=rh(.33,1.53,.69,.99),A_=qS(HS),GS=FS(A_),YS=e=>(e*=2)<1?.5*A_(e):.5*(2-Math.pow(2,-10*(e-1))),C_=e=>1-Math.sin(Math.acos(e)),KS=qS(C_),QS=FS(C_),oV=rh(.42,0,1,1),lV=rh(0,0,.58,1),XS=rh(.42,0,.58,1),cV=e=>Array.isArray(e)&&typeof e[0]!="number",WS=e=>Array.isArray(e)&&typeof e[0]=="number",uV={linear:ji,easeIn:oV,easeInOut:XS,easeOut:lV,circIn:C_,circInOut:QS,circOut:KS,backIn:A_,backInOut:GS,backOut:HS,anticipate:YS},hV=e=>typeof e=="string",i1=e=>{if(WS(e)){x_(e.length===4);const[t,n,i,a]=e;return rh(t,n,i,a)}else if(hV(e))return uV[e];return e},Kf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fV(e,t){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const M=T&&a?n:i;return v&&c.add(y),M.has(y)||M.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const dV=40;function $S(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Kf.reduce((W,ot)=>(W[ot]=fV(l),W),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:C,postRender:M}=c,j=()=>{const W=hr.useManualTiming?a.timestamp:performance.now();n=!1,hr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(W-a.timestamp,dV),1)),a.timestamp=W,a.isProcessing=!0,h.process(a),m.process(a),p.process(a),y.process(a),v.process(a),T.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(j))},L=()=>{n=!0,i=!0,a.isProcessing||e(j)};return{schedule:Kf.reduce((W,ot)=>{const ut=c[ot];return W[ot]=(lt,R=!1,S=!1)=>(n||L(),ut.schedule(lt,R,S)),W},{}),cancel:W=>{for(let ot=0;ot<Kf.length;ot++)c[Kf[ot]].cancel(W)},state:a,steps:c}}const{schedule:De,cancel:fa,state:Mn,steps:Dg}=$S(typeof requestAnimationFrame<"u"?requestAnimationFrame:ji,!0);let rd;function mV(){rd=void 0}const si={now:()=>(rd===void 0&&si.set(Mn.isProcessing||hr.useManualTiming?Mn.timestamp:performance.now()),rd),set:e=>{rd=e,queueMicrotask(mV)}},ZS=e=>t=>typeof t=="string"&&t.startsWith(e),JS=ZS("--"),pV=ZS("var(--"),R_=e=>pV(e)?gV.test(e.split("/*")[0].trim()):!1,gV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vu={...Wl,transform:e=>ur(0,1,e)},Qf={...Wl,default:1},yu=e=>Math.round(e*1e5)/1e5,N_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yV(e){return e==null}const _V=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I_=(e,t)=>n=>!!(typeof n=="string"&&_V.test(n)&&n.startsWith(e)||t&&!yV(n)&&Object.prototype.hasOwnProperty.call(n,t)),tA=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(N_);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},vV=e=>ur(0,255,e),Mg={...Wl,transform:e=>Math.round(vV(e))},oo={test:I_("rgb","red"),parse:tA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Mg.transform(e)+", "+Mg.transform(t)+", "+Mg.transform(n)+", "+yu(Vu.transform(i))+")"};function bV(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const hy={test:I_("#"),parse:bV,transform:oo.transform},ah=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ta=ah("deg"),Cs=ah("%"),Nt=ah("px"),TV=ah("vh"),EV=ah("vw"),s1={...Cs,parse:e=>Cs.parse(e)/100,transform:e=>Cs.transform(e*100)},bl={test:I_("hsl","hue"),parse:tA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Cs.transform(yu(t))+", "+Cs.transform(yu(n))+", "+yu(Vu.transform(i))+")"},nn={test:e=>oo.test(e)||hy.test(e)||bl.test(e),parse:e=>oo.test(e)?oo.parse(e):bl.test(e)?bl.parse(e):hy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oo.transform(e):bl.transform(e),getAnimatableNone:e=>{const t=nn.parse(e);return t.alpha=0,nn.transform(t)}},xV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wV(e){return isNaN(e)&&typeof e=="string"&&(e.match(N_)?.length||0)+(e.match(xV)?.length||0)>0}const eA="number",nA="color",SV="var",AV="var(",r1="${}",CV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ou(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(CV,m=>(nn.test(m)?(i.color.push(l),a.push(nA),n.push(nn.parse(m))):m.startsWith(AV)?(i.var.push(l),a.push(SV),n.push(m)):(i.number.push(l),a.push(eA),n.push(parseFloat(m))),++l,r1)).split(r1);return{values:n,split:h,indexes:i,types:a}}function iA(e){return Ou(e).values}function sA(e){const{split:t,types:n}=Ou(e),i=t.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],a[c]!==void 0){const h=n[c];h===eA?l+=yu(a[c]):h===nA?l+=nn.transform(a[c]):l+=a[c]}return l}}const RV=e=>typeof e=="number"?0:nn.test(e)?nn.getAnimatableNone(e):e;function NV(e){const t=iA(e);return sA(e)(t.map(RV))}const da={test:wV,parse:iA,createTransformer:sA,getAnimatableNone:NV};function kg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IV({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const h=n<.5?n*(1+t):n+t-n*t,m=2*n-h;a=kg(m,h,e+1/3),l=kg(m,h,e),c=kg(m,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function _d(e,t){return n=>n>0?t:e}const Ve=(e,t,n)=>e+(t-e)*n,Vg=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},DV=[hy,oo,bl],MV=e=>DV.find(t=>t.test(e));function a1(e){const t=MV(e);if(!t)return!1;let n=t.parse(e);return t===bl&&(n=IV(n)),n}const o1=(e,t)=>{const n=a1(e),i=a1(t);if(!n||!i)return _d(e,t);const a={...n};return l=>(a.red=Vg(n.red,i.red,l),a.green=Vg(n.green,i.green,l),a.blue=Vg(n.blue,i.blue,l),a.alpha=Ve(n.alpha,i.alpha,l),oo.transform(a))},fy=new Set(["none","hidden"]);function kV(e,t){return fy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function VV(e,t){return n=>Ve(e,t,n)}function D_(e){return typeof e=="number"?VV:typeof e=="string"?R_(e)?_d:nn.test(e)?o1:LV:Array.isArray(e)?rA:typeof e=="object"?nn.test(e)?o1:OV:_d}function rA(e,t){const n=[...e],i=n.length,a=e.map((l,c)=>D_(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function OV(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=D_(e[a])(e[a],t[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function PV(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][i[l]],h=e.values[c]??0;n[a]=h,i[l]++}return n}const LV=(e,t)=>{const n=da.createTransformer(t),i=Ou(e),a=Ou(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?fy.has(e)&&!a.values.length||fy.has(t)&&!i.values.length?kV(e,t):sh(rA(PV(i,a),a.values),n):_d(e,t)};function aA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ve(e,t,n):D_(e)(e,t)}const jV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>De.update(t,n),stop:()=>fa(t),now:()=>Mn.isProcessing?Mn.timestamp:si.now()}},oA=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)i+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},vd=2e4;function M_(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<vd;)t+=n,i=e.next(t);return t>=vd?1/0:t}function zV(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(M_(i),vd);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:Li(a)}}const UV=5;function lA(e,t,n){const i=Math.max(t-UV,0);return US(n-e(i),t-i)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Og=.001;function BV({duration:e=Le.duration,bounce:t=Le.bounce,velocity:n=Le.velocity,mass:i=Le.mass}){let a,l,c=1-t;c=ur(Le.minDamping,Le.maxDamping,c),e=ur(Le.minDuration,Le.maxDuration,Li(e)),c<1?(a=p=>{const y=p*c,v=y*e,T=y-n,C=dy(p,c),M=Math.exp(-v);return Og-T/C*M},l=p=>{const v=p*c*e,T=v*n+n,C=Math.pow(c,2)*Math.pow(p,2)*e,M=Math.exp(-v),j=dy(Math.pow(p,2),c);return(-a(p)+Og>0?-1:1)*((T-C)*M)/j}):(a=p=>{const y=Math.exp(-p*e),v=(p-n)*e+1;return-Og+y*v},l=p=>{const y=Math.exp(-p*e),v=(n-p)*(e*e);return y*v});const h=5/e,m=qV(a,l,h);if(e=As(e),isNaN(m))return{stiffness:Le.stiffness,damping:Le.damping,duration:e};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:e}}}const FV=12;function qV(e,t,n){let i=n;for(let a=1;a<FV;a++)i=i-e(i)/t(i);return i}function dy(e,t){return e*Math.sqrt(1-t*t)}const HV=["duration","bounce"],GV=["stiffness","damping","mass"];function l1(e,t){return t.some(n=>e[n]!==void 0)}function YV(e){let t={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...e};if(!l1(e,GV)&&l1(e,HV))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ur(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Le.mass,stiffness:a,damping:l}}else{const n=BV(e);t={...t,...n,mass:Le.mass},t.isResolvedFromDuration=!0}return t}function bd(e=Le.visualDuration,t=Le.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:C}=YV({...n,velocity:-Li(n.velocity||0)}),M=T||0,j=p/(2*Math.sqrt(m*y)),L=c-l,X=Li(Math.sqrt(m/y)),nt=Math.abs(L)<5;i||(i=nt?Le.restSpeed.granular:Le.restSpeed.default),a||(a=nt?Le.restDelta.granular:Le.restDelta.default);let W;if(j<1){const ut=dy(X,j);W=lt=>{const R=Math.exp(-j*X*lt);return c-R*((M+j*X*L)/ut*Math.sin(ut*lt)+L*Math.cos(ut*lt))}}else if(j===1)W=ut=>c-Math.exp(-X*ut)*(L+(M+X*L)*ut);else{const ut=X*Math.sqrt(j*j-1);W=lt=>{const R=Math.exp(-j*X*lt),S=Math.min(ut*lt,300);return c-R*((M+j*X*L)*Math.sinh(S)+ut*L*Math.cosh(S))/ut}}const ot={calculatedDuration:C&&v||null,next:ut=>{const lt=W(ut);if(C)h.done=ut>=v;else{let R=ut===0?M:0;j<1&&(R=ut===0?As(M):lA(W,ut,lt));const S=Math.abs(R)<=i,N=Math.abs(c-lt)<=a;h.done=S&&N}return h.value=h.done?c:lt,h},toString:()=>{const ut=Math.min(M_(ot),vd),lt=oA(R=>ot.next(ut*R).value,ut,30);return ut+"ms "+lt},toTransition:()=>{}};return ot}bd.applyToOptions=e=>{const t=zV(e,100,bd);return e.ease=t.ease,e.duration=As(t.duration),e.type="keyframes",e};function my({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:m,restDelta:p=.5,restSpeed:y}){const v=e[0],T={done:!1,value:v},C=S=>h!==void 0&&S<h||m!==void 0&&S>m,M=S=>h===void 0?m:m===void 0||Math.abs(h-S)<Math.abs(m-S)?h:m;let j=n*t;const L=v+j,X=c===void 0?L:c(L);X!==L&&(j=X-v);const nt=S=>-j*Math.exp(-S/i),W=S=>X+nt(S),ot=S=>{const N=nt(S),P=W(S);T.done=Math.abs(N)<=p,T.value=T.done?X:P};let ut,lt;const R=S=>{C(T.value)&&(ut=S,lt=bd({keyframes:[T.value,M(T.value)],velocity:lA(W,S,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:S=>{let N=!1;return!lt&&ut===void 0&&(N=!0,ot(S),R(S)),ut!==void 0&&S>=ut?lt.next(S-ut):(!N&&ot(S),T)}}}function KV(e,t,n){const i=[],a=n||hr.mix||aA,l=e.length-1;for(let c=0;c<l;c++){let h=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ji:t;h=sh(m,h)}i.push(h)}return i}function QV(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const l=e.length;if(x_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=KV(t,i,a),m=h.length,p=y=>{if(c&&y<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const T=ku(e[v],e[v+1],y);return h[v](T)};return n?y=>p(ur(e[0],e[l-1],y)):p}function XV(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=ku(0,t,i);e.push(Ve(n,1,a))}}function WV(e){const t=[0];return XV(t,e.length-1),t}function $V(e,t){return e.map(n=>n*t)}function ZV(e,t){return e.map(()=>t||XS).splice(0,e.length-1)}function _u({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=cV(i)?i.map(i1):i1(i),l={done:!1,value:t[0]},c=$V(n&&n.length===t.length?n:WV(t),e),h=QV(c,t,{ease:Array.isArray(a)?a:ZV(t,a)});return{calculatedDuration:e,next:m=>(l.value=h(m),l.done=m>=e,l)}}const JV=e=>e!==null;function k_(e,{repeat:t,repeatType:n="loop"},i,a=1){const l=e.filter(JV),h=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const t4={decay:my,inertia:my,tween:_u,keyframes:_u,spring:bd};function cA(e){typeof e.type=="string"&&(e.type=t4[e.type])}class V_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const e4=e=>e/100;class O_ extends V_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==si.now()&&this.tick(si.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cA(t);const{type:n=_u,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const m=n||_u;m!==_u&&typeof h[0]!="number"&&(this.mixKeyframes=sh(e4,aA(h[0],h[1])),h=[0,100]);const p=m({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=M_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:C,type:M,onUpdate:j,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const X=this.currentTime-p*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?X<0:X>a;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let W=this.currentTime,ot=i;if(v){const S=Math.min(this.currentTime,a)/h;let N=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&N--,N=Math.min(N,v+1),N%2&&(T==="reverse"?(P=1-P,C&&(P-=C/h)):T==="mirror"&&(ot=c)),W=ur(0,1,P)*h}const ut=nt?{done:!1,value:y[0]}:ot.next(W);l&&(ut.value=l(ut.value));let{done:lt}=ut;!nt&&m!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return R&&M!==my&&(ut.value=k_(y,this.options,L,this.speed)),j&&j(ut.value),R&&this.finish(),ut}then(t,n){return this.finished.then(t,n)}get duration(){return Li(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Li(t)}get time(){return Li(this.currentTime)}set time(t){t=As(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(si.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Li(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=jV,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function n4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lo=e=>e*180/Math.PI,py=e=>{const t=lo(Math.atan2(e[1],e[0]));return gy(t)},i4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:py,rotateZ:py,skewX:e=>lo(Math.atan(e[1])),skewY:e=>lo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gy=e=>(e=e%360,e<0&&(e+=360),e),c1=py,u1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),h1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),s4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u1,scaleY:h1,scale:e=>(u1(e)+h1(e))/2,rotateX:e=>gy(lo(Math.atan2(e[6],e[5]))),rotateY:e=>gy(lo(Math.atan2(-e[2],e[0]))),rotateZ:c1,rotate:c1,skewX:e=>lo(Math.atan(e[4])),skewY:e=>lo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yy(e){return e.includes("scale")?1:0}function _y(e,t){if(!e||e==="none")return yy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=s4,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=i4,a=h}if(!a)return yy(t);const l=i[t],c=a[1].split(",").map(a4);return typeof l=="function"?l(c):c[l]}const r4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _y(n,t)};function a4(e){return parseFloat(e.trim())}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zl=new Set($l),f1=e=>e===Wl||e===Nt,o4=new Set(["x","y","z"]),l4=$l.filter(e=>!o4.has(e));function c4(e){const t=[];return l4.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_y(t,"x"),y:(e,{transform:t})=>_y(t,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const fo=new Set;let vy=!1,by=!1,Ty=!1;function uA(){if(by){const e=Array.from(fo).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=c4(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}by=!1,vy=!1,fo.forEach(e=>e.complete(Ty)),fo.clear()}function hA(){fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(by=!0)})}function u4(){Ty=!0,hA(),uA(),Ty=!1}class P_{constructor(t,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),vy||(vy=!0,De.read(hA),De.resolveKeyframes(uA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}n4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h4=e=>e.startsWith("--");function f4(e,t,n){h4(t)?e.style.setProperty(t,n):e.style[t]=n}const d4=w_(()=>window.ScrollTimeline!==void 0),m4={};function p4(e,t){const n=w_(e);return()=>m4[t]??n()}const fA=p4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,d1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function dA(e,t){if(e)return typeof e=="function"?fA()?oA(e,t):"ease-out":WS(e)?du(e):Array.isArray(e)?e.map(n=>dA(n,t)||d1.easeOut):d1[e]}function g4(e,t,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const v=dA(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),e.animate(y,T)}function mA(e){return typeof e=="function"&&"applyToOptions"in e}function y4({type:e,...t}){return mA(e)&&fA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _4 extends V_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,x_(typeof t.type!="string");const p=y4(t);this.animation=g4(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=k_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):f4(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Li(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Li(t)}get time(){return Li(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=As(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&d4()?(this.animation.timeline=t,ji):n(this)}}const pA={anticipate:YS,backInOut:GS,circInOut:QS};function v4(e){return e in pA}function b4(e){typeof e.ease=="string"&&v4(e.ease)&&(e.ease=pA[e.ease])}const m1=10;class T4 extends _4{constructor(t){b4(t),cA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new O_({...c,autoplay:!1}),m=As(this.finishedTime??this.time);n.setWithVelocity(h.sample(m-m1).value,h.sample(m).value,m1),h.stop()}}const p1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(da.test(e)||e==="0")&&!e.startsWith("url("));function E4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function x4(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=p1(a,t),h=p1(l,t);return!c||!h?!1:E4(e)||(n==="spring"||mA(n))&&i}function Ey(e){e.duration=0,e.type="keyframes"}const w4=new Set(["opacity","clipPath","filter","transform"]),S4=w_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function A4(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return S4()&&n&&w4.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const C4=40;class R4 extends V_{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=si.now();const T={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...v},C=y?.KeyframeResolver||P_;this.keyframeResolver=new C(h,(M,j,L)=>this.onKeyframesResolved(M,j,T,!L),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=si.now(),x4(t,l,c,h)||((hr.instantAnimations||!m)&&y?.(k_(t,i,n)),t[0]=t[t.length-1],Ey(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>C4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},C=!p&&A4(T)?new T4({...T,element:T.motionValue.owner.current}):new O_(T);C.finished.then(()=>this.notifyFinished()).catch(ji),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),u4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const N4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I4(e){const t=N4.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function gA(e,t,n=1){const[i,a]=I4(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return LS(c)?parseFloat(c):c}return R_(a)?gA(a,t,n+1):a}function L_(e,t){return e?.[t]??e?.default??e}const yA=new Set(["width","height","top","left","right","bottom",...$l]),D4={test:e=>e==="auto",parse:e=>e},_A=e=>t=>t.test(e),vA=[Wl,Nt,Cs,ta,EV,TV,D4],g1=e=>vA.find(_A(e));function M4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||zS(e):!0}const k4=new Set(["brightness","contrast","saturate","opacity"]);function V4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(N_)||[];if(!i)return e;const a=n.replace(i,"");let l=k4.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+a+")"}const O4=/\b([a-z-]*)\(.*?\)/gu,xy={...da,getAnimatableNone:e=>{const t=e.match(O4);return t?t.map(V4).join(" "):e}},y1={...Wl,transform:Math.round},P4={rotate:ta,rotateX:ta,rotateY:ta,rotateZ:ta,scale:Qf,scaleX:Qf,scaleY:Qf,scaleZ:Qf,skew:ta,skewX:ta,skewY:ta,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:Vu,originX:s1,originY:s1,originZ:Nt},j_={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,backgroundPositionX:Nt,backgroundPositionY:Nt,...P4,zIndex:y1,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:y1},L4={...j_,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:xy,WebkitFilter:xy},bA=e=>L4[e];function TA(e,t){let n=bA(e);return n!==xy&&(n=da),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const j4=new Set(["auto","none","0"]);function z4(e,t,n){let i=0,a;for(;i<e.length&&!a;){const l=e[i];typeof l=="string"&&!j4.has(l)&&Ou(l).values.length&&(a=e[i]),i++}if(a&&n)for(const l of t)e[l]=TA(n,a)}class U4 extends P_{constructor(t,n,i,a,l){super(t,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),R_(p))){const y=gA(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!yA.has(i)||t.length!==2)return;const[a,l]=t,c=g1(a),h=g1(l);if(c!==h)if(f1(c)&&f1(h))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ho[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||M4(t[a]))&&i.push(a);i.length&&z4(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function B4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const EA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function F4(e){return jS(e)&&"offsetHeight"in e}const _1=30,q4=e=>!isNaN(parseFloat(e));class H4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=si.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=si.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new S_);const i=this.events[t].add(n);return t==="change"?()=>{i(),De.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_1);return US(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(e,t){return new H4(e,t)}const{schedule:z_}=$S(queueMicrotask,!1),$i={x:!1,y:!1};function xA(){return $i.x||$i.y}function G4(e){return e==="x"||e==="y"?$i[e]?null:($i[e]=!0,()=>{$i[e]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}function wA(e,t){const n=B4(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function v1(e){return!(e.pointerType==="touch"||xA())}function Y4(e,t,n={}){const[i,a,l]=wA(e,n),c=h=>{if(!v1(h))return;const{target:m}=h,p=t(m,h);if(typeof p!="function"||!m)return;const y=v=>{v1(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const SA=(e,t)=>t?e===t?!0:SA(e,t.parentElement):!1,U_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,K4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Q4(e){return K4.has(e.tagName)||e.tabIndex!==-1}const ad=new WeakSet;function b1(e){return t=>{t.key==="Enter"&&e(t)}}function Pg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const X4=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=b1(()=>{if(ad.has(n))return;Pg(n,"down");const a=b1(()=>{Pg(n,"up")}),l=()=>Pg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function T1(e){return U_(e)&&!xA()}function W4(e,t,n={}){const[i,a,l]=wA(e,n),c=h=>{const m=h.currentTarget;if(!T1(h))return;ad.add(m);const p=t(m,h),y=(C,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),ad.has(m)&&ad.delete(m),T1(C)&&typeof p=="function"&&p(C,{success:M})},v=C=>{y(C,m===window||m===document||n.useGlobalTarget||SA(m,C.target))},T=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),F4(h)&&(h.addEventListener("focus",p=>X4(p,a)),!Q4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function AA(e){return jS(e)&&"ownerSVGElement"in e}function $4(e){return AA(e)&&e.tagName==="svg"}const Fn=e=>!!(e&&e.getVelocity),Z4=[...vA,nn,da],J4=e=>Z4.find(_A(e)),CA=G.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function tO(e=!0){const t=G.useContext(b_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,l=G.useId();G.useEffect(()=>{if(e)return a(l)},[e]);const c=G.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,c]:[!0]}const RA=G.createContext({strict:!1}),E1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ol={};for(const e in E1)Ol[e]={isEnabled:t=>E1[e].some(n=>!!t[n])};function eO(e){for(const t in e)Ol[t]={...Ol[t],...e[t]}}const nO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nO.has(e)}let NA=e=>!Td(e);function iO(e){typeof e=="function"&&(NA=t=>t.startsWith("on")?!Td(t):e(t))}try{iO(require("@emotion/is-prop-valid").default)}catch{}function sO(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(NA(a)||n===!0&&Td(a)||!t&&!Td(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const tm=G.createContext({});function em(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pu(e){return typeof e=="string"||Array.isArray(e)}const B_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F_=["initial",...B_];function nm(e){return em(e.animate)||F_.some(t=>Pu(e[t]))}function IA(e){return!!(nm(e)||e.variants)}function rO(e,t){if(nm(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(i)?i:void 0}}return e.inherit!==!1?t:{}}function aO(e){const{initial:t,animate:n}=rO(e,G.useContext(tm));return G.useMemo(()=>({initial:t,animate:n}),[x1(t),x1(n)])}function x1(e){return Array.isArray(e)?e.join(" "):e}function w1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Nt.test(e))e=parseFloat(e);else return e;const n=w1(e,t.target.x),i=w1(e,t.target.y);return`${n}% ${i}%`}},oO={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=da.parse(e);if(a.length>5)return i;const l=da.createTransformer(e),c=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=h,a[1+c]/=m;const p=Ve(h,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},wy={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:oO};function DA(e,{layout:t,layoutId:n}){return Zl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wy[e]||e==="opacity")}const lO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cO=$l.length;function uO(e,t,n){let i="",a=!0;for(let l=0;l<cO;l++){const c=$l[l],h=e[c];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(c.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||n){const p=EA(h,j_[c]);if(!m){a=!1;const y=lO[c]||c;i+=`${y}(${p}) `}n&&(t[c]=p)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function q_(e,t,n){const{style:i,vars:a,transformOrigin:l}=e;let c=!1,h=!1;for(const m in t){const p=t[m];if(Zl.has(m)){c=!0;continue}else if(JS(m)){a[m]=p;continue}else{const y=EA(p,j_[m]);m.startsWith("origin")?(h=!0,l[m]=y):i[m]=y}}if(t.transform||(c||n?i.transform=uO(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}const H_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MA(e,t,n){for(const i in t)!Fn(t[i])&&!DA(i,n)&&(e[i]=t[i])}function hO({transformTemplate:e},t){return G.useMemo(()=>{const n=H_();return q_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function fO(e,t){const n=e.style||{},i={};return MA(i,n,e),Object.assign(i,hO(e,t)),i}function dO(e,t){const n={},i=fO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const mO={offset:"stroke-dashoffset",array:"stroke-dasharray"},pO={offset:"strokeDashoffset",array:"strokeDasharray"};function gO(e,t,n=1,i=0,a=!0){e.pathLength=1;const l=a?mO:pO;e[l.offset]=Nt.transform(-i);const c=Nt.transform(t),h=Nt.transform(n);e[l.array]=`${c} ${h}`}function kA(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},m,p,y){if(q_(e,h,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:T}=e;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&gO(v,a,l,c,!1)}const VA=()=>({...H_(),attrs:{}}),OA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yO(e,t,n,i){const a=G.useMemo(()=>{const l=VA();return kA(l,t,OA(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};MA(l,e.style,e),a.style={...l,...a.style}}return a}const _O=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G_(e){return typeof e!="string"||e.includes("-")?!1:!!(_O.indexOf(e)>-1||/[A-Z]/u.test(e))}function vO(e,t,n,{latestValues:i},a,l=!1){const h=(G_(e)?yO:dO)(t,i,a,e),m=sO(t,typeof e=="string",l),p=e!==G.Fragment?{...m,...h,ref:n}:{},{children:y}=t,v=G.useMemo(()=>Fn(y)?y.get():y,[y]);return G.createElement(e,{...p,children:v})}function S1(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Y_(e,t,n,i){if(typeof t=="function"){const[a,l]=S1(i);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=S1(i);t=t(n!==void 0?n:e.custom,a,l)}return t}function od(e){return Fn(e)?e.get():e}function bO({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:TO(n,i,a,e),renderState:t()}}function TO(e,t,n,i){const a={},l=i(e,{});for(const T in l)a[T]=od(l[T]);let{initial:c,animate:h}=e;const m=nm(e),p=IA(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!em(v)){const T=Array.isArray(v)?v:[v];for(let C=0;C<T.length;C++){const M=Y_(e,T[C]);if(M){const{transitionEnd:j,transition:L,...X}=M;for(const nt in X){let W=X[nt];if(Array.isArray(W)){const ot=y?W.length-1:0;W=W[ot]}W!==null&&(a[nt]=W)}for(const nt in j)a[nt]=j[nt]}}}return a}const PA=e=>(t,n)=>{const i=G.useContext(tm),a=G.useContext(b_),l=()=>bO(e,t,i,a);return n?l():eV(l)};function K_(e,t,n){const{style:i}=e,a={};for(const l in i)(Fn(i[l])||t.style&&Fn(t.style[l])||DA(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const EO=PA({scrapeMotionValuesFromProps:K_,createRenderState:H_});function LA(e,t,n){const i=K_(e,t,n);for(const a in e)if(Fn(e[a])||Fn(t[a])){const l=$l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=e[a]}return i}const xO=PA({scrapeMotionValuesFromProps:LA,createRenderState:VA}),wO=Symbol.for("motionComponentSymbol");function Tl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SO(e,t,n){return G.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Tl(n)&&(n.current=i))},[t])}const Q_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AO="framerAppearId",jA="data-"+Q_(AO),zA=G.createContext({});function CO(e,t,n,i,a){const{visualElement:l}=G.useContext(tm),c=G.useContext(RA),h=G.useContext(b_),m=G.useContext(CA).reducedMotion,p=G.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,v=G.useContext(zA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&RO(p.current,n,a,v);const T=G.useRef(!1);G.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const C=n[jA],M=G.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return nV(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),M.current&&y.animationState&&y.animationState.animateChanges())}),G.useEffect(()=>{y&&(!M.current&&y.animationState&&y.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),M.current=!1),y.enteringChildren=void 0)}),y}function RO(e,t,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:UA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Tl(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function UA(e){if(e)return e.options.allowProjection!==!1?e.projection:UA(e.parent)}function Lg(e,{forwardMotionProps:t=!1}={},n,i){n&&eO(n);const a=G_(e)?xO:EO;function l(h,m){let p;const y={...G.useContext(CA),...h,layoutId:NO(h)},{isStatic:v}=y,T=aO(h),C=a(h,v);if(!v&&v_){IO();const M=DO(y);p=M.MeasureLayout,T.visualElement=CO(e,C,y,i,M.ProjectionNode)}return x.jsxs(tm.Provider,{value:T,children:[p&&T.visualElement?x.jsx(p,{visualElement:T.visualElement,...y}):null,vO(e,h,SO(C,T.visualElement,m),C,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=G.forwardRef(l);return c[wO]=e,c}function NO({layoutId:e}){const t=G.useContext(PS).id;return t&&e!==void 0?t+"-"+e:e}function IO(e,t){G.useContext(RA).strict}function DO(e){const{drag:t,layout:n}=Ol;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function MO(e,t){if(typeof Proxy>"u")return Lg;const n=new Map,i=(l,c)=>Lg(l,c,e,t),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Lg(c,void 0,e,t)),n.get(c))})}function BA({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function kO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function jg(e){return e===void 0||e===1}function Sy({scale:e,scaleX:t,scaleY:n}){return!jg(e)||!jg(t)||!jg(n)}function so(e){return Sy(e)||FA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FA(e){return A1(e.x)||A1(e.y)}function A1(e){return e&&e!=="0%"}function Ed(e,t,n){const i=e-n,a=t*i;return n+a}function C1(e,t,n,i,a){return a!==void 0&&(e=Ed(e,a,i)),Ed(e,n,i)+t}function Ay(e,t=0,n=1,i,a){e.min=C1(e.min,t,n,i,a),e.max=C1(e.max,t,n,i,a)}function qA(e,{x:t,y:n}){Ay(e.x,t.translate,t.scale,t.originPoint),Ay(e.y,n.translate,n.scale,n.originPoint)}const R1=.999999999999,N1=1.0000000000001;function OO(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&xl(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,qA(e,c)),i&&so(l.latestValues)&&xl(e,l.latestValues))}t.x<N1&&t.x>R1&&(t.x=1),t.y<N1&&t.y>R1&&(t.y=1)}function El(e,t){e.min=e.min+t,e.max=e.max+t}function I1(e,t,n,i,a=.5){const l=Ve(e.min,e.max,a);Ay(e,t,n,l,i)}function xl(e,t){I1(e.x,t.x,t.scaleX,t.scale,t.originX),I1(e.y,t.y,t.scaleY,t.scale,t.originY)}function HA(e,t){return BA(VO(e.getBoundingClientRect(),t))}function PO(e,t,n){const i=HA(e,n),{scroll:a}=t;return a&&(El(i.x,a.offset.x),El(i.y,a.offset.y)),i}const D1=()=>({translate:0,scale:1,origin:0,originPoint:0}),wl=()=>({x:D1(),y:D1()}),M1=()=>({min:0,max:0}),un=()=>({x:M1(),y:M1()}),Cy={current:null},GA={current:!1};function LO(){if(GA.current=!0,!!v_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cy.current=e.matches;e.addEventListener("change",t),t()}else Cy.current=!1}const jO=new WeakMap;function zO(e,t,n){for(const i in t){const a=t[i],l=n[i];if(Fn(a))e.addValue(i,a);else if(Fn(l))e.addValue(i,Vl(a,{owner:e}));else if(l!==a)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(i);e.addValue(i,Vl(c!==void 0?c:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const k1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UO{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=si.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,De.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=nm(n),this.isVariantNode=IA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const C=v[T];m[T]!==void 0&&Fn(C)&&C.set(m[T])}}mount(t){this.current=t,jO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),GA.current||LO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fa(this.notifyUpdate),fa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Zl.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&De.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ol){const n=Ol[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<k1.length;i++){const a=k1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=zO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Vl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(LS(i)||zS(i))?i=parseFloat(i):!J4(i)&&da.test(n)&&(i=TA(t,n)),this.setBaseTarget(t,Fn(i)?i.get():i)),Fn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Y_(this.props,n,this.presenceContext?.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Fn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new S_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){z_.render(this.render)}}class YA extends UO{constructor(){super(...arguments),this.KeyframeResolver=U4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KA(e,{style:t,vars:n},i,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function BO(e){return window.getComputedStyle(e)}class FO extends YA{constructor(){super(...arguments),this.type="html",this.renderInstance=KA}readValueFromInstance(t,n){if(Zl.has(n))return this.projection?.isProjecting?yy(n):r4(t,n);{const i=BO(t),a=(JS(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return HA(t,n)}build(t,n,i){q_(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return K_(t,n,i)}}const QA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qO(e,t,n,i){KA(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(QA.has(a)?a:Q_(a),t.attrs[a])}class HO extends YA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zl.has(n)){const i=bA(n);return i&&i.default||0}return n=QA.has(n)?n:Q_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return LA(t,n,i)}build(t,n,i){kA(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){qO(t,n,i,a)}mount(t){this.isSVGTag=OA(t.tagName),super.mount(t)}}const GO=(e,t)=>G_(e)?new HO(t):new FO(t,{allowProjection:e!==G.Fragment});function Rl(e,t,n){const i=e.getProps();return Y_(i,t,n!==void 0?n:i.custom,e)}const Ry=e=>Array.isArray(e);function YO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vl(n))}function KO(e){return Ry(e)?e[e.length-1]||0:e}function QO(e,t){const n=Rl(e,t);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=KO(l[c]);YO(e,c,h)}}function XO(e){return!!(Fn(e)&&e.add)}function Ny(e,t){const n=e.getValue("willChange");if(XO(n))return n.add(t);if(!n&&hr.WillChange){const i=new hr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function XA(e){return e.props[jA]}const WO=e=>e!==null;function $O(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(WO),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const ZO={type:"spring",stiffness:500,damping:25,restSpeed:10},JO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),t3={type:"keyframes",duration:.8},e3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n3=(e,{keyframes:t})=>t.length>2?t3:Zl.has(e)?e.startsWith("scale")?JO(t[1]):ZO:e3;function i3({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const X_=(e,t,n,i={},a,l)=>c=>{const h=L_(i,e)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-As(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:T=>{t.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:a};i3(h)||Object.assign(y,n3(e,y)),y.duration&&(y.duration=As(y.duration)),y.repeatDelay&&(y.repeatDelay=As(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ey(y),y.delay===0&&(v=!0)),(hr.instantAnimations||hr.skipAnimations)&&(v=!0,Ey(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const T=$O(y.keyframes,h);if(T!==void 0){De.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new O_(y):new R4(y)};function s3({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function WA(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...h}=t;i&&(l=i);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const v=e.getValue(y,e.latestValues[y]??null),T=h[y];if(T===void 0||p&&s3(p,y))continue;const C={delay:n,...L_(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===M&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const X=XA(e);if(X){const nt=window.MotionHandoffAnimation(X,y,De);nt!==null&&(C.startTime=nt,j=!0)}}Ny(e,y),v.start(X_(y,v,T,e.shouldReduceMotion&&yA.has(y)?{type:!1}:C,e,j));const L=v.animation;L&&m.push(L)}return c&&Promise.all(m).then(()=>{De.update(()=>{c&&QO(e,c)})}),m}function $A(e,t,n,i=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}function Iy(e,t,n={}){const i=Rl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(WA(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return r3(e,t,m,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,p]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function r3(e,t,n=0,i=0,a=0,l=1,c){const h=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),h.push(Iy(m,t,{...c,delay:n+(typeof i=="function"?0:i)+$A(e.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(h)}function a3(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>Iy(e,l,n));i=Promise.all(a)}else if(typeof t=="string")i=Iy(e,t,n);else{const a=typeof t=="function"?Rl(e,t,n.custom):t;i=Promise.all(WA(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function ZA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const o3=F_.length;function JA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?JA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<o3;n++){const i=F_[n],a=e.props[i];(Pu(a)||a===!1)&&(t[i]=a)}return t}const l3=[...B_].reverse(),c3=B_.length;function u3(e){return t=>Promise.all(t.map(({animation:n,options:i})=>a3(e,n,i)))}function h3(e){let t=u3(e),n=V1(),i=!0;const a=m=>(p,y)=>{const v=Rl(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:C,...M}=v;p={...p,...M,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=JA(e.parent)||{},v=[],T=new Set;let C={},M=1/0;for(let L=0;L<c3;L++){const X=l3[L],nt=n[X],W=p[X]!==void 0?p[X]:y[X],ot=Pu(W),ut=X===m?nt.isActive:null;ut===!1&&(M=L);let lt=W===y[X]&&W!==p[X]&&ot;if(lt&&i&&e.manuallyAnimateOnMount&&(lt=!1),nt.protectedKeys={...C},!nt.isActive&&ut===null||!W&&!nt.prevProp||em(W)||typeof W=="boolean")continue;const R=f3(nt.prevProp,W);let S=R||X===m&&nt.isActive&&!lt&&ot||L>M&&ot,N=!1;const P=Array.isArray(W)?W:[W];let k=P.reduce(a(X),{});ut===!1&&(k={});const{prevResolvedValues:z={}}=nt,I={...z,...k},Gt=at=>{S=!0,T.has(at)&&(N=!0,T.delete(at)),nt.needsAnimating[at]=!0;const et=e.getValue(at);et&&(et.liveStyle=!1)};for(const at in I){const et=k[at],At=z[at];if(C.hasOwnProperty(at))continue;let Pt=!1;Ry(et)&&Ry(At)?Pt=!ZA(et,At):Pt=et!==At,Pt?et!=null?Gt(at):T.add(at):et!==void 0&&T.has(at)?Gt(at):nt.protectedKeys[at]=!0}nt.prevProp=W,nt.prevResolvedValues=k,nt.isActive&&(C={...C,...k}),i&&e.blockInitialAnimation&&(S=!1);const te=lt&&R;S&&(!te||N)&&v.push(...P.map(at=>{const et={type:X};if(typeof at=="string"&&i&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:At}=e,Pt=Rl(At,at);if(At.enteringChildren&&Pt){const{delayChildren:V}=Pt.transition||{};et.delay=$A(At.enteringChildren,e,V)}}return{animation:at,options:et}}))}if(T.size){const L={};if(typeof p.initial!="boolean"){const X=Rl(e,Array.isArray(p.initial)?p.initial[0]:p.initial);X&&X.transition&&(L.transition=X.transition)}T.forEach(X=>{const nt=e.getBaseTarget(X),W=e.getValue(X);W&&(W.liveStyle=!0),L[X]=nt??null}),v.push({animation:L})}let j=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(j=!1),i=!1,j?t(v):Promise.resolve()}function h(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=V1()}}}function f3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZA(t,e):!1}function io(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class wa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class d3 extends wa{constructor(t){super(t),t.animationState||(t.animationState=h3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();em(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let m3=0;class p3 extends wa{constructor(){super(...arguments),this.id=m3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const g3={animation:{Feature:d3},exit:{Feature:p3}};function Lu(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function oh(e){return{point:{x:e.pageX,y:e.pageY}}}const y3=e=>t=>U_(t)&&e(t,oh(t));function vu(e,t,n,i){return Lu(e,t,y3(n),i)}const tC=1e-4,_3=1-tC,v3=1+tC,eC=.01,b3=0-eC,T3=0+eC;function Kn(e){return e.max-e.min}function E3(e,t,n){return Math.abs(e-t)<=n}function O1(e,t,n,i=.5){e.origin=i,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=Kn(n)/Kn(t),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_3&&e.scale<=v3||isNaN(e.scale))&&(e.scale=1),(e.translate>=b3&&e.translate<=T3||isNaN(e.translate))&&(e.translate=0)}function bu(e,t,n,i){O1(e.x,t.x,n.x,i?i.originX:void 0),O1(e.y,t.y,n.y,i?i.originY:void 0)}function P1(e,t,n){e.min=n.min+t.min,e.max=e.min+Kn(t)}function x3(e,t,n){P1(e.x,t.x,n.x),P1(e.y,t.y,n.y)}function L1(e,t,n){e.min=t.min-n.min,e.max=e.min+Kn(t)}function xd(e,t,n){L1(e.x,t.x,n.x),L1(e.y,t.y,n.y)}function Vi(e){return[e("x"),e("y")]}const nC=({current:e})=>e?e.ownerDocument.defaultView:null,j1=(e,t)=>Math.abs(e-t);function w3(e,t){const n=j1(e.x,t.x),i=j1(e.y,t.y);return Math.sqrt(n**2+i**2)}class iC{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ug(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,M=w3(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!M)return;const{point:j}=T,{timestamp:L}=Mn;this.history.push({...j,timestamp:L});const{onStart:X,onMove:nt}=this.handlers;C||(X&&X(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=zg(C,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:M,onSessionEnd:j,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=Ug(T.type==="pointercancel"?this.lastMoveEventInfo:zg(C,this.transformPagePoint),this.history);this.startEvent&&M&&M(T,X),j&&j(T,X)},!U_(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const h=oh(t),m=zg(h,this.transformPagePoint),{point:p}=m,{timestamp:y}=Mn;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,Ug(m,this.history)),this.removeListeners=sh(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fa(this.updatePoint)}}function zg(e,t){return t?{point:t(e.point)}:e}function z1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ug({point:e},t){return{point:e,delta:z1(e,sC(t)),offset:z1(e,S3(t)),velocity:A3(t,.1)}}function S3(e){return e[0]}function sC(e){return e[e.length-1]}function A3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=sC(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>As(t)));)n--;if(!i)return{x:0,y:0};const l=Li(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function C3(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ve(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ve(n,e,i.max):Math.min(e,n)),e}function U1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function R3(e,{top:t,left:n,bottom:i,right:a}){return{x:U1(e.x,n,a),y:U1(e.y,t,i)}}function B1(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function N3(e,t){return{x:B1(e.x,t.x),y:B1(e.y,t.y)}}function I3(e,t){let n=.5;const i=Kn(e),a=Kn(t);return a>i?n=ku(t.min,t.max-i,e.min):i>a&&(n=ku(e.min,e.max-a,t.min)),ur(0,1,n)}function D3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Dy=.35;function M3(e=Dy){return e===!1?e=0:e===!0&&(e=Dy),{x:F1(e,"left","right"),y:F1(e,"top","bottom")}}function F1(e,t,n){return{min:q1(e,t),max:q1(e,n)}}function q1(e,t){return typeof e=="number"?e:e[t]||0}const k3=new WeakMap;class V3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oh(v).point)},c=(v,T)=>{const{drag:C,dragPropagation:M,onDragStart:j}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G4(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(X=>{let nt=this.getAxisMotionValue(X).get()||0;if(Cs.test(nt)){const{projection:W}=this.visualElement;if(W&&W.layout){const ot=W.layout.layoutBox[X];ot&&(nt=Kn(ot)*(parseFloat(nt)/100))}}this.originPoint[X]=nt}),j&&De.postRender(()=>j(v,T)),Ny(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:j,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:X}=T;if(M&&this.currentDirection===null){this.currentDirection=O3(X),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",T.point,X),this.updateAxis("y",T.point,X),this.visualElement.render(),L&&L(v,T)},m=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new iC(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:nC(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&De.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Xf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=C3(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Tl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=R3(i.layoutBox,t):this.constraints=!1,this.elastic=M3(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=D3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Tl(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=PO(i,a.root,this.visualElement.getTransformPagePoint());let c=N3(a.layout.layoutBox,l);if(n){const h=n(kO(c));this.hasMutatedConstraints=!!h,h&&(c=BA(h))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=Vi(y=>{if(!Xf(y,n,this.currentDirection))return;let v=m&&m[y]||{};c&&(v={min:0,max:0});const T=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:i?t[y]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Ny(this.visualElement,t),i.start(X_(t,i,0,n,this.visualElement,!1))}stopAnimation(){Vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Vi(n=>{const{drag:i}=this.getProps();if(!Xf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(t[n]-Ve(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Tl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();a[c]=I3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vi(c=>{if(!Xf(c,t,null))return;const h=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];h.set(Ve(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;k3.set(this.visualElement,this);const t=this.visualElement.current,n=vu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Tl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),De.read(i);const c=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Dy,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Xf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function O3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class P3 extends wa{constructor(t){super(t),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new V3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const H1=e=>(t,n)=>{e&&De.postRender(()=>e(t,n))};class L3 extends wa{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(t){this.session=new iC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:H1(t),onStart:H1(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&De.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Bg=!1;class j3 extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Bg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Bg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||De.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),z_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;Bg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rC(e){const[t,n]=tO(),i=G.useContext(PS);return x.jsx(j3,{...e,layoutGroup:i,switchLayoutGroup:G.useContext(zA),isPresent:t,safeToRemove:n})}function z3(e,t,n){const i=Fn(e)?e:Vl(e);return i.start(X_("",i,t,n)),i.animation}const U3=(e,t)=>e.depth-t.depth;class B3{constructor(){this.children=[],this.isDirty=!1}add(t){T_(this.children,t),this.isDirty=!0}remove(t){E_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(U3),this.isDirty=!1,this.children.forEach(t)}}function F3(e,t){const n=si.now(),i=({timestamp:a})=>{const l=a-n;l>=t&&(fa(i),e(l-t))};return De.setup(i,!0),()=>fa(i)}const aC=["TopLeft","TopRight","BottomLeft","BottomRight"],q3=aC.length,G1=e=>typeof e=="string"?parseFloat(e):e,Y1=e=>typeof e=="number"||Nt.test(e);function H3(e,t,n,i,a,l){a?(e.opacity=Ve(0,n.opacity??1,G3(i)),e.opacityExit=Ve(t.opacity??1,0,Y3(i))):l&&(e.opacity=Ve(t.opacity??1,n.opacity??1,i));for(let c=0;c<q3;c++){const h=`border${aC[c]}Radius`;let m=K1(t,h),p=K1(n,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Y1(m)===Y1(p)?(e[h]=Math.max(Ve(G1(m),G1(p),i),0),(Cs.test(p)||Cs.test(m))&&(e[h]+="%")):e[h]=p}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,i))}function K1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const G3=oC(0,.5,KS),Y3=oC(.5,.95,ji);function oC(e,t,n){return i=>i<e?0:i>t?1:n(ku(e,t,i))}function Q1(e,t){e.min=t.min,e.max=t.max}function Wi(e,t){Q1(e.x,t.x),Q1(e.y,t.y)}function X1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function W1(e,t,n,i,a){return e-=t,e=Ed(e,1/n,i),a!==void 0&&(e=Ed(e,1/a,i)),e}function K3(e,t=0,n=1,i=.5,a,l=e,c=e){if(Cs.test(t)&&(t=parseFloat(t),t=Ve(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=Ve(l.min,l.max,i);e===l&&(h-=t),e.min=W1(e.min,t,n,h,a),e.max=W1(e.max,t,n,h,a)}function $1(e,t,[n,i,a],l,c){K3(e,t[n],t[i],t[a],t.scale,l,c)}const Q3=["x","scaleX","originX"],X3=["y","scaleY","originY"];function Z1(e,t,n,i){$1(e.x,t,Q3,n?n.x:void 0,i?i.x:void 0),$1(e.y,t,X3,n?n.y:void 0,i?i.y:void 0)}function J1(e){return e.translate===0&&e.scale===1}function lC(e){return J1(e.x)&&J1(e.y)}function tx(e,t){return e.min===t.min&&e.max===t.max}function W3(e,t){return tx(e.x,t.x)&&tx(e.y,t.y)}function ex(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cC(e,t){return ex(e.x,t.x)&&ex(e.y,t.y)}function nx(e){return Kn(e.x)/Kn(e.y)}function ix(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $3{constructor(){this.members=[]}add(t){T_(this.members,t),t.scheduleRender()}remove(t){if(E_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z3(e,t,n){let i="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:C,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),T&&(i+=`rotateY(${T}deg) `),C&&(i+=`skewX(${C}deg) `),M&&(i+=`skewY(${M}deg) `)}const h=e.x.scale*t.x,m=e.y.scale*t.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const Fg=["","X","Y","Z"],J3=1e3;let tP=0;function qg(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function uC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=XA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(a||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&uC(i)}function hC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=t?.()){this.id=tP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iP),this.nodes.forEach(oP),this.nodes.forEach(lP),this.nodes.forEach(sP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new B3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new S_),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=AA(c)&&!$4(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;De.read(()=>{v=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=F3(T,250),ld.hasAnimatedSinceResize&&(ld.hasAnimatedSinceResize=!1,this.nodes.forEach(ax)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||dP,{onLayoutAnimationStart:j,onLayoutAnimationComplete:L}=p.getProps(),X=!this.targetLayout||!cC(this.targetLayout,C),nt=!v&&T;if(this.options.layoutRoot||this.resumeFrom||nt||v&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...L_(M,"layout"),onPlay:j,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(y,nt)}else v||ax(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aP),this.nodes.forEach(eP),this.nodes.forEach(nP)):this.nodes.forEach(rx),this.clearAllSnapshots();const h=si.now();Mn.delta=ur(0,1e3/60,h-Mn.timestamp),Mn.timestamp=h,Mn.isProcessing=!0,Dg.update.process(Mn),Dg.preRender.process(Mn),Dg.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rP),this.sharedNodes.forEach(uP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kn(this.snapshot.measuredBox.x)&&!Kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!lC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||so(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),mP(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return un();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pP))){const{scroll:p}=this.root;p&&(El(h.x,p.offset.x),El(h.y,p.offset.y))}return h}removeElementScroll(c){const h=un();if(Wi(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Wi(h,c),El(h.x,y.offset.x),El(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const m=un();Wi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&xl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),so(y.latestValues)&&xl(m,y.latestValues)}return so(this.latestValues)&&xl(m,this.latestValues),m}removeTransform(c){const h=un();Wi(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!so(p.latestValues))continue;Sy(p.latestValues)&&p.updateSnapshot();const y=un(),v=p.measurePageBox();Wi(y,v),Z1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return so(this.latestValues)&&Z1(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Mn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),qA(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sy(this.parent.latestValues)||FA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),xd(this.relativeTargetOrigin,h,m),Wi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Wi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;OO(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=un());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X1(this.prevProjectionDelta.x,this.projectionDelta.x),X1(this.prevProjectionDelta.y,this.projectionDelta.y)),bu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!ix(this.projectionDelta.x,this.prevProjectionDelta.x)||!ix(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wl(),this.projectionDelta=wl(),this.projectionDeltaWithTransform=wl()}setAnimationOrigin(c,h=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=un(),C=m?m.source:void 0,M=this.layout?this.layout.source:void 0,j=C!==M,L=this.getStack(),X=!L||L.members.length<=1,nt=!!(j&&!X&&this.options.crossfade===!0&&!this.path.some(fP));this.animationProgress=0;let W;this.mixTargetDelta=ot=>{const ut=ot/1e3;ox(v.x,c.x,ut),ox(v.y,c.y,ut),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hP(this.relativeTarget,this.relativeTargetOrigin,T,ut),W&&W3(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=un()),Wi(W,this.relativeTarget)),j&&(this.animationValues=y,H3(y,p,this.latestValues,ut,nt,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ut},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{ld.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vl(0)),this.currentAnimation=z3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:y}=c;if(!(!h||!m||!p)){if(this!==c&&this.layout&&p&&fC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||un();const v=Kn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const T=Kn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+T}Wi(h,m),xl(h,y),bu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new $3),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&qg("z",c,p,this.animationValues);for(let y=0;y<Fg.length;y++)qg(`rotate${Fg[y]}`,c,p,this.animationValues),qg(`skew${Fg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=od(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=od(h?.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Z3(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),c.transform=v;const{x:T,y:C}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in wy){if(y[M]===void 0)continue;const{correct:j,applyTo:L,isCSSVariable:X}=wy[M],nt=v==="none"?y[M]:j(y[M],p);if(L){const W=L.length;for(let ot=0;ot<W;ot++)c[L[ot]]=nt}else X?this.options.visualElement.renderState.vars[M]=nt:c[M]=nt}this.options.layoutId&&(c.pointerEvents=p===this?od(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(sx),this.root.sharedNodes.clear()}}}function eP(e){e.updateLayout()}function nP(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Vi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],T=Kn(v);v.min=n[y].min,v.max=v.min+T}):fC(a,t.layoutBox,n)&&Vi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],T=Kn(n[y]);v.max=v.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+T)});const c=wl();bu(c,n,t.layoutBox);const h=wl();l?bu(h,e.applyTransform(i,!0),t.measuredBox):bu(h,n,t.layoutBox);const m=!lC(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const C=un();xd(C,t.layoutBox,v.layoutBox);const M=un();xd(M,n,T.layoutBox),cC(C,M)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function iP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rP(e){e.clearSnapshot()}function sx(e){e.clearMeasurements()}function rx(e){e.isLayoutDirty=!1}function aP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ax(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oP(e){e.resolveTargetDelta()}function lP(e){e.calcProjection()}function cP(e){e.resetSkewAndRotation()}function uP(e){e.removeLeadSnapshot()}function ox(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lx(e,t,n,i){e.min=Ve(t.min,n.min,i),e.max=Ve(t.max,n.max,i)}function hP(e,t,n,i){lx(e.x,t.x,n.x,i),lx(e.y,t.y,n.y,i)}function fP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dP={duration:.45,ease:[.4,0,.1,1]},cx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ux=cx("applewebkit/")&&!cx("chrome/")?Math.round:ji;function hx(e){e.min=ux(e.min),e.max=ux(e.max)}function mP(e){hx(e.x),hx(e.y)}function fC(e,t,n){return e==="position"||e==="preserve-aspect"&&!E3(nx(t),nx(n),.2)}function pP(e){return e!==e.root&&e.scroll?.wasRoot}const gP=hC({attachResizeListener:(e,t)=>Lu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hg={current:void 0},dC=hC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hg.current){const e=new gP({});e.mount(window),e.setOptions({layoutScroll:!0}),Hg.current=e}return Hg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yP={pan:{Feature:L3},drag:{Feature:P3,ProjectionNode:dC,MeasureLayout:rC}};function fx(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&De.postRender(()=>l(t,oh(t)))}class _P extends wa{mount(){const{current:t}=this.node;t&&(this.unmount=Y4(t,(n,i)=>(fx(this.node,i,"Start"),a=>fx(this.node,a,"End"))))}unmount(){}}class vP extends wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sh(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dx(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&De.postRender(()=>l(t,oh(t)))}class bP extends wa{mount(){const{current:t}=this.node;t&&(this.unmount=W4(t,(n,i)=>(dx(this.node,i,"Start"),(a,{success:l})=>dx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const My=new WeakMap,Gg=new WeakMap,TP=e=>{const t=My.get(e.target);t&&t(e)},EP=e=>{e.forEach(TP)};function xP({root:e,...t}){const n=e||document;Gg.has(n)||Gg.set(n,{});const i=Gg.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(EP,{root:e,...t})),i[a]}function wP(e,t,n){const i=xP(t);return My.set(e,n),i.observe(e),()=>{My.delete(e),i.unobserve(e)}}const SP={some:0,all:1};class AP extends wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:SP[a]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(m)};return wP(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CP(t,n))&&this.startObserver()}unmount(){}}function CP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const RP={inView:{Feature:AP},tap:{Feature:bP},focus:{Feature:vP},hover:{Feature:_P}},NP={layout:{ProjectionNode:dC,MeasureLayout:rC}},IP={...g3,...RP,...yP,...NP},mC=MO(IP,GO),sn=({className:e,variant:t="primary",size:n="md",loading:i,children:a,...l})=>{const c={primary:"bg-black text-white hover:bg-gray-800 border border-transparent",secondary:"bg-white text-gray-900 border border-gray-200 hover:bg-gray-50",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900",icon:"p-2 bg-transparent hover:bg-gray-100 rounded-full text-gray-600"},h={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return x.jsxs(mC.button,{whileTap:{scale:.98},className:Ft("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-0 disabled:opacity-50 disabled:pointer-events-none",c[t],h[n],e),disabled:i||l.disabled,...l,children:[i?x.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,a]})},DP="https://tai-backend.amaravadhibharath.workers.dev",MP=async(e,t,n="auto",i,a,l)=>{try{let c=e;i&&(c=`[User Context/Note: ${i}]

${e}`);const h={"Content-Type":"application/json"};a&&(h.Authorization=`Bearer ${a}`);const m=await fetch(DP,{method:"POST",headers:h,body:JSON.stringify({content:c,provider:n,deviceId:l,options:{format:t.format,includeAI:t.includeAI,images:t.images,tone:t.tone}})});if(!m.ok){const y=await m.json();throw new Error(y.error||`Worker Error: ${m.status}`)}const p=await m.json();return p.quotaUsed!==void 0&&p.quotaLimit!==void 0&&chrome.storage.local.set({quotaUsed:p.quotaUsed,quotaLimit:p.quotaLimit}),p.summary}catch(c){throw new Error(c.message||"Failed to connect to Tiger Backend.")}};let Sl=null;const Tu=[],kP=e=>new Promise((t,n)=>{chrome.identity.getAuthToken({interactive:e},i=>{chrome.runtime.lastError?n(chrome.runtime.lastError):i&&typeof i=="string"?t(i):i&&typeof i=="object"&&"token"in i?t(i.token):n(new Error("No token received"))})}),VP=async e=>{const t=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get user info");const n=await t.json();return{email:n.email,id:n.id,name:n.name,picture:n.picture}},OP=async()=>{try{await W_();const e=await kP(!0),t=await VP(e);return Sl=t,Tu.forEach(n=>n(t)),await chrome.storage.local.set({chromeUser:t,authToken:e}),t}catch(e){throw hn.error("Sign In Error: "+(e.message||e)),e}},PP=async()=>{try{await W_(),Sl=null,Tu.forEach(e=>e(null)),await chrome.storage.local.remove(["chromeUser","authToken"])}catch{}},W_=async()=>new Promise(e=>{chrome.identity.getAuthToken({interactive:!1},t=>{const n=typeof t=="string"?t:t?.token;n?chrome.identity.removeCachedAuthToken({token:n},()=>e()):e()})}),LP=e=>{Tu.push(e),chrome.storage.local.get(["chromeUser"],n=>{n.chromeUser?(Sl=n.chromeUser,e(Sl)):e(null)});const t=(n,i)=>{i==="local"&&n.chromeUser&&(Sl=n.chromeUser.newValue||null,e(Sl))};return chrome.storage.onChanged.addListener(t),()=>{const n=Tu.indexOf(e);n>-1&&Tu.splice(n,1),chrome.storage.onChanged.removeListener(t)}},jP=()=>{};var mx={};const pC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const ht=function(e,t){if(!e)throw Jl(t)},Jl=function(e){return new Error("Firebase Database ("+pC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const gC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},zP=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],h=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,h=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,C=p&63;m||(C=64,c||(T=64)),i.push(n[y],n[v],n[T],n[C])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],h=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new UP;const T=l<<2|h>>4;if(i.push(T),p!==64){const C=h<<4&240|p>>2;if(i.push(C),v!==64){const M=p<<6&192|v;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class UP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(e){const t=gC(e);return $_.encodeByteArray(t,!0)},wd=function(e){return yC(e).replace(/\./g,"")},ky=function(e){try{return $_.decodeString(e,!0)}catch{}return null};function BP(e){return _C(void 0,e)}function _C(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!FP(n)||(e[n]=_C(e[n],t[n]));return e}function FP(e){return e!=="__proto__"}function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HP=()=>qP().__FIREBASE_DEFAULTS__,GP=()=>{if(typeof process>"u"||typeof mx>"u")return;const e=mx.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ky(e[1]);return t&&JSON.parse(t)},Z_=()=>{try{return jP()||HP()||GP()||YP()}catch{return}},KP=e=>Z_()?.emulatorHosts?.[e],vC=e=>{const t=KP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},bC=()=>Z_()?.config;class J_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}function lh(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TC(e){return(await fetch(e,{credentials:"include"})).ok}function EC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[wd(JSON.stringify(n)),wd(JSON.stringify(c)),""].join(".")}const Eu={};function QP(){const e={prod:[],emulator:[]};for(const t of Object.keys(Eu))Eu[t]?e.emulator.push(t):e.prod.push(t);return e}function XP(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let px=!1;function xC(e,t){if(typeof window>"u"||typeof document>"u"||!lh(window.location.host)||Eu[e]===t||Eu[e]||px)return;Eu[e]=t;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=QP().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{px=!0,c()},T}function y(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=XP(i),C=n("text"),M=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),L=document.getElementById(j)||document.createElement("a"),X=n("preprendIcon"),nt=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;h(W),y(L,j);const ot=p();m(nt,X),W.append(nt,M,L,ot),document.body.appendChild(W)}l?(M.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function wC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wC())}function WP(){const e=Z_()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $P(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZP(){return pC.NODE_ADMIN===!0}function JP(){return!WP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t5(){try{return typeof indexedDB=="object"}catch{return!1}}function e5(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const n5="FirebaseError";class tc extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=n5,Object.setPrototypeOf(this,tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AC.prototype.create)}}class AC{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?i5(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new tc(a,h,i)}}function i5(e,t){return e.replace(s5,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const s5=/\{\$([^}]+)}/g;function ju(e){return JSON.parse(e)}function dn(e){return JSON.stringify(e)}const CC=function(e){let t={},n={},i={},a="";try{const l=e.split(".");t=ju(ky(l[0])||""),n=ju(ky(l[1])||""),a=l[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:a}},r5=function(e){const t=CC(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},a5=function(e){const t=CC(e).claims;return typeof t=="object"&&t.admin===!0};function gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pl(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function gx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sd(e,t,n){const i={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=t.call(n,e[a],a,e));return i}function zu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const l=e[a],c=t[a];if(yx(l)&&yx(c)){if(!zu(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function yx(e){return e!==null&&typeof e=="object"}function o5(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class l5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)i[v]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)i[v]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let v=16;v<80;v++){const T=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(T<<1|T>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=h^l&(c^h),y=1518500249):(p=l^c^h,y=1859775393):v<60?(p=l&c|h&(l|c),y=2400959708):(p=l^c^h,y=3395469782);const T=(a<<5|a>>>27)+p+m+y+i[v]&4294967295;m=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=T}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let a=0;const l=this.buf_;let c=this.inbuf_;for(;a<n;){if(c===0)for(;a<=i;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<n;)if(l[c]=t.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}else for(;a<n;)if(l[c]=t[a],++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)t[i]=this.chain_[a]>>l&255,++i;return t}}function RC(e,t){return`${e} failed: ${t} argument `}const c5=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,ht(i<e.length,"Surrogate pair missing trail surrogate.");const c=e.charCodeAt(i)-56320;a=65536+(l<<10)+c}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},im=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function ss(e){return e&&e._delegate?e._delegate:e}class Ll{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ro="[DEFAULT]";class u5{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new J_;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(f5(t))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ro){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ro){return this.instances.has(t)}getOptions(t=ro){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:h5(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ro){return this.component?this.component.multipleInstances?t:ro:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h5(e){return e===ro?void 0:e}function f5(e){return e.instantiationMode==="EAGER"}class d5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new u5(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Zt||(Zt={}));const m5={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},p5=Zt.INFO,g5={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},y5=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=g5[t];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tv{constructor(t){this.name=t,this._logLevel=p5,this._logHandler=y5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?m5[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const _5=(e,t)=>t.some(n=>e instanceof n);let _x,vx;function v5(){return _x||(_x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b5(){return vx||(vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NC=new WeakMap,Vy=new WeakMap,IC=new WeakMap,Yg=new WeakMap,ev=new WeakMap;function T5(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(ia(e.result)),a()},c=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&NC.set(n,e)}).catch(()=>{}),ev.set(t,e),t}function E5(e){if(Vy.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Vy.set(e,t)}let Oy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||IC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function x5(e){Oy=e(Oy)}function w5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Kg(this),t,...n);return IC.set(i,t.sort?t.sort():[t]),ia(i)}:b5().includes(e)?function(...t){return e.apply(Kg(this),t),ia(NC.get(this))}:function(...t){return ia(e.apply(Kg(this),t))}}function S5(e){return typeof e=="function"?w5(e):(e instanceof IDBTransaction&&E5(e),_5(e,v5())?new Proxy(e,Oy):e)}function ia(e){if(e instanceof IDBRequest)return T5(e);if(Yg.has(e))return Yg.get(e);const t=S5(e);return t!==e&&(Yg.set(e,t),ev.set(t,e)),t}const Kg=e=>ev.get(e);function A5(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),h=ia(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ia(c.result),m.oldVersion,m.newVersion,ia(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const C5=["get","getKey","getAll","getAllKeys","count"],R5=["put","add","delete","clear"],Qg=new Map;function bx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qg.get(t))return Qg.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=R5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||C5.includes(n)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return Qg.set(t,l),l}x5(e=>({...e,get:(t,n,i)=>bx(t,n)||e.get(t,n,i),has:(t,n)=>!!bx(t,n)||e.has(t,n)}));class N5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function I5(e){return e.getComponent()?.type==="VERSION"}const Py="@firebase/app",Tx="0.14.6";const fr=new tv("@firebase/app"),D5="@firebase/app-compat",M5="@firebase/analytics-compat",k5="@firebase/analytics",V5="@firebase/app-check-compat",O5="@firebase/app-check",P5="@firebase/auth",L5="@firebase/auth-compat",j5="@firebase/database",z5="@firebase/data-connect",U5="@firebase/database-compat",B5="@firebase/functions",F5="@firebase/functions-compat",q5="@firebase/installations",H5="@firebase/installations-compat",G5="@firebase/messaging",Y5="@firebase/messaging-compat",K5="@firebase/performance",Q5="@firebase/performance-compat",X5="@firebase/remote-config",W5="@firebase/remote-config-compat",$5="@firebase/storage",Z5="@firebase/storage-compat",J5="@firebase/firestore",t6="@firebase/ai",e6="@firebase/firestore-compat",n6="firebase",i6="12.6.0";const Ly="[DEFAULT]",s6={[Py]:"fire-core",[D5]:"fire-core-compat",[k5]:"fire-analytics",[M5]:"fire-analytics-compat",[O5]:"fire-app-check",[V5]:"fire-app-check-compat",[P5]:"fire-auth",[L5]:"fire-auth-compat",[j5]:"fire-rtdb",[z5]:"fire-data-connect",[U5]:"fire-rtdb-compat",[B5]:"fire-fn",[F5]:"fire-fn-compat",[q5]:"fire-iid",[H5]:"fire-iid-compat",[G5]:"fire-fcm",[Y5]:"fire-fcm-compat",[K5]:"fire-perf",[Q5]:"fire-perf-compat",[X5]:"fire-rc",[W5]:"fire-rc-compat",[$5]:"fire-gcs",[Z5]:"fire-gcs-compat",[J5]:"fire-fst",[e6]:"fire-fst-compat",[t6]:"fire-vertex","fire-js":"fire-js",[n6]:"fire-js-all"};const Ad=new Map,r6=new Map,jy=new Map;function Ex(e,t){try{e.container.addComponent(t)}catch(n){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Uu(e){const t=e.name;if(jy.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;jy.set(t,e);for(const n of Ad.values())Ex(n,e);for(const n of r6.values())Ex(n,e);return!0}function DC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function MC(e){return e==null?!1:e.settings!==void 0}const a6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new AC("app","Firebase",a6);class o6{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}const kC=i6;function VC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Ly,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw sa.create("bad-app-name",{appName:String(a)});if(n||(n=bC()),!n)throw sa.create("no-options");const l=Ad.get(a);if(l){if(zu(n,l.options)&&zu(i,l.config))return l;throw sa.create("duplicate-app",{appName:a})}const c=new d5(a);for(const m of jy.values())c.addComponent(m);const h=new o6(n,i,c);return Ad.set(a,h),h}function OC(e=Ly){const t=Ad.get(e);if(!t&&e===Ly&&bC())return VC();if(!t)throw sa.create("no-app",{appName:e});return t}function ra(e,t,n){let i=s6[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fr.warn(c.join(" "));return}Uu(new Ll(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const l6="firebase-heartbeat-database",c6=1,Bu="firebase-heartbeat-store";let Xg=null;function PC(){return Xg||(Xg=A5(l6,c6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bu)}catch{}}}}).catch(e=>{throw sa.create("idb-open",{originalErrorMessage:e.message})})),Xg}async function u6(e){try{const n=(await PC()).transaction(Bu),i=await n.objectStore(Bu).get(LC(e));return await n.done,i}catch(t){if(t instanceof tc)fr.warn(t.message);else{const n=sa.create("idb-get",{originalErrorMessage:t?.message});fr.warn(n.message)}}}async function xx(e,t){try{const i=(await PC()).transaction(Bu,"readwrite");await i.objectStore(Bu).put(t,LC(e)),await i.done}catch(n){if(n instanceof tc)fr.warn(n.message);else{const i=sa.create("idb-set",{originalErrorMessage:n?.message});fr.warn(i.message)}}}function LC(e){return`${e.name}!${e.options.appId}`}const h6=1024,f6=30;class d6{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>f6){const a=g6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wx(),{heartbeatsToSend:n,unsentEntries:i}=m6(this._heartbeatsCache.heartbeats),a=wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fr.warn(t),""}}}function wx(){return new Date().toISOString().substring(0,10)}function m6(e,t=h6){const n=[];let i=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Sx(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sx(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class p6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t5()?e5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return xx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return xx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Sx(e){return wd(JSON.stringify({version:2,heartbeats:e})).length}function g6(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}function y6(e){Uu(new Ll("platform-logger",t=>new N5(t),"PRIVATE")),Uu(new Ll("heartbeat",t=>new d6(t),"PRIVATE")),ra(Py,Tx,e),ra(Py,Tx,"esm2020"),ra("fire-js","")}y6("");var _6="firebase",v6="12.6.0";ra(_6,v6,"app");var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aa,jC;(function(){var e;function t(R,S){function N(){}N.prototype=S.prototype,R.F=S.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(P,k,z){for(var I=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)I[Gt-2]=arguments[Gt];return S.prototype[k].apply(P,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,N){N||(N=0);const P=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)P[k]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(k=0;k<16;++k)P[k]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=R.g[0],N=R.g[1],k=R.g[2];let z=R.g[3],I;I=S+(z^N&(k^z))+P[0]+3614090360&4294967295,S=N+(I<<7&4294967295|I>>>25),I=z+(k^S&(N^k))+P[1]+3905402710&4294967295,z=S+(I<<12&4294967295|I>>>20),I=k+(N^z&(S^N))+P[2]+606105819&4294967295,k=z+(I<<17&4294967295|I>>>15),I=N+(S^k&(z^S))+P[3]+3250441966&4294967295,N=k+(I<<22&4294967295|I>>>10),I=S+(z^N&(k^z))+P[4]+4118548399&4294967295,S=N+(I<<7&4294967295|I>>>25),I=z+(k^S&(N^k))+P[5]+1200080426&4294967295,z=S+(I<<12&4294967295|I>>>20),I=k+(N^z&(S^N))+P[6]+2821735955&4294967295,k=z+(I<<17&4294967295|I>>>15),I=N+(S^k&(z^S))+P[7]+4249261313&4294967295,N=k+(I<<22&4294967295|I>>>10),I=S+(z^N&(k^z))+P[8]+1770035416&4294967295,S=N+(I<<7&4294967295|I>>>25),I=z+(k^S&(N^k))+P[9]+2336552879&4294967295,z=S+(I<<12&4294967295|I>>>20),I=k+(N^z&(S^N))+P[10]+4294925233&4294967295,k=z+(I<<17&4294967295|I>>>15),I=N+(S^k&(z^S))+P[11]+2304563134&4294967295,N=k+(I<<22&4294967295|I>>>10),I=S+(z^N&(k^z))+P[12]+1804603682&4294967295,S=N+(I<<7&4294967295|I>>>25),I=z+(k^S&(N^k))+P[13]+4254626195&4294967295,z=S+(I<<12&4294967295|I>>>20),I=k+(N^z&(S^N))+P[14]+2792965006&4294967295,k=z+(I<<17&4294967295|I>>>15),I=N+(S^k&(z^S))+P[15]+1236535329&4294967295,N=k+(I<<22&4294967295|I>>>10),I=S+(k^z&(N^k))+P[1]+4129170786&4294967295,S=N+(I<<5&4294967295|I>>>27),I=z+(N^k&(S^N))+P[6]+3225465664&4294967295,z=S+(I<<9&4294967295|I>>>23),I=k+(S^N&(z^S))+P[11]+643717713&4294967295,k=z+(I<<14&4294967295|I>>>18),I=N+(z^S&(k^z))+P[0]+3921069994&4294967295,N=k+(I<<20&4294967295|I>>>12),I=S+(k^z&(N^k))+P[5]+3593408605&4294967295,S=N+(I<<5&4294967295|I>>>27),I=z+(N^k&(S^N))+P[10]+38016083&4294967295,z=S+(I<<9&4294967295|I>>>23),I=k+(S^N&(z^S))+P[15]+3634488961&4294967295,k=z+(I<<14&4294967295|I>>>18),I=N+(z^S&(k^z))+P[4]+3889429448&4294967295,N=k+(I<<20&4294967295|I>>>12),I=S+(k^z&(N^k))+P[9]+568446438&4294967295,S=N+(I<<5&4294967295|I>>>27),I=z+(N^k&(S^N))+P[14]+3275163606&4294967295,z=S+(I<<9&4294967295|I>>>23),I=k+(S^N&(z^S))+P[3]+4107603335&4294967295,k=z+(I<<14&4294967295|I>>>18),I=N+(z^S&(k^z))+P[8]+1163531501&4294967295,N=k+(I<<20&4294967295|I>>>12),I=S+(k^z&(N^k))+P[13]+2850285829&4294967295,S=N+(I<<5&4294967295|I>>>27),I=z+(N^k&(S^N))+P[2]+4243563512&4294967295,z=S+(I<<9&4294967295|I>>>23),I=k+(S^N&(z^S))+P[7]+1735328473&4294967295,k=z+(I<<14&4294967295|I>>>18),I=N+(z^S&(k^z))+P[12]+2368359562&4294967295,N=k+(I<<20&4294967295|I>>>12),I=S+(N^k^z)+P[5]+4294588738&4294967295,S=N+(I<<4&4294967295|I>>>28),I=z+(S^N^k)+P[8]+2272392833&4294967295,z=S+(I<<11&4294967295|I>>>21),I=k+(z^S^N)+P[11]+1839030562&4294967295,k=z+(I<<16&4294967295|I>>>16),I=N+(k^z^S)+P[14]+4259657740&4294967295,N=k+(I<<23&4294967295|I>>>9),I=S+(N^k^z)+P[1]+2763975236&4294967295,S=N+(I<<4&4294967295|I>>>28),I=z+(S^N^k)+P[4]+1272893353&4294967295,z=S+(I<<11&4294967295|I>>>21),I=k+(z^S^N)+P[7]+4139469664&4294967295,k=z+(I<<16&4294967295|I>>>16),I=N+(k^z^S)+P[10]+3200236656&4294967295,N=k+(I<<23&4294967295|I>>>9),I=S+(N^k^z)+P[13]+681279174&4294967295,S=N+(I<<4&4294967295|I>>>28),I=z+(S^N^k)+P[0]+3936430074&4294967295,z=S+(I<<11&4294967295|I>>>21),I=k+(z^S^N)+P[3]+3572445317&4294967295,k=z+(I<<16&4294967295|I>>>16),I=N+(k^z^S)+P[6]+76029189&4294967295,N=k+(I<<23&4294967295|I>>>9),I=S+(N^k^z)+P[9]+3654602809&4294967295,S=N+(I<<4&4294967295|I>>>28),I=z+(S^N^k)+P[12]+3873151461&4294967295,z=S+(I<<11&4294967295|I>>>21),I=k+(z^S^N)+P[15]+530742520&4294967295,k=z+(I<<16&4294967295|I>>>16),I=N+(k^z^S)+P[2]+3299628645&4294967295,N=k+(I<<23&4294967295|I>>>9),I=S+(k^(N|~z))+P[0]+4096336452&4294967295,S=N+(I<<6&4294967295|I>>>26),I=z+(N^(S|~k))+P[7]+1126891415&4294967295,z=S+(I<<10&4294967295|I>>>22),I=k+(S^(z|~N))+P[14]+2878612391&4294967295,k=z+(I<<15&4294967295|I>>>17),I=N+(z^(k|~S))+P[5]+4237533241&4294967295,N=k+(I<<21&4294967295|I>>>11),I=S+(k^(N|~z))+P[12]+1700485571&4294967295,S=N+(I<<6&4294967295|I>>>26),I=z+(N^(S|~k))+P[3]+2399980690&4294967295,z=S+(I<<10&4294967295|I>>>22),I=k+(S^(z|~N))+P[10]+4293915773&4294967295,k=z+(I<<15&4294967295|I>>>17),I=N+(z^(k|~S))+P[1]+2240044497&4294967295,N=k+(I<<21&4294967295|I>>>11),I=S+(k^(N|~z))+P[8]+1873313359&4294967295,S=N+(I<<6&4294967295|I>>>26),I=z+(N^(S|~k))+P[15]+4264355552&4294967295,z=S+(I<<10&4294967295|I>>>22),I=k+(S^(z|~N))+P[6]+2734768916&4294967295,k=z+(I<<15&4294967295|I>>>17),I=N+(z^(k|~S))+P[13]+1309151649&4294967295,N=k+(I<<21&4294967295|I>>>11),I=S+(k^(N|~z))+P[4]+4149444226&4294967295,S=N+(I<<6&4294967295|I>>>26),I=z+(N^(S|~k))+P[11]+3174756917&4294967295,z=S+(I<<10&4294967295|I>>>22),I=k+(S^(z|~N))+P[2]+718787259&4294967295,k=z+(I<<15&4294967295|I>>>17),I=N+(z^(k|~S))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+z&4294967295}i.prototype.v=function(R,S){S===void 0&&(S=R.length);const N=S-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<S;){if(k==0)for(;z<=N;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<S;)if(P[k++]=R.charCodeAt(z++),k==this.blockSize){a(this,P),k=0;break}}else for(;z<S;)if(P[k++]=R[z++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=S},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)R[S++]=this.g[N]>>>P&255;return R};function l(R,S){var N=h;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=S(R)}function c(R,S){this.h=S;const N=[];let P=!0;for(let k=R.length-1;k>=0;k--){const z=R[k]|0;P&&z==S||(N[k]=z,P=!1)}this.g=N}var h={};function m(R){return-128<=R&&R<128?l(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return L(p(-R));const S=[];let N=1;for(let P=0;R>=N;P++)S[P]=R/N|0,N*=4294967296;return new c(S,0)}function y(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return L(y(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(S,8));let P=v;for(let z=0;z<R.length;z+=8){var k=Math.min(8,R.length-z);const I=parseInt(R.substring(z,z+k),S);k<8?(k=p(Math.pow(S,k)),P=P.j(k).add(p(I))):(P=P.j(N),P=P.add(p(I)))}return P}var v=m(0),T=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-L(this).m();let R=0,S=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);R+=(P>=0?P:4294967296+P)*S,S*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(j(this))return"-"+L(this).toString(R);const S=p(Math.pow(R,6));var N=this;let P="";for(;;){const k=ot(N,S).g;N=X(N,k.j(S));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=k,M(N))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function j(R){return R.h==-1}e.l=function(R){return R=X(this,R),j(R)?-1:M(R)?0:1};function L(R){const S=R.g.length,N=[];for(let P=0;P<S;P++)N[P]=~R.g[P];return new c(N,~R.h).add(T)}e.abs=function(){return j(this)?L(this):this},e.add=function(R){const S=Math.max(this.g.length,R.g.length),N=[];let P=0;for(let k=0;k<=S;k++){let z=P+(this.i(k)&65535)+(R.i(k)&65535),I=(z>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);P=I>>>16,z&=65535,I&=65535,N[k]=I<<16|z}return new c(N,N[N.length-1]&-2147483648?-1:0)};function X(R,S){return R.add(L(S))}e.j=function(R){if(M(this)||M(R))return v;if(j(this))return j(R)?L(this).j(L(R)):L(L(this).j(R));if(j(R))return L(this.j(L(R)));if(this.l(C)<0&&R.l(C)<0)return p(this.m()*R.m());const S=this.g.length+R.g.length,N=[];for(var P=0;P<2*S;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<R.g.length;k++){const z=this.i(P)>>>16,I=this.i(P)&65535,Gt=R.i(k)>>>16,te=R.i(k)&65535;N[2*P+2*k]+=I*te,nt(N,2*P+2*k),N[2*P+2*k+1]+=z*te,nt(N,2*P+2*k+1),N[2*P+2*k+1]+=I*Gt,nt(N,2*P+2*k+1),N[2*P+2*k+2]+=z*Gt,nt(N,2*P+2*k+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new c(N,0)};function nt(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function W(R,S){this.g=R,this.h=S}function ot(R,S){if(M(S))throw Error("division by zero");if(M(R))return new W(v,v);if(j(R))return S=ot(L(R),S),new W(L(S.g),L(S.h));if(j(S))return S=ot(R,L(S)),new W(L(S.g),S.h);if(R.g.length>30){if(j(R)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var N=T,P=S;P.l(R)<=0;)N=ut(N),P=ut(P);var k=lt(N,1),z=lt(P,1);for(P=lt(P,2),N=lt(N,2);!M(P);){var I=z.add(P);I.l(R)<=0&&(k=k.add(N),z=I),P=lt(P,1),N=lt(N,1)}return S=X(R,k.j(S)),new W(k,S)}for(k=v;R.l(S)>=0;){for(N=Math.max(1,Math.floor(R.m()/S.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=p(N),I=z.j(S);j(I)||I.l(R)>0;)N-=P,z=p(N),I=z.j(S);M(z)&&(z=T),k=k.add(z),R=X(R,I)}return new W(k,R)}e.B=function(R){return ot(this,R).h},e.and=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)&R.i(P);return new c(N,this.h&R.h)},e.or=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)|R.i(P);return new c(N,this.h|R.h)},e.xor=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)^R.i(P);return new c(N,this.h^R.h)};function ut(R){const S=R.g.length+1,N=[];for(let P=0;P<S;P++)N[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(N,R.h)}function lt(R,S){const N=S>>5;S%=32;const P=R.g.length-N,k=[];for(let z=0;z<P;z++)k[z]=S>0?R.i(z+N)>>>S|R.i(z+N+1)<<32-S:R.i(z+N);return new c(k,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,jC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,aa=c}).apply(typeof Ax<"u"?Ax:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zC,mu,UC,cd,zy,BC,FC,qC;(function(){var e,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(f,_){if(_)t:{var E=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var B=f[A];if(!(B in E))break t;E=E[B]}f=f[f.length-1],A=E[f],_=_(A),_!=A&&_!=null&&t(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=m,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(A,B,Y){for(var dt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)dt[Vt-2]=arguments[Vt];return _.prototype[B].apply(A,dt)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const _=f.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=f[A];return E}return[]}function M(f,_){for(let A=1;A<arguments.length;A++){const B=arguments[A];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=f.length||0;const Y=B.length||0;f.length=E+Y;for(let dt=0;dt<Y;dt++)f[E+dt]=B[dt]}else f.push(B)}}class j{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){c.setTimeout(()=>{throw f},0)}function X(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class nt{constructor(){this.h=this.g=null}add(_,E){const A=W.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new j(()=>new ot,f=>f.reset());class ot{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,lt=!1,R=new nt,S=()=>{const f=Promise.resolve(void 0);ut=()=>{f.then(N)}};function N(){for(var f;f=X();){try{f.h.call(f.g)}catch(E){L(E)}var _=W;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}lt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function Gt(f,_){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Gt,k),Gt.prototype.init=function(f,_){const E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),$=0;function at(f,_,E,A,B){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=B,this.key=++$,this.da=this.fa=!1}function et(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function At(f,_,E){for(const A in f)_.call(E,f[A],A,f)}function Pt(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function V(f){const _={};for(const E in f)_[E]=f[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(f,_){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)f[E]=A[E];for(let Y=0;Y<J.length;Y++)E=J[Y],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function ft(f){this.src=f,this.g={},this.h=0}ft.prototype.add=function(f,_,E,A,B){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const dt=It(f,_,A,B);return dt>-1?(_=f[dt],E||(_.fa=!1)):(_=new at(_,this.src,Y,!!A,B),_.fa=E,f.push(_)),_};function xt(f,_){const E=_.type;if(E in f.g){var A=f.g[E],B=Array.prototype.indexOf.call(A,_,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(A,B,1),Y&&(et(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function It(f,_,E,A){for(let B=0;B<f.length;++B){const Y=f[B];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==A)return B}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),Re={};function ee(f,_,E,A,B){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)ee(f,_[Y],E,A,B);return null}return E=vr(E),f&&f[te]?f.J(_,E,h(A)?!!A.capture:!1,B):ze(f,_,E,!1,A,B)}function ze(f,_,E,A,B,Y){if(!_)throw Error("Invalid event type");const dt=h(B)?!!B.capture:!!B;let Vt=Ee(f);if(Vt||(f[bt]=Vt=new ft(f)),E=Vt.add(_,E,A,dt,Y),E.proxy)return E;if(A=qn(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)z||(B=dt),B===void 0&&(B=!1),f.addEventListener(_.toString(),A,B);else if(f.attachEvent)f.attachEvent(oi(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qn(){function f(E){return _.call(f.src,f.listener,E)}const _=Ca;return f}function Xn(f,_,E,A,B){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)Xn(f,_[Y],E,A,B);else A=h(A)?!!A.capture:!!A,E=vr(E),f&&f[te]?(f=f.i,Y=String(_).toString(),Y in f.g&&(_=f.g[Y],E=It(_,E,A,B),E>-1&&(et(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[Y],f.h--)))):f&&(f=Ee(f))&&(_=f.g[_.toString()],f=-1,_&&(f=It(_,E,A,B)),(E=f>-1?_[f]:null)&&Vs(E))}function Vs(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[te])xt(_.i,f);else{var E=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(E,A,f.capture):_.detachEvent?_.detachEvent(oi(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Ee(_))?(xt(E,f),E.h==0&&(E.src=null,_[bt]=null)):et(f)}}}function oi(f){return f in Re?Re[f]:Re[f]="on"+f}function Ca(f,_){if(f.da)f=!0;else{_=new Gt(_,this);const E=f.listener,A=f.ha||f.src;f.fa&&Vs(f),f=E.call(A,_)}return f}function Ee(f){return f=f[bt],f instanceof ft?f:null}var _r="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(f){return typeof f=="function"?f:(f[_r]||(f[_r]=function(_){return f.handleEvent(_)}),f[_r])}function Me(){P.call(this),this.i=new ft(this),this.M=this,this.G=null}v(Me,P),Me.prototype[te]=!0,Me.prototype.removeEventListener=function(f,_,E,A){Xn(this,f,_,E,A)};function Ue(f,_){var E,A=f.G;if(A)for(E=[];A;A=A.G)E.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new k(_,f);else if(_ instanceof k)_.target=_.target||f;else{var B=_;_=new k(A,f),ct(_,B)}B=!0;let Y,dt;if(E)for(dt=E.length-1;dt>=0;dt--)Y=_.g=E[dt],B=bi(Y,A,!0,_)&&B;if(Y=_.g=f,B=bi(Y,A,!0,_)&&B,B=bi(Y,A,!1,_)&&B,E)for(dt=0;dt<E.length;dt++)Y=_.g=E[dt],B=bi(Y,A,!1,_)&&B}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let A=0;A<E.length;A++)et(E[A]);delete f.g[_],f.h--}}this.G=null},Me.prototype.J=function(f,_,E,A){return this.i.add(String(f),_,!1,E,A)},Me.prototype.K=function(f,_,E,A){return this.i.add(String(f),_,!0,E,A)};function bi(f,_,E,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let Y=0;Y<_.length;++Y){const dt=_[Y];if(dt&&!dt.da&&dt.capture==E){const Vt=dt.listener,qe=dt.ha||dt.src;dt.fa&&xt(f.i,dt),B=Vt.call(qe,A)!==!1&&B}}return B&&!A.defaultPrevented}function wo(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function br(f){f.g=wo(()=>{f.g=null,f.i&&(f.i=!1,br(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class wn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(f){P.call(this),this.h=f,this.g={}}v(Os,P);var Ps=[];function Ra(f){At(f.g,function(_,E){this.g.hasOwnProperty(E)&&Vs(_)},f),f.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Ra(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=c.JSON.stringify,Na=c.JSON.parse,Ia=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function So(){}function Ao(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){k.call(this,"d")}v(Be,k);function Sn(){k.call(this,"c")}v(Sn,k);var ke={},Co=null;function Tr(){return Co=Co||new Me}ke.Ia="serverreachability";function K(f){k.call(this,ke.Ia,f)}v(K,k);function wt(f){const _=Tr();Ue(_,new K(_))}ke.STAT_EVENT="statevent";function Wt(f,_){k.call(this,ke.STAT_EVENT,f),this.stat=_}v(Wt,k);function le(f){const _=Tr();Ue(_,new Wt(_,f))}ke.Ja="timingevent";function An(f,_){k.call(this,ke.Ja,f),this.size=_}v(An,k);function ci(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function yn(){this.g=!0}yn.prototype.ua=function(){this.g=!1};function Fe(f,_,E,A,B,Y){f.info(function(){if(f.g)if(Y){var dt="",Vt=Y.split("&");for(let re=0;re<Vt.length;re++){var qe=Vt[re].split("=");if(qe.length>1){const Ne=qe[0];qe=qe[1];const Si=Ne.split("_");dt=Si.length>=2&&Si[1]=="type"?dt+(Ne+"="+qe+"&"):dt+(Ne+"=redacted&")}}}else dt=null;else dt=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+_+`
`+E+`
`+dt})}function Pn(f,_,E,A,B,Y,dt){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+_+`
`+E+`
`+Y+" "+dt})}function Hn(f,_,E,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+js(f,E)+(A?" "+A:"")})}function Ls(f,_){f.info(function(){return"TIMEOUT: "+_})}yn.prototype.info=function(){};function js(f,_){if(!f.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var E=Y[f];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let dt=1;dt<A.length;dt++)A[dt]=""}}}}return Ti(Y)}catch{return _}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Da;function ve(){}v(ve,So),ve.prototype.g=function(){return new XMLHttpRequest},Da=new ve;function Ke(f){return encodeURIComponent(String(f))}function zs(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ui(f,_,E,A){this.j=f,this.i=_,this.l=E,this.S=A||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}var Qe={},_n={};function os(f,_,E){f.M=1,f.A=Ma(We(_)),f.u=E,f.R=!0,Ro(f,null)}function Ro(f,_){f.F=Date.now(),ls(f),f.B=We(f.A);var E=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Mo(E.i,"t",A),f.C=0,E=f.j.L,f.h=new Bi,f.g=Oh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new wn(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,A=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(Ps[0]=B.toString()),B=Ps);for(let Y=0;Y<B.length;Y++){const dt=ee(E,B[Y],A||_.handleEvent,!1,_.h||_);if(!dt)break;_.g[dt.key]=dt}_=f.J?V(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),wt(),Fe(f.i,f.v,f.B,f.l,f.S,f.u)}Ui.prototype.ba=function(f){f=f.target;const _=this.O;_&&Hi(f)==3?_.j():this.Y(f)},Ui.prototype.Y=function(f){try{if(f==this.g)t:{const Vt=Hi(this.g),qe=this.g.ya(),re=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||Cn(this.g)))){this.K||Vt!=4||qe==7||(qe==8||re<=0?wt(3):wt(2)),cs(this);var _=this.g.ca();this.X=_;var E=Cm(this);if(this.o=_==200,Pn(this.i,this.v,this.B,this.l,this.S,Vt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Y=A;break e}}Y=null}if(f=Y)Hn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,us(this,f);else{this.o=!1,this.m=3,le(12),ui(this),Ei(this);break t}}if(this.R){f=!0;let Ne;for(;!this.K&&this.C<E.length;)if(Ne=Eh(this,E),Ne==_n){Vt==4&&(this.m=4,le(14),f=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Qe){this.m=4,le(15),Hn(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Hn(this.i,this.l,Ne,null),us(this,Ne);if(Th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||E.length!=0||this.h.h||(this.m=1,le(16),f=!1),this.o=this.o&&f,!f)Hn(this.i,this.l,E,"[Invalid Chunked Response]"),ui(this),Ei(this);else if(E.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ec(dt),dt.P=!0,le(11))}}else Hn(this.i,this.l,E,null),us(this,E);Vt==4&&ui(this),this.o&&!this.K&&(Vt==4?Dh(this.j,this):(this.o=!1,ls(this)))}else Bs(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,le(12)):(this.m=0,le(13)),ui(this),Ei(this)}}}catch{}};function Cm(f){if(!Th(f))return f.g.la();const _=Cn(f.g);if(_==="")return"";let E="";const A=_.length,B=Hi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ui(f),Ei(f),"";f.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)f.h.h=!0,E+=f.h.i.decode(_[Y],{stream:!(B&&Y==A-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Th(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Eh(f,_){var E=f.C,A=_.indexOf(`
`,E);return A==-1?_n:(E=Number(_.substring(E,A)),isNaN(E)?Qe:(A+=1,A+E>_.length?_n:(_=_.slice(A,A+E),f.C=A+E,_)))}Ui.prototype.cancel=function(){this.K=!0,ui(this)};function ls(f){f.T=Date.now()+f.H,No(f,f.H)}function No(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ci(p(f.aa,f),_)}function cs(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ui.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(wt(),le(17)),ui(this),this.m=2,Ei(this)):No(this,this.T-f)};function Ei(f){f.j.I==0||f.K||Dh(f.j,f)}function ui(f){cs(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Ra(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function us(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||fs(E.h,f))){if(!f.L&&fs(E.h,f)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Lo(E),Nr(E);else break t;za(E),le(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ci(p(E.Va,E),6e3));hs(E.h)<=1&&E.ta&&(E.ta=void 0)}else _s(E,11)}else if((f.L||E.g==f)&&Lo(E),!I(_))for(B=E.Ba.g.parse(_),_=0;_<B.length;_++){let re=B[_];const Ne=re[0];if(!(Ne<=E.K))if(E.K=Ne,re=re[1],E.I==2)if(re[0]=="c"){E.M=re[1],E.ba=re[2];const Si=re[3];Si!=null&&(E.ka=Si,E.j.info("VER="+E.ka));const vs=re[4];vs!=null&&(E.za=vs,E.j.info("SVER="+E.za));const Gi=re[5];Gi!=null&&typeof Gi=="number"&&Gi>0&&(A=1.5*Gi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Yi=f.g;if(Yi){const Ua=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var Y=A.h;Y.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(uc(Y,Y.h),Y.h=null))}if(A.G){const jo=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(A.wa=jo,ue(A.J,A.G,jo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var dt=f;if(A.na=Vh(A,A.L?A.ba:null,A.W),dt.L){hc(A.h,dt);var Vt=dt,qe=A.O;qe&&(Vt.H=qe),Vt.D&&(cs(Vt),ls(Vt)),A.g=dt}else Nh(A);E.i.length>0&&ys(E)}else re[0]!="stop"&&re[0]!="close"||_s(E,7);else E.I==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?_s(E,7):bc(E):re[0]!="noop"&&E.l&&E.l.qa(re),E.A=0)}}wt(4)}catch{}}var Xe=class{constructor(f,_){this.g=f,this.map=_}};function lc(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function hs(f){return f.h?1:f.g?f.g.size:0}function fs(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function uc(f,_){f.g?f.g.add(_):f.h=_}function hc(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}lc.prototype.cancel=function(){if(this.i=fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return C(f.i)}var xh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const A=f[E].indexOf("=");let B,Y=null;A>=0?(B=f[E].substring(0,A),Y=f[E].substring(A+1)):B=f[E],_(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function hi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof hi?(this.l=f.l,vn(this,f.j),this.o=f.o,this.g=f.g,Er(this,f.u),this.h=f.h,dc(this,Ch(f.i)),this.m=f.m):f&&(_=String(f).match(xh))?(this.l=!1,vn(this,_[1]||"",!0),this.o=ds(_[2]||""),this.g=ds(_[3]||"",!0),Er(this,_[4]),this.h=ds(_[5]||"",!0),dc(this,_[6]||"",!0),this.m=ds(_[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}hi.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ka(_,Do,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ka(_,Do,!0),"@"),f.push(Ke(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ka(E,E.charAt(0)=="/"?mc:wh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ka(E,Sh)),f.join("")},hi.prototype.resolve=function(f){const _=We(this);let E=!!f.j;E?vn(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var A=f.h;if(E)Er(_,f.u);else if(E=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=_.h.lastIndexOf("/");B!=-1&&(A=_.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let dt=0;dt<B.length;){const Vt=B[dt++];Vt=="."?A&&dt==B.length&&Y.push(""):Vt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&dt==B.length&&Y.push("")):(Y.push(Vt),A=!0)}A=Y.join("/")}else A=B}return E?_.h=A:E=f.i.toString()!=="",E?dc(_,Ch(f.i)):E=!!f.m,E&&(_.m=f.m),_};function We(f){return new hi(f)}function vn(f,_,E){f.j=E?ds(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Er(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function dc(f,_,E){_ instanceof wr?(f.i=_,ko(f.i,f.l)):(E||(_=ka(_,xr)),f.i=new wr(_,f.l))}function ue(f,_,E){f.i.set(_,E)}function Ma(f){return ue(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ds(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ka(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Wn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Do=/[#\/\?@]/g,wh=/[#\?:]/g,mc=/[#\?]/g,xr=/[#\?@]/g,Sh=/#/g;function wr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function $n(f){f.g||(f.g=new Map,f.h=0,f.i&&Io(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}e=wr.prototype,e.add=function(f,_){$n(this),this.i=null,f=Sr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Ah(f,_){$n(f),_=Sr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function pc(f,_){return $n(f),_=Sr(f,_),f.g.has(_)}e.forEach=function(f,_){$n(this),this.g.forEach(function(E,A){E.forEach(function(B){f.call(_,B,A,this)},this)},this)};function gc(f,_){$n(f);let E=[];if(typeof _=="string")pc(f,_)&&(E=E.concat(f.g.get(Sr(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}e.set=function(f,_){return $n(this),this.i=null,f=Sr(this,f),pc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},e.get=function(f,_){return f?(f=gc(this,f),f.length>0?String(f[0]):_):_};function Mo(f,_,E){Ah(f,_),E.length>0&&(f.i=null,f.g.set(Sr(f,_),C(E)),f.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const B=Ke(E);E=gc(this,E);for(let Y=0;Y<E.length;Y++){let dt=B;E[Y]!==""&&(dt+="="+Ke(E[Y])),f.push(dt)}}return this.i=f.join("&")};function Ch(f){const _=new wr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Sr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function ko(f,_){_&&!f.j&&($n(f),f.i=null,f.g.forEach(function(E,A){const B=A.toLowerCase();A!=B&&(Ah(this,A),Mo(this,B,E))},f)),f.j=_}function Fi(f,_){const E=new yn;if(c.Image){const A=new Image;A.onload=y(xi,E,"TestLoadImage: loaded",!0,_,A),A.onerror=y(xi,E,"TestLoadImage: error",!1,_,A),A.onabort=y(xi,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(xi,E,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function yc(f,_){const E=new yn,A=new AbortController,B=setTimeout(()=>{A.abort(),xi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?xi(E,"TestPingServer: ok",!0,_):xi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),xi(E,"TestPingServer: error",!1,_)})}function xi(f,_,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function Ar(){this.g=new Ia}function ms(f){this.i=f.Sb||null,this.h=f.ab||!1}v(ms,So),ms.prototype.g=function(){return new Va(this.i,this.h)};function Va(f,_){Me.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Va,Me),e=Va.prototype,e.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,qi(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Cr(this):qi(this),this.readyState==3&&Vo(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,Cr(this))},e.Na=function(f){this.g&&(this.response=f,Cr(this))},e.ga=function(){this.g&&Cr(this)};function Cr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,qi(f)}e.setRequestHeader=function(f,_){this.A.append(f,_)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function qi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wi(f){let _="";return At(f,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Oa(f,_,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=wi(E),typeof f=="string"?E!=null&&Ke(E):ue(f,_,E))}function de(f){Me.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(de,Me);var ps=/^https?$/i,_c=["POST","PUT"];e=de.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Da.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){Pa(this,Y);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(_c,_,void 0)>=0)||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,dt]of E)this.g.setRequestHeader(Y,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){Pa(this,Y)}};function Pa(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,vc(f),Us(f)}function vc(f){f.A||(f.A=!0,Ue(f,"complete"),Ue(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ue(this,"complete"),Ue(this,"abort"),Us(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Us(this,!0)),de.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?La(this):this.Xa())},e.Xa=function(){La(this)};function La(f){if(f.h&&typeof l<"u"){if(f.v&&Hi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ue(f,"readystatechange"),Hi(f)==4){f.h=!1;try{const Y=f.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var A;if(A=Y===0){let dt=String(f.D).match(xh)[1]||null;!dt&&c.self&&c.self.location&&(dt=c.self.location.protocol.slice(0,-1)),A=!ps.test(dt?dt.toLowerCase():"")}E=A}if(E)Ue(f,"complete"),Ue(f,"success");else{f.o=6;try{var B=Hi(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",vc(f)}}finally{Us(f)}}}}function Us(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Ue(f,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Hi(f){return f.g?f.g.readyState:0}e.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Na(_)}};function Cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(f){const _={};f=(f.g&&Hi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(I(f[A]))continue;var E=zs(f[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[B]||[];_[B]=Y,Y.push(E)}Pt(_,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Rr(f){this.za=0,this.i=[],this.j=new yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,f),this.Za=gs("retryDelaySeedMs",1e4,f),this.Ta=gs("forwardChannelMaxRetries",2,f),this.va=gs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new lc(f&&f.concurrentRequestLimit),this.Ba=new Ar,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Rr.prototype,e.ka=8,e.I=1,e.connect=function(f,_,E,A){le(0),this.W=f,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Vh(this,null,this.W),ys(this)};function bc(f){if(Oo(f),f.I==3){var _=f.V++,E=We(f.J);if(ue(E,"SID",f.M),ue(E,"RID",_),ue(E,"TYPE","terminate"),ja(f,E),_=new Ui(f,f.j,_),_.M=2,_.A=Ma(We(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Oh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ls(_)}kh(f)}function Nr(f){f.g&&(Ec(f),f.g.cancel(),f.g=null)}function Oo(f){Nr(f),f.v&&(c.clearTimeout(f.v),f.v=null),Lo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ys(f){if(!cc(f.h)&&!f.m){f.m=!0;var _=f.Ea;ut||S(),lt||(ut(),lt=!0),R.add(_,f),f.D=0}}function Po(f,_){return hs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ci(p(f.Ea,f,_),Mh(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new Ui(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ct(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Rh(this,B,_),E=We(this.J),ue(E,"RID",f),ue(E,"CVER",22),this.G&&ue(E,"X-HTTP-Session-Id",this.G),ja(this,E),Y&&(this.R?_="headers="+Ke(wi(Y))+"&"+_:this.u&&Oa(E,this.u,Y)),uc(this.h,B),this.Ra&&ue(E,"TYPE","init"),this.S?(ue(E,"$req",_),ue(E,"SID","null"),B.U=!0,os(B,E,null)):os(B,E,_),this.I=2}}else this.I==3&&(f?Tc(this,f):this.i.length==0||cc(this.h)||Tc(this))};function Tc(f,_){var E;_?E=_.l:E=f.V++;const A=We(f.J);ue(A,"SID",f.M),ue(A,"RID",E),ue(A,"AID",f.K),ja(f,A),f.u&&f.o&&Oa(A,f.u,f.o),E=new Ui(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Rh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),uc(f.h,E),os(E,A,_)}function ja(f,_){f.H&&At(f.H,function(E,A){ue(_,A,E)}),f.l&&At({},function(E,A){ue(_,A,E)})}function Rh(f,_,E){E=Math.min(f.i.length,E);const A=f.l?p(f.l.Ka,f.l,f):null;t:{var B=f.i;let Vt=-1;for(;;){const qe=["count="+E];Vt==-1?E>0?(Vt=B[0].g,qe.push("ofs="+Vt)):Vt=0:qe.push("ofs="+Vt);let re=!0;for(let Ne=0;Ne<E;Ne++){var Y=B[Ne].g;const Si=B[Ne].map;if(Y-=Vt,Y<0)Vt=Math.max(0,B[Ne].g-100),re=!1;else try{Y="req"+Y+"_"||"";try{var dt=Si instanceof Map?Si:Object.entries(Si);for(const[vs,Gi]of dt){let Yi=Gi;h(Gi)&&(Yi=Ti(Gi)),qe.push(Y+vs+"="+encodeURIComponent(Yi))}}catch(vs){throw qe.push(Y+"type="+encodeURIComponent("_badmap")),vs}}catch{A&&A(Si)}}if(re){dt=qe.join("&");break t}}dt=void 0}return f=f.i.splice(0,E),_.G=f,dt}function Nh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;ut||S(),lt||(ut(),lt=!0),R.add(_,f),f.A=0}}function za(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ci(p(f.Da,f),Mh(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,Ih(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ci(p(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,le(10),Nr(this),Ih(this))};function Ec(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Ih(f){f.g=new Ui(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=We(f.na);ue(_,"RID","rpc"),ue(_,"SID",f.M),ue(_,"AID",f.K),ue(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ue(_,"TO",f.ia),ue(_,"TYPE","xmlhttp"),ja(f,_),f.u&&f.o&&Oa(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Ma(We(_)),E.u=null,E.R=!0,Ro(E,f)}e.Va=function(){this.C!=null&&(this.C=null,Nr(this),za(this),le(19))};function Lo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Dh(f,_){var E=null;if(f.g==_){Lo(f),Ec(f),f.g=null;var A=2}else if(fs(f.h,_))E=_.G,hc(f.h,_),A=1;else return;if(f.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var B=f.D;A=Tr(),Ue(A,new An(A,E)),ys(f)}else Nh(f);else if(B=_.m,B==3||B==0&&_.X>0||!(A==1&&Po(f,_)||A==2&&za(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),B){case 1:_s(f,5);break;case 4:_s(f,10);break;case 3:_s(f,6);break;default:_s(f,2)}}}function Mh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function _s(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),A=f.Ua;const B=!A;A=new hi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vn(A,"https"),Ma(A),B?Fi(A.toString(),E):yc(A.toString(),E)}else le(2);f.I=0,f.l&&f.l.pa(_),kh(f),Oo(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function kh(f){if(f.I=0,f.ja=[],f.l){const _=fc(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function Vh(f,_,E){var A=E instanceof hi?We(E):new hi(E);if(A.g!="")_&&(A.g=_+"."+A.g),Er(A,A.u);else{var B=c.location;A=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const Y=new hi(null);A&&vn(Y,A),_&&(Y.g=_),B&&Er(Y,B),E&&(Y.h=E),A=Y}return E=f.G,_=f.wa,E&&_&&ue(A,E,_),ue(A,"VER",f.ka),ja(f,A),A}function Oh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new de(new ms({ab:E})):new de(f.ma),_.Fa(f.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ph(){}e=Ph.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ir(){}Ir.prototype.g=function(f,_){return new Gn(f,_)};function Gn(f,_){Me.call(this),this.g=new Rr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!I(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Fs(this)}v(Gn,Me),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){bc(this.g)},Gn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Ti(f),f=E);_.i.push(new Xe(_.Ya++,f)),_.I==3&&ys(_)},Gn.prototype.N=function(){this.g.l=null,delete this.j,bc(this.g),delete this.g,Gn.Z.N.call(this)};function Lh(f){Be.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const E in _){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Lh,Be);function jh(){Sn.call(this),this.status=1}v(jh,Sn);function Fs(f){this.g=f}v(Fs,Ph),Fs.prototype.ra=function(){Ue(this.g,"a")},Fs.prototype.qa=function(f){Ue(this.g,new Lh(f))},Fs.prototype.pa=function(f){Ue(this.g,new jh)},Fs.prototype.oa=function(){Ue(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,qC=function(){return new Ir},FC=function(){return Tr()},BC=ke,zy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,cd=as,zi.COMPLETE="complete",UC=zi,Ao.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Me.prototype.listen=Me.prototype.J,mu=Ao,de.prototype.listenOnce=de.prototype.K,de.prototype.getLastError=de.prototype.Ha,de.prototype.getLastErrorCode=de.prototype.ya,de.prototype.getStatus=de.prototype.ca,de.prototype.getResponseJson=de.prototype.La,de.prototype.getResponseText=de.prototype.la,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Fa,zC=de}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const Cx="@firebase/firestore",Rx="4.9.2";class zn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let ec="12.3.0";const mo=new tv("@firebase/firestore");function gl(){return mo.logLevel}function pt(e,...t){if(mo.logLevel<=Zt.DEBUG){const n=t.map(nv);mo.debug(`Firestore (${ec}): ${e}`,...n)}}function dr(e,...t){if(mo.logLevel<=Zt.ERROR){const n=t.map(nv);mo.error(`Firestore (${ec}): ${e}`,...n)}}function jl(e,...t){if(mo.logLevel<=Zt.WARN){const n=t.map(nv);mo.warn(`Firestore (${ec}): ${e}`,...n)}}function nv(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Rt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,HC(e,i,n)}function HC(e,t,n){let i=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw dr(i),new Error(i)}function ce(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||HC(t,a,i)}function kt(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends tc{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oa{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class GC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class b6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class T6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class E6{constructor(t){this.t=t,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ce(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new oa,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new oa)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ce(typeof i.accessToken=="string",31837,{l:i}),new GC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new zn(t)}}class x6{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w6{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new x6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MC(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ce(this.o===void 0,3512);const i=l=>{l.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function A6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class iv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=A6(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=t.charAt(a[l]%62))}return i}}function Qt(e,t){return e<t?-1:e>t?1:0}function Uy(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),l=t.charAt(i);if(a!==l)return Wg(a)===Wg(l)?Qt(a,l):Wg(a)?1:-1}return Qt(e.length,t.length)}const C6=55296,R6=57343;function Wg(e){const t=e.charCodeAt(0);return t>=C6&&t<=R6}function zl(e,t,n){return e.length===t.length&&e.every(((i,a)=>n(i,t[a])))}const Ix="__name__";class ws{constructor(t,n,i){n===void 0?n=0:n>t.length&&Rt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Rt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return ws.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ws?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const l=ws.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Qt(t.length,n.length)}static compareSegments(t,n){const i=ws.isNumericId(t),a=ws.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ws.extractNumericId(t).compare(ws.extractNumericId(n)):Uy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return aa.fromString(t.substring(4,t.length-2))}}class Te extends ws{construct(t,n,i){return new Te(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Te(n)}static emptyPath(){return new Te([])}}const N6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends ws{construct(t,n,i){return new Vn(t,n,i)}static isValidIdentifier(t){return N6.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ix}static keyField(){return new Vn([Ix])}static fromServerFormat(t){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vn(n)}static emptyPath(){return new Vn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(Te.fromString(t))}static fromName(t){return new Et(Te.fromString(t).popFirst(5))}static empty(){return new Et(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new Te(t.slice()))}}function YC(e,t,n){if(!n)throw new mt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function I6(e,t,n,i){if(t===!0&&i===!0)throw new mt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Dx(e){if(!Et.isDocumentKey(e))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Mx(e){if(Et.isDocumentKey(e))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function KC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function sm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rt(12329,{type:typeof e})}function Ul(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sm(e);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function an(e,t){const n={typeString:e};return t&&(n.value=t),n}function ch(e,t){if(!KC(e))throw new mt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const c=e[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new mt(st.INVALID_ARGUMENT,n);return!0}const kx=-62135596800,Vx=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Vx);return new Ce(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kx)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vx}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ch(t,Ce._jsonSchema))return new Ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:an("string",Ce._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Ce(0,0))}static max(){return new Dt(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fu=-1;function D6(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=Dt.fromTimestamp(i===1e9?new Ce(n+1,0):new Ce(n,i));return new ma(a,Et.empty(),t)}function M6(e){return new ma(e.readTime,e.key,Fu)}class ma{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ma(Dt.min(),Et.empty(),Fu)}static max(){return new ma(Dt.max(),Et.empty(),Fu)}}function k6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(e.documentKey,t.documentKey),n!==0?n:Qt(e.largestBatchId,t.largestBatchId))}const V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function nc(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==V6)throw e;pt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,i)=>{n(t)}))}static reject(t){return new rt(((n,i)=>{i(t)}))}static waitFor(t){return new rt(((n,i)=>{let a=0,l=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(t){let n=rt.resolve(!1);for(const i of t)n=n.next((a=>a?rt.resolve(a):i()));return n}static forEach(t,n){const i=[];return t.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(t,n){return new rt(((i,a)=>{const l=t.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++h,h===l&&i(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new rt(((i,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):i()};l()}))}}function P6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(e){return e.name==="IndexedDbTransactionError"}class rm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rm.ce=-1;const sv=-1;function am(e){return e==null}function Cd(e){return e===0&&1/e==-1/0}function L6(e){return typeof e=="number"&&Number.isInteger(e)&&!Cd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const QC="";function j6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ox(t)),t=z6(e.get(n),t);return Ox(t)}function z6(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case QC:n+="";break;default:n+=l}}return n}function Ox(e){return e+QC+""}function Px(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function XC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}let on=class By{constructor(t,n){this.comparator=t,this.root=n||la.EMPTY}insert(t,n){return new By(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,la.BLACK,null,null))}remove(t){return new By(this.comparator,this.root.remove(t,this.comparator).copy(null,null,la.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $f(this.root,t,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $f(this.root,t,this.comparator,!0)}},$f=class{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},la=class ar{constructor(t,n,i,a,l){this.key=t,this.value=n,this.color=i??ar.RED,this.left=a??ar.EMPTY,this.right=l??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,l){return new ar(t??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return ar.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}};la.EMPTY=null,la.RED=!0,la.BLACK=!1;la.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,n,i,a,l){return this}insert(t,n,i){return new la(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(t){this.comparator=t,this.data=new on(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lx(this.data.getIterator())}getIteratorFrom(t){return new Lx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof gn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new gn(this.comparator);return n.data=t,n}}class Lx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ts{constructor(t){this.fields=t,t.sort(Vn.comparator)}static empty(){return new ts([])}unionWith(t){let n=new gn(Vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ts(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zl(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class On{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new WC("Invalid base64 string: "+l):l}})(t);return new On(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new On(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}On.EMPTY_BYTE_STRING=new On("");const U6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(e){if(ce(!!e,39018),typeof e=="string"){let t=0;const n=U6.exec(e);if(ce(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ye(e.seconds),nanos:Ye(e.nanos)}}function Ye(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ga(e){return typeof e=="string"?On.fromBase64String(e):On.fromUint8Array(e)}const $C="server_timestamp",ZC="__type__",JC="__previous_value__",t2="__local_write_time__";function rv(e){return(e?.mapValue?.fields||{})[ZC]?.stringValue===$C}function om(e){const t=e.mapValue.fields[JC];return rv(t)?om(t):t}function qu(e){const t=pa(e.mapValue.fields[t2].timestampValue);return new Ce(t.seconds,t.nanos)}class B6{constructor(t,n,i,a,l,c,h,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Rd="(default)";class Hu{constructor(t,n){this.projectId=t,this.database=n||Rd}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(t){return t instanceof Hu&&t.projectId===this.projectId&&t.database===this.database}}const e2="__type__",F6="__max__",Zf={mapValue:{}},n2="__vector__",Nd="value";function ya(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rv(e)?4:H6(e)?9007199254740991:q6(e)?10:11:Rt(28295,{value:e})}function ks(e,t){if(e===t)return!0;const n=ya(e);if(n!==ya(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qu(e).isEqual(qu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=pa(a.timestampValue),h=pa(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return ga(a.bytesValue).isEqual(ga(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ye(a.geoPointValue.latitude)===Ye(l.geoPointValue.latitude)&&Ye(a.geoPointValue.longitude)===Ye(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ye(a.integerValue)===Ye(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ye(a.doubleValue),h=Ye(l.doubleValue);return c===h?Cd(c)===Cd(h):isNaN(c)&&isNaN(h)}return!1})(e,t);case 9:return zl(e.arrayValue.values||[],t.arrayValue.values||[],ks);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Px(c)!==Px(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!ks(c[m],h[m])))return!1;return!0})(e,t);default:return Rt(52216,{left:e})}}function Gu(e,t){return(e.values||[]).find((n=>ks(n,t)))!==void 0}function Bl(e,t){if(e===t)return 0;const n=ya(e),i=ya(t);if(n!==i)return Qt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const h=Ye(l.integerValue||l.doubleValue),m=Ye(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(e,t);case 3:return jx(e.timestampValue,t.timestampValue);case 4:return jx(qu(e),qu(t));case 5:return Uy(e.stringValue,t.stringValue);case 6:return(function(l,c){const h=ga(l),m=ga(c);return h.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const h=l.split("/"),m=c.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=Qt(h[p],m[p]);if(y!==0)return y}return Qt(h.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const h=Qt(Ye(l.latitude),Ye(c.latitude));return h!==0?h:Qt(Ye(l.longitude),Ye(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return zx(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const h=l.fields||{},m=c.fields||{},p=h[Nd]?.arrayValue,y=m[Nd]?.arrayValue,v=Qt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:zx(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Zf.mapValue&&c===Zf.mapValue)return 0;if(l===Zf.mapValue)return 1;if(c===Zf.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const T=Uy(m[v],y[v]);if(T!==0)return T;const C=Bl(h[m[v]],p[y[v]]);if(C!==0)return C}return Qt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Rt(23264,{he:n})}}function jx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qt(e,t);const n=pa(e),i=pa(t),a=Qt(n.seconds,i.seconds);return a!==0?a:Qt(n.nanos,i.nanos)}function zx(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Bl(n[a],i[a]);if(l)return l}return Qt(n.length,i.length)}function Fl(e){return Fy(e)}function Fy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=pa(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return ga(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Et.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Fy(l);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Fy(n.fields[c])}`;return a+"}"})(e.mapValue):Rt(61005,{value:e})}function ud(e){switch(ya(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=om(e);return t?16+ud(t):16;case 5:return 2*e.stringValue.length;case 6:return ga(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+ud(l)),0)})(e.arrayValue);case 10:case 11:return(function(i){let a=0;return vo(i.fields,((l,c)=>{a+=l.length+ud(c)})),a})(e.mapValue);default:throw Rt(13486,{value:e})}}function Ux(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qy(e){return!!e&&"integerValue"in e}function av(e){return!!e&&"arrayValue"in e}function Bx(e){return!!e&&"nullValue"in e}function Fx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hd(e){return!!e&&"mapValue"in e}function q6(e){return(e?.mapValue?.fields||{})[e2]?.stringValue===n2}function xu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return vo(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=xu(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xu(e.arrayValue.values[n]);return t}return{...e}}function H6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===F6}class Oi{constructor(t){this.value=t}static empty(){return new Oi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!hd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xu(n)}setAll(t){let n=Vn.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=xu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(t){const n=this.field(t.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ks(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];hd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){vo(n,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new Oi(xu(this.value))}}function i2(e){const t=[];return vo(e.fields,((n,i)=>{const a=new Vn([n]);if(hd(i)){const l=i2(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new ts(t)}class Un{constructor(t,n,i,a,l,c,h){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(t){return new Un(t,0,Dt.min(),Dt.min(),Dt.min(),Oi.empty(),0)}static newFoundDocument(t,n,i,a){return new Un(t,1,n,Dt.min(),i,a,0)}static newNoDocument(t,n){return new Un(t,2,n,Dt.min(),Dt.min(),Oi.empty(),0)}static newUnknownDocument(t,n){return new Un(t,3,n,Dt.min(),Dt.min(),Oi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Id{constructor(t,n){this.position=t,this.inclusive=n}}function qx(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?i=Et.comparator(Et.fromName(c.referenceValue),n.key):i=Bl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ks(e.position[n],t.position[n]))return!1;return!0}class Yu{constructor(t,n="asc"){this.field=t,this.dir=n}}function G6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class s2{}class rn extends s2{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new K6(t,n,i):n==="array-contains"?new W6(t,i):n==="in"?new $6(t,i):n==="not-in"?new Z6(t,i):n==="array-contains-any"?new J6(t,i):new rn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Q6(t,i):new X6(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bl(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends s2{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new rs(t,n)}matches(t){return r2(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r2(e){return e.op==="and"}function a2(e){return Y6(e)&&r2(e)}function Y6(e){for(const t of e.filters)if(t instanceof rs)return!1;return!0}function Hy(e){if(e instanceof rn)return e.field.canonicalString()+e.op.toString()+Fl(e.value);if(a2(e))return e.filters.map((t=>Hy(t))).join(",");{const t=e.filters.map((n=>Hy(n))).join(",");return`${e.op}(${t})`}}function o2(e,t){return e instanceof rn?(function(i,a){return a instanceof rn&&i.op===a.op&&i.field.isEqual(a.field)&&ks(i.value,a.value)})(e,t):e instanceof rs?(function(i,a){return a instanceof rs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&o2(c,a.filters[h])),!0):!1})(e,t):void Rt(19439)}function l2(e){return e instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(e):e instanceof rs?(function(n){return n.op.toString()+" {"+n.getFilters().map(l2).join(" ,")+"}"})(e):"Filter"}class K6 extends rn{constructor(t,n,i){super(t,n,i),this.key=Et.fromName(i.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class Q6 extends rn{constructor(t,n){super(t,"in",n),this.keys=c2("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class X6 extends rn{constructor(t,n){super(t,"not-in",n),this.keys=c2("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function c2(e,t){return(t.arrayValue?.values||[]).map((n=>Et.fromName(n.referenceValue)))}class W6 extends rn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return av(n)&&Gu(n.arrayValue,this.value)}}class $6 extends rn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}}class Z6 extends rn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gu(this.value.arrayValue,n)}}class J6 extends rn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Gu(this.value.arrayValue,i)))}}class tL{constructor(t,n=null,i=[],a=[],l=null,c=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function Gx(e,t=null,n=[],i=[],a=null,l=null,c=null){return new tL(e,t,n,i,a,l,c)}function ov(e){const t=kt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>Hy(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),am(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Fl(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Fl(i))).join(",")),t.Te=n}return t.Te}function lv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!G6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!o2(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hx(e.startAt,t.startAt)&&Hx(e.endAt,t.endAt)}function Gy(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class sc{constructor(t,n=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eL(e,t,n,i,a,l,c,h){return new sc(e,t,n,i,a,l,c,h)}function u2(e){return new sc(e)}function Yx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function h2(e){return e.collectionGroup!==null}function wu(e){const t=kt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new gn(Vn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Yu(l,i))})),n.has(Vn.keyField().canonicalString())||t.Ie.push(new Yu(Vn.keyField(),i))}return t.Ie}function Rs(e){const t=kt(e);return t.Ee||(t.Ee=nL(t,wu(e))),t.Ee}function nL(e,t){if(e.limitType==="F")return Gx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yu(a.field,l)}));const n=e.endAt?new Id(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Id(e.startAt.position,e.startAt.inclusive):null;return Gx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Yy(e,t){const n=e.filters.concat([t]);return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dd(e,t,n){return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lm(e,t){return lv(Rs(e),Rs(t))&&e.limitType===t.limitType}function f2(e){return`${ov(Rs(e))}|lt:${e.limitType}`}function yl(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>l2(a))).join(", ")}]`),am(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Fl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Fl(a))).join(",")),`Target(${i})`})(Rs(e))}; limitType=${e.limitType})`}function cm(e,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Et.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(e,t)&&(function(i,a){for(const l of wu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,m){const p=qx(c,h,m);return c.inclusive?p<=0:p<0})(i.startAt,wu(i),a)||i.endAt&&!(function(c,h,m){const p=qx(c,h,m);return c.inclusive?p>=0:p>0})(i.endAt,wu(i),a))})(e,t)}function iL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function d2(e){return(t,n)=>{let i=!1;for(const a of wu(e)){const l=sL(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function sL(e,t,n){const i=e.field.isKeyField()?Et.comparator(t.key,n.key):(function(l,c,h){const m=c.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Bl(m,p):Rt(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:e.dir})}}class bo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){vo(this.inner,((n,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}const rL=new on(Et.comparator);function mr(){return rL}const m2=new on(Et.comparator);function pu(...e){let t=m2;for(const n of e)t=t.insert(n.key,n);return t}function p2(e){let t=m2;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function co(){return Su()}function g2(){return Su()}function Su(){return new bo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const aL=new on(Et.comparator),oL=new gn(Et.comparator);function Xt(...e){let t=oL;for(const n of e)t=t.add(n);return t}const lL=new gn(Qt);function cL(){return lL}function cv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(t)?"-0":t}}function y2(e){return{integerValue:""+e}}function uL(e,t){return L6(t)?y2(t):cv(e,t)}class um{constructor(){this._=void 0}}function hL(e,t,n){return e instanceof Md?(function(a,l){const c={fields:{[ZC]:{stringValue:$C},[t2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&rv(l)&&(l=om(l)),l&&(c.fields[JC]=l),{mapValue:c}})(n,t):e instanceof Ku?v2(e,t):e instanceof Qu?b2(e,t):(function(a,l){const c=_2(a,l),h=Kx(c)+Kx(a.Ae);return qy(c)&&qy(a.Ae)?y2(h):cv(a.serializer,h)})(e,t)}function fL(e,t,n){return e instanceof Ku?v2(e,t):e instanceof Qu?b2(e,t):n}function _2(e,t){return e instanceof kd?(function(i){return qy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Md extends um{}class Ku extends um{constructor(t){super(),this.elements=t}}function v2(e,t){const n=T2(t);for(const i of e.elements)n.some((a=>ks(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Qu extends um{constructor(t){super(),this.elements=t}}function b2(e,t){let n=T2(t);for(const i of e.elements)n=n.filter((a=>!ks(a,i)));return{arrayValue:{values:n}}}class kd extends um{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Kx(e){return Ye(e.integerValue||e.doubleValue)}function T2(e){return av(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function dL(e,t){return e.field.isEqual(t.field)&&(function(i,a){return i instanceof Ku&&a instanceof Ku||i instanceof Qu&&a instanceof Qu?zl(i.elements,a.elements,ks):i instanceof kd&&a instanceof kd?ks(i.Ae,a.Ae):i instanceof Md&&a instanceof Md})(e.transform,t.transform)}class mL{constructor(t,n){this.version=t,this.transformResults=n}}class Ns{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ns}static exists(t){return new Ns(void 0,t)}static updateTime(t){return new Ns(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hm{}function E2(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uv(e.key,Ns.none()):new uh(e.key,e.data,Ns.none());{const n=e.data,i=Oi.empty();let a=new gn(Vn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new To(e.key,i,new ts(a.toArray()),Ns.none())}}function pL(e,t,n){e instanceof uh?(function(a,l,c){const h=a.value.clone(),m=Xx(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(e,t,n):e instanceof To?(function(a,l,c){if(!fd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=Xx(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(x2(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Au(e,t,n,i){return e instanceof uh?(function(l,c,h,m){if(!fd(l.precondition,c))return h;const p=l.value.clone(),y=Wx(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,i):e instanceof To?(function(l,c,h,m){if(!fd(l.precondition,c))return h;const p=Wx(l.fieldTransforms,m,c),y=c.data;return y.setAll(x2(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,i):(function(l,c,h){return fd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(e,t,n)}function gL(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),l=_2(i.transform,a||null);l!=null&&(n===null&&(n=Oi.empty()),n.set(i.field,l))}return n||null}function Qx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&zl(i,a,((l,c)=>dL(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uh extends hm{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class To extends hm{constructor(t,n,i,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function x2(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Xx(e,t,n){const i=new Map;ce(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,h=t.data.field(l.field);i.set(l.field,fL(c,h,n[a]))}return i}function Wx(e,t,n){const i=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);i.set(a.field,hL(l,c,t))}return i}class uv extends hm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yL extends hm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _L{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&pL(l,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Au(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Au(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=g2();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const m=E2(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Dt.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&zl(this.mutations,t.mutations,((n,i)=>Qx(n,i)))&&zl(this.baseMutations,t.baseMutations,((n,i)=>Qx(n,i)))}}class hv{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){ce(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return aL})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new hv(t,n,i,a)}}class vL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bL{constructor(t,n){this.count=t,this.unchangedNames=n}}var en,Jt;function TL(e){switch(e){case st.OK:return Rt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Rt(15467,{code:e})}}function w2(e){if(e===void 0)return dr("GRPC error has no .code"),st.UNKNOWN;switch(e){case en.OK:return st.OK;case en.CANCELLED:return st.CANCELLED;case en.UNKNOWN:return st.UNKNOWN;case en.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case en.INTERNAL:return st.INTERNAL;case en.UNAVAILABLE:return st.UNAVAILABLE;case en.UNAUTHENTICATED:return st.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case en.NOT_FOUND:return st.NOT_FOUND;case en.ALREADY_EXISTS:return st.ALREADY_EXISTS;case en.PERMISSION_DENIED:return st.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case en.ABORTED:return st.ABORTED;case en.OUT_OF_RANGE:return st.OUT_OF_RANGE;case en.UNIMPLEMENTED:return st.UNIMPLEMENTED;case en.DATA_LOSS:return st.DATA_LOSS;default:return Rt(39323,{code:e})}}(Jt=en||(en={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";function EL(){return new TextEncoder}const xL=new aa([4294967295,4294967295],0);function $x(e){const t=EL().encode(e),n=new jC;return n.update(t),new Uint8Array(n.digest())}function Zx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new aa([n,i],0),new aa([a,l],0)]}class fv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(i<0)throw new gu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=aa.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(aa.fromNumber(i)));return a.compare(xL)===1&&(a=new aa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$x(t),[i,a]=Zx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new fv(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const n=$x(t),[i,a]=Zx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fm{constructor(t,n,i,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,hh.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new fm(Dt.min(),a,new on(Qt),mr(),Xt())}}class hh{constructor(t,n,i,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new hh(i,n,Xt(),Xt(),Xt())}}class dd{constructor(t,n,i,a){this.be=t,this.removedTargetIds=n,this.key=i,this.De=a}}class S2{constructor(t,n){this.targetId=t,this.Ce=n}}class A2{constructor(t,n,i=On.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Jx{constructor(){this.ve=0,this.Fe=tw(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),n=Xt(),i=Xt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Rt(38017,{changeType:l})}})),new hh(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=tw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wL{constructor(t){this.Ge=t,this.ze=new Map,this.je=mr(),this.Je=Jf(),this.He=Jf(),this.Ye=new on(Qt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Gy(l))if(i===0){const c=new Et(l.path);this.et(n,c,Un.newNoDocument(c,Dt.min()))}else ce(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(t),m=h?this.ct(h,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ga(i).toUint8Array()}catch(m){if(m instanceof WC)return jl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new fv(c,a,l)}catch(m){return jl(m instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Gy(h.target)){const m=new Et(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Un.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Xt();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new fm(t,n,this.Ye,this.je,i);return this.je=mr(),this.Je=Jf(),this.He=Jf(),this.Ye=new on(Qt),a}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Jx,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new gn(Qt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new gn(Qt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Jx),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jf(){return new on(Et.comparator)}function tw(){return new on(Et.comparator)}const SL={asc:"ASCENDING",desc:"DESCENDING"},AL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CL={and:"AND",or:"OR"};class RL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ky(e,t){return e.useProto3Json||am(t)?t:{value:t}}function Vd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function C2(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NL(e,t){return Vd(e,t.toTimestamp())}function Is(e){return ce(!!e,49232),Dt.fromTimestamp((function(n){const i=pa(n);return new Ce(i.seconds,i.nanos)})(e))}function dv(e,t){return Qy(e,t).canonicalString()}function Qy(e,t){const n=(function(a){return new Te(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function R2(e){const t=Te.fromString(e);return ce(k2(t),10190,{key:t.toString()}),t}function Xy(e,t){return dv(e.databaseId,t.path)}function $g(e,t){const n=R2(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Et(I2(n))}function N2(e,t){return dv(e.databaseId,t)}function IL(e){const t=R2(e);return t.length===4?Te.emptyPath():I2(t)}function Wy(e){return new Te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function I2(e){return ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ew(e,t,n){return{name:Xy(e,t),fields:n.value.mapValue.fields}}function DL(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Rt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ce(y===void 0||typeof y=="string",58123),On.fromBase64String(y||"")):(ce(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),On.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(p){const y=p.code===void 0?st.UNKNOWN:w2(p.code);return new mt(y,p.message||"")})(c);n=new A2(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=$g(e,i.document.name),l=Is(i.document.updateTime),c=i.document.createTime?Is(i.document.createTime):Dt.min(),h=new Oi({mapValue:{fields:i.document.fields}}),m=Un.newFoundDocument(a,l,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new dd(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=$g(e,i.document),l=i.readTime?Is(i.readTime):Dt.min(),c=Un.newNoDocument(a,l),h=i.removedTargetIds||[];n=new dd([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=$g(e,i.document),l=i.removedTargetIds||[];n=new dd([],l,a,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new bL(a,l),h=i.targetId;n=new S2(h,c)}}return n}function ML(e,t){let n;if(t instanceof uh)n={update:ew(e,t.key,t.value)};else if(t instanceof uv)n={delete:Xy(e,t.key)};else if(t instanceof To)n={update:ew(e,t.key,t.data),updateMask:BL(t.fieldMask)};else{if(!(t instanceof yL))return Rt(16599,{Vt:t.type});n={verify:Xy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof Md)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof kd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Rt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:NL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Rt(27497)})(e,t.precondition)),n}function kL(e,t){return e&&e.length>0?(ce(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Is(a.updateTime):Is(l);return c.isEqual(Dt.min())&&(c=Is(l)),new mL(c,a.transformResults||[])})(n,t)))):[]}function VL(e,t){return{documents:[N2(e,t.path)]}}function OL(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=N2(e,a);const l=(function(p){if(p.length!==0)return M2(rs.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:_l(T.field),direction:jL(T.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Ky(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function PL(e){let t=IL(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ce(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=D2(v);return T instanceof rs&&a2(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((T=>(function(M){return new Yu(vl(M.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,am(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(v){const T=!!v.before,C=v.values||[];return new Id(C,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,C=v.values||[];return new Id(C,T)})(n.endAt)),eL(t,a,c,l,h,"F",m,p)}function LL(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function D2(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vl(n.unaryFilter.field);return rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=vl(n.unaryFilter.field);return rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(n.unaryFilter.field);return rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vl(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return rn.create(vl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return rs.create(n.compositeFilter.filters.map((i=>D2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(n.compositeFilter.op))})(e):Rt(30097,{filter:e})}function jL(e){return SL[e]}function zL(e){return AL[e]}function UL(e){return CL[e]}function _l(e){return{fieldPath:e.canonicalString()}}function vl(e){return Vn.fromServerFormat(e.fieldPath)}function M2(e){return e instanceof rn?(function(n){if(n.op==="=="){if(Fx(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(Bx(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fx(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(Bx(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:zL(n.op),value:n.value}}})(e):e instanceof rs?(function(n){const i=n.getFilters().map((a=>M2(a)));return i.length===1?i[0]:{compositeFilter:{op:UL(n.op),filters:i}}})(e):Rt(54877,{filter:e})}function BL(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function k2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class na{constructor(t,n,i,a,l=Dt.min(),c=Dt.min(),h=On.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FL{constructor(t){this.yt=t}}function qL(e){const t=PL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Dd(t,t.limit,"L"):t}class HL{constructor(){this.Cn=new GL}addToCollectionParentIndex(t,n){return this.Cn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(ma.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(ma.min())}updateCollectionGroup(t,n,i){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class GL{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new gn(Te.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new gn(Te.comparator)).toArray()}}const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V2=41943040;class ii{static withCacheSize(t){return new ii(t,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(V2,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class ql{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const iw="LruGarbageCollector",YL=1048576;function sw([e,t],[n,i]){const a=Qt(e,n);return a===0?Qt(t,i):a}class KL{constructor(t){this.Ir=t,this.buffer=new gn(sw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();sw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QL{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(iw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?pt(iw,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Vr(3e5)}))}}class XL{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(rm.ce);const i=new KL(n);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(nw)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,a,l,c,h,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),gl()<=Zt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function WL(e,t){return new XL(e,t)}class $L{constructor(){this.changes=new bo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?rt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class JL{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(i!==null&&Au(i.mutation,a,ts.empty(),Ce.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,Xt()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=Xt()){const a=co();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,i).next((l=>{let c=pu();return l.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const i=co();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,Xt())))}populateOverlays(t,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(t,n,i,a){let l=mr();const c=Su(),h=(function(){return Su()})();return n.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof To)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Au(y.mutation,p,y.mutation.getFieldMask(),Ce.now())):c.set(p.key,ts.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>h.set(p,new ZL(y,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,n){const i=Su();let a=new on(((c,h)=>c-h)),l=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||ts.empty();y=h.applyToLocalView(p,y),i.set(m,y);const v=(a.get(h.batchId)||Xt()).add(m);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,v=g2();y.forEach((T=>{if(!l.has(T)){const C=E2(n.get(T),i.get(T));C!==null&&v.set(T,C),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return rt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,a){return(function(c){return Et.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):h2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-l.size):rt.resolve(co());let h=Fu,m=l;return c.next((p=>rt.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Xt()))).next((y=>({batchId:h,changes:p2(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next((i=>{let a=pu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const l=n.collectionGroup;let c=pu();return this.indexManager.getCollectionParents(t,l).next((h=>rt.forEach(h,(m=>{const p=(function(v,T){return new sc(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Un.newInvalidDocument(y)))}));let h=pu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Au(y.mutation,p,ts.empty(),Ce.now()),cm(n,p)&&(h=h.insert(m,p))})),h}))}}class tj{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Is(a.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:qL(a.bundledQuery),readTime:Is(a.readTime)}})(n)),rt.resolve()}}class ej{constructor(){this.overlays=new on(Et.comparator),this.qr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=co();return rt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((a,l)=>{this.St(t,n,l)})),rt.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),rt.resolve()}getOverlaysForCollection(t,n,i){const a=co(),l=n.length+1,c=new Et(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let l=new on(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=co(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=co(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return rt.resolve(h)}St(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new vL(n,i));let l=this.qr.get(n);l===void 0&&(l=Xt(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class nj{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}class mv{constructor(){this.Qr=new gn(En.$r),this.Ur=new gn(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new En(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new En(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new Et(new Te([])),i=new En(n,t),a=new En(n,t+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Et(new Te([])),i=new En(n,t),a=new En(n,t+1);let l=Xt();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new En(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class En{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Et.comparator(t.key,n.key)||Qt(t.Yr,n.Yr)}static Kr(t,n){return Qt(t.Yr,n.Yr)||Et.comparator(t.key,n.key)}}class ij{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(En.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _L(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new En(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,n){return rt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?sv:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new En(n,0),a=new En(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new gn(Qt);return n.forEach((a=>{const l=new En(a,0),c=new En(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{i=i.add(h.Yr)}))})),rt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let l=i;Et.isDocumentKey(l)||(l=l.child(""));const c=new En(new Et(l),0);let h=new gn(Qt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),c),rt.resolve(this.ti(h))}ti(t){const n=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return rt.forEach(n.mutations,(a=>{const l=new En(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new En(n,0),a=this.Zr.firstAfterOrEqual(i);return rt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sj{constructor(t){this.ri=t,this.docs=(function(){return new on(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return rt.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(t,n){let i=mr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Un.newInvalidDocument(a))})),rt.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let l=mr();const c=n.path,h=new Et(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||k6(M6(y),i)<=0||(a.has(y.key)||cm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,n,i,a){Rt(9500)}ii(t,n){return rt.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new rj(this)}getSize(t){return rt.resolve(this.size)}}class rj extends $L{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),rt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class aj{constructor(t){this.persistence=t,this.si=new bo((n=>ov(n)),lv),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new mv,this.targetCount=0,this.ai=ql.ur()}forEachTarget(t,n){return this.si.forEach(((i,a)=>n(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),rt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ql(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.Pr(n),rt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,i){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return rt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),rt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return rt.resolve(i)}containsKey(t,n){return rt.resolve(this._i.containsKey(n))}}class O2{constructor(t,n){this.ui={},this.overlays={},this.ci=new rm(0),this.li=!1,this.li=!0,this.hi=new nj,this.referenceDelegate=t(this),this.Pi=new aj(this),this.indexManager=new HL,this.remoteDocumentCache=(function(a){return new sj(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new FL(n),this.Ii=new tj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ej,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new ij(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){pt("MemoryPersistence","Starting transaction:",t);const a=new oj(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return rt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class oj extends O6{constructor(t){super(),this.currentSequenceNumber=t}}class pv{constructor(t){this.persistence=t,this.Ri=new mv,this.Vi=null}static mi(t){return new pv(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),rt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(i=>{const a=Et.fromPath(i);return this.gi(t,a).next((l=>{l||n.removeEntry(a,Dt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return rt.or([()=>rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Od{constructor(t,n){this.persistence=t,this.pi=new bo((i=>j6(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=WL(this,n)}static mi(t,n){return new Od(t,n)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((a=>i+a))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return rt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((l=>l?rt.resolve():n(a)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((h=>{h||(i++,l.removeEntry(c,Dt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ud(t.data.value)),n}br(t,n,i){return rt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return rt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class gv{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=a}static As(t,n){let i=Xt(),a=Xt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gv(t,n.fromCache,i,a)}}class lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JP()?8:P6(wC())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new lj;return this.Ss(t,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(t,n,c,h.size)}))})).next((()=>l.result))}bs(t,n,i,a){return i.documentReadCount<this.fs?(gl()<=Zt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(gl()<=Zt.DEBUG&&pt("QueryEngine","Query:",yl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(gl()<=Zt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rs(n))):rt.resolve())}ys(t,n){if(Yx(n))return rt.resolve(null);let i=Rs(n);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Dd(n,null,"F"),i=Rs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=Xt(...l);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,c,m.readTime)?this.ys(t,Dd(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,i,a){return Yx(n)||a.isEqual(Dt.min())?rt.resolve(null):this.ps.getDocuments(t,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?rt.resolve(null):(gl()<=Zt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yl(n)),this.vs(t,c,n,D6(a,Fu)).next((h=>h)))}))}Ds(t,n){let i=new gn(d2(t));return n.forEach(((a,l)=>{cm(t,l)&&(i=i.add(l))})),i}Cs(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,i){return gl()<=Zt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(t,n,ma.min(),i)}vs(t,n,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const yv="LocalStore",uj=3e8;class hj{constructor(t,n,i,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new on(Qt),this.xs=new bo((l=>ov(l)),lv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function fj(e,t,n,i){return new hj(e,t,n,i)}async function P2(e,t){const n=kt(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let m=Xt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function dj(e,t){const n=kt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,y){const v=p.batch,T=v.keys();let C=rt.resolve();return T.forEach((M=>{C=C.next((()=>y.getEntry(m,M))).next((j=>{const L=p.docVersions.get(M);ce(L!==null,48541),j.version.compareTo(L)<0&&(v.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(m,v)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Xt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function L2(e){const t=kt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function mj(e,t){const n=kt(e),i=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];t.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let C=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?C=C.withResumeToken(On.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,i)),a=a.insert(v,C),(function(j,L,X){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=uj?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(T,C,y)&&h.push(n.Pi.updateTargetData(l,C))}));let m=mr(),p=Xt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(pj(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Dt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return rt.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function pj(e,t,n){let i=Xt(),a=Xt();return n.forEach((l=>i=i.add(l))),t.getEntries(e,i).next((l=>{let c=mr();return n.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Dt.min())?(t.removeEntry(h,m.readTime),c=c.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(h,m)):pt(yv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function gj(e,t){const n=kt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function yj(e,t){const n=kt(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,t).next((l=>l?(a=l,rt.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new na(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function $y(e,t,n){const i=kt(e),a=i.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ic(c))throw c;pt(yv,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function rw(e,t,n){const i=kt(e);let a=Dt.min(),l=Xt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=kt(m),T=v.xs.get(y);return T!==void 0?rt.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(i,c,Rs(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,n?a:Dt.min(),n?l:Xt()))).next((h=>(_j(i,iL(t),h),{documents:h,Qs:l})))))}function _j(e,t,n){let i=e.Os.get(t)||Dt.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),e.Os.set(t,i)}class aw{constructor(){this.activeTargetIds=cL()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vj{constructor(){this.Mo=new aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new aw,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bj{Oo(t){}shutdown(){}}const ow="ConnectivityMonitor";class lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(ow,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(ow,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let td=null;function Zy(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}const Zg="RestConnection",Tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ej{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Rd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,n,i,a,l){const c=Zy(),h=this.zo(t,n.toUriEncodedString());pt(Zg,`Sending RPC '${t}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(h),y=lh(p);return this.Jo(t,h,m,i,y).then((v=>(pt(Zg,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw jl(Zg,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,n,i,a,l,c){return this.Go(t,n,i,a,l)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ec})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const i=Tj[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class xj{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const jn="WebChannelConnection";class wj extends Ej{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,a,l){const c=Zy();return new Promise(((h,m)=>{const p=new zC;p.setWithCredentials(!0),p.listenOnce(UC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case cd.NO_ERROR:const v=p.getResponseJson();pt(jn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case cd.TIMEOUT:pt(jn,`RPC '${t}' ${c} timed out`),m(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const T=p.getStatus();if(pt(jn,`RPC '${t}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const j=(function(X){const nt=X.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(nt)>=0?nt:st.UNKNOWN})(M.status);m(new mt(j,M.message))}else m(new mt(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(st.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pt(jn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);pt(jn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(t,n,i){const a=Zy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=qC(),h=FC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");pt(jn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let T=!1,C=!1;const M=new xj({Yo:L=>{C?pt(jn,`Not sending because RPC '${t}' stream ${a} is closed:`,L):(T||(pt(jn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),T=!0),pt(jn,`RPC '${t}' stream ${a} sending:`,L),v.send(L))},Zo:()=>v.close()}),j=(L,X,nt)=>{L.listen(X,(W=>{try{nt(W)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return j(v,mu.EventType.OPEN,(()=>{C||(pt(jn,`RPC '${t}' stream ${a} transport opened.`),M.o_())})),j(v,mu.EventType.CLOSE,(()=>{C||(C=!0,pt(jn,`RPC '${t}' stream ${a} transport closed`),M.a_(),this.E_(v))})),j(v,mu.EventType.ERROR,(L=>{C||(C=!0,jl(jn,`RPC '${t}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),M.a_(new mt(st.UNAVAILABLE,"The operation could not be completed")))})),j(v,mu.EventType.MESSAGE,(L=>{if(!C){const X=L.data[0];ce(!!X,16349);const nt=X,W=nt?.error||nt[0]?.error;if(W){pt(jn,`RPC '${t}' stream ${a} received error:`,W);const ot=W.status;let ut=(function(S){const N=en[S];if(N!==void 0)return w2(N)})(ot),lt=W.message;ut===void 0&&(ut=st.INTERNAL,lt="Unknown error status: "+ot+" with message "+W.message),C=!0,M.a_(new mt(ut,lt)),v.close()}else pt(jn,`RPC '${t}' stream ${a} received:`,X),M.u_(X)}})),j(h,BC.STAT_EVENT,(L=>{L.stat===zy.PROXY?pt(jn,`RPC '${t}' stream ${a} detected buffering proxy`):L.stat===zy.NOPROXY&&pt(jn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Jg(){return typeof document<"u"?document:null}function dm(e){return new RL(e,!0)}class j2{constructor(t,n,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cw="PersistentStream";class z2{constructor(t,n,i,a,l,c,h,m){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j2(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{t((()=>{const a=new mt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(cw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(pt(cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sj extends z2{constructor(t,n,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=DL(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Dt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Dt.min():c.readTime?Is(c.readTime):Dt.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=Wy(this.serializer),n.addTarget=(function(l,c){let h;const m=c.target;if(h=Gy(m)?{documents:VL(l,m)}:{query:OL(l,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=C2(l,c.resumeToken);const p=Ky(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Dt.min())>0){h.readTime=Vd(l,c.snapshotVersion.toTimestamp());const p=Ky(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=LL(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=Wy(this.serializer),n.removeTarget=t,this.q_(n)}}class Aj extends z2{constructor(t,n,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=kL(t.writeResults,t.commitTime),i=Is(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Wy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>ML(this.serializer,i)))};this.q_(n)}}class Cj{}class Rj extends Cj{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Qy(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(st.UNKNOWN,l.toString())}))}Ho(t,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,Qy(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Nj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const po="RemoteStore";class Ij{constructor(t,n,i,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Eo(this)&&(pt(po,"Restarting streams for network reachability change."),await(async function(m){const p=kt(m);p.Ea.add(4),await fh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await mm(p)})(this))}))})),this.Ra=new Nj(i,a)}}async function mm(e){if(Eo(e))for(const t of e.da)await t(!0)}async function fh(e){for(const t of e.da)await t(!1)}function U2(e,t){const n=kt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Tv(n)?bv(n):rc(n).O_()&&vv(n,t))}function _v(e,t){const n=kt(e),i=rc(n);n.Ia.delete(t),i.O_()&&B2(n,t),n.Ia.size===0&&(i.O_()?i.L_():Eo(n)&&n.Ra.set("Unknown"))}function vv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rc(e).Y_(t)}function B2(e,t){e.Va.Ue(t),rc(e).Z_(t)}function bv(e){e.Va=new wL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),rc(e).start(),e.Ra.ua()}function Tv(e){return Eo(e)&&!rc(e).x_()&&e.Ia.size>0}function Eo(e){return kt(e).Ea.size===0}function F2(e){e.Va=void 0}async function Dj(e){e.Ra.set("Online")}async function Mj(e){e.Ia.forEach(((t,n)=>{vv(e,t)}))}async function kj(e,t){F2(e),Tv(e)?(e.Ra.ha(t),bv(e)):e.Ra.set("Unknown")}async function Vj(e,t,n){if(e.Ra.set("Online"),t instanceof A2&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(e,t)}catch(i){pt(po,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Pd(e,i)}else if(t instanceof dd?e.Va.Ze(t):t instanceof S2?e.Va.st(t):e.Va.tt(t),!n.isEqual(Dt.min()))try{const i=await L2(e.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(On.EMPTY_BYTE_STRING,y.snapshotVersion)),B2(l,m);const v=new na(y.target,m,p,y.sequenceNumber);vv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(i){pt(po,"Failed to raise snapshot:",i),await Pd(e,i)}}async function Pd(e,t,n){if(!ic(t))throw t;e.Ea.add(1),await fh(e),e.Ra.set("Offline"),n||(n=()=>L2(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pt(po,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await mm(e)}))}function q2(e,t){return t().catch((n=>Pd(e,n,t)))}async function pm(e){const t=kt(e),n=_a(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sv;for(;Oj(t);)try{const a=await gj(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,Pj(t,a)}catch(a){await Pd(t,a)}H2(t)&&G2(t)}function Oj(e){return Eo(e)&&e.Ta.length<10}function Pj(e,t){e.Ta.push(t);const n=_a(e);n.O_()&&n.X_&&n.ea(t.mutations)}function H2(e){return Eo(e)&&!_a(e).x_()&&e.Ta.length>0}function G2(e){_a(e).start()}async function Lj(e){_a(e).ra()}async function jj(e){const t=_a(e);for(const n of e.Ta)t.ea(n.mutations)}async function zj(e,t,n){const i=e.Ta.shift(),a=hv.from(i,t,n);await q2(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await pm(e)}async function Uj(e,t){t&&_a(e).X_&&await(async function(i,a){if((function(c){return TL(c)&&c!==st.ABORTED})(a.code)){const l=i.Ta.shift();_a(i).B_(),await q2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await pm(i)}})(e,t),H2(e)&&G2(e)}async function uw(e,t){const n=kt(e);n.asyncQueue.verifyOperationInProgress(),pt(po,"RemoteStore received new credentials");const i=Eo(n);n.Ea.add(3),await fh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await mm(n)}async function Bj(e,t){const n=kt(e);t?(n.Ea.delete(2),await mm(n)):t||(n.Ea.add(2),await fh(n),n.Ra.set("Unknown"))}function rc(e){return e.ma||(e.ma=(function(n,i,a){const l=kt(n);return l.sa(),new Sj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:Dj.bind(null,e),t_:Mj.bind(null,e),r_:kj.bind(null,e),H_:Vj.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Tv(e)?bv(e):e.Ra.set("Unknown")):(await e.ma.stop(),F2(e))}))),e.ma}function _a(e){return e.fa||(e.fa=(function(n,i,a){const l=kt(n);return l.sa(),new Aj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Lj.bind(null,e),r_:Uj.bind(null,e),ta:jj.bind(null,e),na:zj.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await pm(e)):(await e.fa.stop(),e.Ta.length>0&&(pt(po,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ev{constructor(t,n,i,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,l){const c=Date.now()+i,h=new Ev(t,n,c,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(e,t){if(dr("AsyncQueue",`${t}: ${e}`),ic(e))return new mt(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Nl{static emptySet(t){return new Nl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Et.comparator(n.key,i.key):(n,i)=>Et.comparator(n.key,i.key),this.keyedMap=pu(),this.sortedSet=new on(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Nl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Nl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}class hw{constructor(){this.ga=new on(Et.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class Hl{constructor(t,n,i,a,l,c,h,m,p){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Hl(t,n,Nl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class Fj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qj{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=kt(n),l=a.queries;a.queries=fw(),l.forEach(((c,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function fw(){return new bo((e=>f2(e)),lm)}async function Hj(e,t){const n=kt(e);let i=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new Fj,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=xv(c,`Initialization of query '${yl(t.query)}' failed`);return void t.onError(h)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&wv(n)}async function Gj(e,t){const n=kt(e),i=t.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Yj(e,t){const n=kt(e);let i=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&wv(n)}function Kj(e,t,n){const i=kt(e),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(t)}function wv(e){e.Ca.forEach((t=>{t.next()}))}var Jy,dw;(dw=Jy||(Jy={})).Ma="default",dw.Cache="cache";class Qj{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Hl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jy.Cache}}class Y2{constructor(t){this.key=t}}class K2{constructor(t){this.key=t}}class Xj{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=d2(t),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new hw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const T=a.get(y),C=cm(this.query,v)?v:null,M=!!T&&this.mutatedKeys.has(T.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;T&&C?T.data.isEqual(C.data)?M!==j&&(i.track({type:3,doc:C}),L=!0):this.su(T,C)||(i.track({type:2,doc:C}),L=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(h=!0)):!T&&C?(i.track({type:0,doc:C}),L=!0):T&&!C&&(i.track({type:1,doc:T}),L=!0,(m||p)&&(h=!0)),L&&(C?(c=c.add(C),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(C,M){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:L})}};return j(C)-j(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Hl(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Xt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new K2(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new Y2(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=Xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sv="SyncEngine";class Wj{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class $j{constructor(t){this.key=t,this.hu=!1}}class Zj{constructor(t,n,i,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new bo((h=>f2(h)),lm),this.Iu=new Map,this.Eu=new Set,this.du=new on(Et.comparator),this.Au=new Map,this.Ru=new mv,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Jj(e,t,n=!0){const i=J2(e);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Q2(i,t,n,!0),a}async function t9(e,t){const n=J2(e);await Q2(n,t,!0,!1)}async function Q2(e,t,n,i){const a=await yj(e.localStore,Rs(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await e9(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&U2(e.remoteStore,a),h}async function e9(e,t,n,i,a){e.pu=(v,T,C)=>(async function(j,L,X,nt){let W=L.view.ru(X);W.Cs&&(W=await rw(j.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,W))));const ot=nt&&nt.targetChanges.get(L.targetId),ut=nt&&nt.targetMismatches.get(L.targetId)!=null,lt=L.view.applyChanges(W,j.isPrimaryClient,ot,ut);return pw(j,L.targetId,lt.au),lt.snapshot})(e,v,T,C);const l=await rw(e.localStore,t,!0),c=new Xj(t,l.Qs),h=c.ru(l.documents),m=hh.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),p=c.applyChanges(h,e.isPrimaryClient,m);pw(e,n,p.au);const y=new Wj(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function n9(e,t,n){const i=kt(e),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!lm(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $y(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&_v(i.remoteStore,a.targetId),t_(i,a.targetId)})).catch(nc)):(t_(i,a.targetId),await $y(i.localStore,a.targetId,!0))}async function i9(e,t){const n=kt(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_v(n.remoteStore,i.targetId))}async function s9(e,t,n){const i=h9(e);try{const a=await(function(c,h){const m=kt(c),p=Ce.now(),y=h.reduce(((C,M)=>C.add(M.key)),Xt());let v,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=mr(),j=Xt();return m.Ns.getEntries(C,y).next((L=>{M=L,M.forEach(((X,nt)=>{nt.isValidDocument()||(j=j.add(X))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,M))).next((L=>{v=L;const X=[];for(const nt of h){const W=gL(nt,v.get(nt.key).overlayedDocument);W!=null&&X.push(new To(nt.key,W,i2(W.value.mapValue),Ns.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,X,h)})).next((L=>{T=L;const X=L.applyToLocalDocumentSet(v,j);return m.documentOverlayCache.saveOverlays(C,L.batchId,X)}))})).then((()=>({batchId:T.batchId,changes:p2(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new on(Qt)),p=p.insert(h,m),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,n),await dh(i,a.changes),await pm(i.remoteStore)}catch(a){const l=xv(a,"Failed to persist write");n.reject(l)}}async function X2(e,t){const n=kt(e);try{const i=await mj(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(ce(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ce(c.hu,14607):a.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await dh(n,i,t)}catch(i){await nc(i)}}function mw(e,t,n){const i=kt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=kt(c);m.onlineState=h;let p=!1;m.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&wv(m)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function r9(e,t,n){const i=kt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),l=a&&a.key;if(l){let c=new on(Et.comparator);c=c.insert(l,Un.newNoDocument(l,Dt.min()));const h=Xt().add(l),m=new fm(Dt.min(),new Map,new on(Qt),c,h);await X2(i,m),i.du=i.du.remove(l),i.Au.delete(t),Av(i)}else await $y(i.localStore,t,!1).then((()=>t_(i,t,n))).catch(nc)}async function a9(e,t){const n=kt(e),i=t.batch.batchId;try{const a=await dj(n.localStore,t);$2(n,i,null),W2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dh(n,a)}catch(a){await nc(a)}}async function o9(e,t,n){const i=kt(e);try{const a=await(function(c,h){const m=kt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next((v=>(ce(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);$2(i,t,n),W2(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await dh(i,a)}catch(a){await nc(a)}}function W2(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function $2(e,t,n){const i=kt(e);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function t_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||Z2(e,i)}))}function Z2(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(_v(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Av(e))}function pw(e,t,n){for(const i of n)i instanceof Y2?(e.Ru.addReference(i.key,t),l9(e,i)):i instanceof K2?(pt(Sv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||Z2(e,i.key)):Rt(19791,{wu:i})}function l9(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(pt(Sv,"New document in limbo: "+n),e.Eu.add(i),Av(e))}function Av(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Et(Te.fromString(t)),i=e.fu.next();e.Au.set(i,new $j(n)),e.du=e.du.insert(n,i),U2(e.remoteStore,new na(Rs(u2(n.path)),i,"TargetPurposeLimboResolution",rm.ce))}}async function dh(e,t,n){const i=kt(e),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{c.push(i.pu(m,t,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=gv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,p){const y=kt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>rt.forEach(p,(T=>rt.forEach(T.Es,(C=>y.persistence.referenceDelegate.addReference(v,T.targetId,C))).next((()=>rt.forEach(T.ds,(C=>y.persistence.referenceDelegate.removeReference(v,T.targetId,C)))))))))}catch(v){if(!ic(v))throw v;pt(yv,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const C=y.Ms.get(T),M=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(T,j)}}})(i.localStore,l))}async function c9(e,t){const n=kt(e);if(!n.currentUser.isEqual(t)){pt(Sv,"User change. New user:",t.toKey());const i=await P2(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new mt(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await dh(n,i.Ls)}}function u9(e,t){const n=kt(e),i=n.Au.get(t);if(i&&i.hu)return Xt().add(i.key);{let a=Xt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function J2(e){const t=kt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=X2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=u9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r9.bind(null,t),t.Pu.H_=Yj.bind(null,t.eventManager),t.Pu.yu=Kj.bind(null,t.eventManager),t}function h9(e){const t=kt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o9.bind(null,t),t}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fj(this.persistence,new cj,t.initialUser,this.serializer)}Cu(t){return new O2(pv.mi,this.serializer)}Du(t){return new vj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class f9 extends Ld{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ce(this.persistence.referenceDelegate instanceof Od,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QL(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new O2((i=>Od.mi(i,n)),this.serializer)}}class e_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=c9.bind(null,this.syncEngine),await Bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qj})()}createDatastore(t){const n=dm(t.databaseInfo.databaseId),i=(function(l){return new wj(l)})(t.databaseInfo);return(function(l,c,h,m){return new Rj(l,c,h,m)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,a,l,c,h){return new Ij(i,a,l,c,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>mw(this.syncEngine,n,0)),(function(){return lw.v()?new lw:new bj})())}createSyncEngine(t,n){return(function(a,l,c,h,m,p,y){const v=new Zj(a,l,c,h,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=kt(n);pt(po,"RemoteStore shutting down."),i.Ea.add(5),await fh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}e_.provider={build:()=>new e_};class d9{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):dr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const va="FirestoreClient";class m9{constructor(t,n,i,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=zn.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{pt(va,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pt(va,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=xv(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function ty(e,t){e.asyncQueue.verifyOperationInProgress(),pt(va,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async a=>{i.isEqual(a)||(await P2(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function gw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await p9(e);pt(va,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>uw(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,a)=>uw(t.remoteStore,a))),e._onlineComponents=t}async function p9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pt(va,"Using user provided OfflineComponentProvider");try{await ty(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await ty(e,new Ld)}}else pt(va,"Using default OfflineComponentProvider"),await ty(e,new f9(void 0));return e._offlineComponents}async function tR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pt(va,"Using user provided OnlineComponentProvider"),await gw(e,e._uninitializedComponentsProvider._online)):(pt(va,"Using default OnlineComponentProvider"),await gw(e,new e_))),e._onlineComponents}function g9(e){return tR(e).then((t=>t.syncEngine))}async function y9(e){const t=await tR(e),n=t.eventManager;return n.onListen=Jj.bind(null,t.syncEngine),n.onUnlisten=n9.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=t9.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=i9.bind(null,t.syncEngine),n}function _9(e,t,n={}){const i=new oa;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,p){const y=new d9({next:T=>{y.Nu(),c.enqueueAndForget((()=>Gj(l,v))),T.fromCache&&m.source==="server"?p.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new Qj(h,y,{includeMetadataChanges:!0,qa:!0});return Hj(l,v)})(await y9(e),e.asyncQueue,t,n,i))),i.promise}function eR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const yw=new Map;const nR="firestore.googleapis.com",_w=!0;class vw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nR,this.ssl=_w}else this.host=t.host,this.ssl=t.ssl??_w;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=V2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YL)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eR(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gm{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new b6;switch(i.type){case"firstParty":return new w6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=yw.get(n);i&&(pt("ComponentProvider","Removing Datastore"),yw.delete(n),i.terminate())})(this),Promise.resolve()}}function v9(e,t,n,i={}){e=Ul(e,gm);const a=lh(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;a&&(TC(`https://${h}`),xC("Firestore",!0)),l.host!==nR&&l.host!==h&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!zu(m,c)&&(e._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=zn.MOCK_USER;else{p=EC(i.mockUserToken,e._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new zn(v)}e._authCredentials=new T6(new GC(p,y))}}class Sa{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Sa(this.firestore,t,this._query)}}class pn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(ch(n,pn._jsonSchema))return new pn(t,i||null,new Et(Te.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:an("string",pn._jsonSchemaVersion),referencePath:an("string")};class ca extends Sa{constructor(t,n,i){super(t,n,u2(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new Et(t))}withConverter(t){return new ca(this.firestore,t,this._path)}}function Cv(e,t,...n){if(e=ss(e),YC("collection","path",t),e instanceof gm){const i=Te.fromString(t,...n);return Mx(i),new ca(e,null,i)}{if(!(e instanceof pn||e instanceof ca))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Te.fromString(t,...n));return Mx(i),new ca(e.firestore,null,i)}}function iR(e,t,...n){if(e=ss(e),arguments.length===1&&(t=iv.newId()),YC("doc","path",t),e instanceof gm){const i=Te.fromString(t,...n);return Dx(i),new pn(e,null,new Et(i))}{if(!(e instanceof pn||e instanceof ca))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Te.fromString(t,...n));return Dx(i),new pn(e.firestore,e instanceof ca?e.converter:null,new Et(i))}}const bw="AsyncQueue";class Tw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j2(this,"async_queue_retry"),this._c=()=>{const i=Jg();i&&pt(bw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new oa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ic(t))throw t;pt(bw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",Ew(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Ev.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Rt(47125,{Pc:Ew(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Ew(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ym extends gm{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new Tw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tw(t),this._firestoreClient=void 0,await t}}}function b9(e,t){const n=typeof e=="object"?e:OC(),i=typeof e=="string"?e:Rd,a=DC(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=vC("firestore");l&&v9(a,...l)}return a}function sR(e){if(e._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||T9(e),e._firestoreClient}function T9(e){const t=e._freezeSettings(),n=(function(a,l,c,h){return new B6(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new m9(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Pi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pi(On.fromBase64String(t))}catch(n){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pi(On.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ch(t,Pi._jsonSchema))return Pi.fromBase64String(t.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:an("string",Pi._jsonSchemaVersion),bytes:an("string")};class Rv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rR{constructor(t){this._methodName=t}}class Ds{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(t){if(ch(t,Ds._jsonSchema))return new Ds(t.latitude,t.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:an("string",Ds._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class Ms{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ch(t,Ms._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ms(t.vectorValues);throw new mt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:an("string",Ms._jsonSchemaVersion),vectorValues:an("object")};const E9=/^__.*__$/;class x9{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new To(t,this.data,this.fieldMask,n,this.fieldTransforms):new uh(t,this.data,n,this.fieldTransforms)}}function aR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:e})}}class Nv{constructor(t,n,i,a,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(aR(this.Ac)&&E9.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class w9{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||dm(t)}Cc(t,n,i,a=!1){return new Nv({Ac:t,methodName:n,Dc:i,path:Vn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oR(e){const t=e._freezeSettings(),n=dm(e._databaseId);return new w9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function S9(e,t,n,i,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);uR("Data must be an object, but it was:",c,i);const h=lR(i,c);let m,p;if(l.merge)m=new ts(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=C9(t,v,n);if(!c.contains(T))throw new mt(st.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);N9(y,T)||y.push(T)}m=new ts(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new x9(new Oi(h),m,p)}function A9(e,t,n,i=!1){return Iv(n,e.Cc(i?4:3,t))}function Iv(e,t){if(cR(e=ss(e)))return uR("Unsupported field value:",t,e),lR(e,t);if(e instanceof rR)return(function(i,a){if(!aR(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let m=Iv(h,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(i,a){if((i=ss(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ce.fromDate(i);return{timestampValue:Vd(a.serializer,l)}}if(i instanceof Ce){const l=new Ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vd(a.serializer,l)}}if(i instanceof Ds)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pi)return{bytesValue:C2(a.serializer,i._byteString)};if(i instanceof pn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ms)return(function(c,h){return{mapValue:{fields:{[e2]:{stringValue:n2},[Nd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return cv(h.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${sm(i)}`)})(e,t)}function lR(e,t){const n={};return XC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vo(e,((i,a)=>{const l=Iv(a,t.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function cR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ce||e instanceof Ds||e instanceof Pi||e instanceof pn||e instanceof rR||e instanceof Ms)}function uR(e,t,n){if(!cR(n)||!KC(n)){const i=sm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function C9(e,t,n){if((t=ss(t))instanceof Rv)return t._internalPath;if(typeof t=="string")return hR(e,t);throw jd("Field path arguments must be of type string or ",e,!1,void 0,n)}const R9=new RegExp("[~\\*/\\[\\]]");function hR(e,t,n){if(t.search(R9)>=0)throw jd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rv(...t.split("."))._internalPath}catch{throw jd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jd(e,t,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new mt(st.INVALID_ARGUMENT,h+e+m)}function N9(e,t){return e.some((n=>n.isEqual(t)))}class fR{constructor(t,n,i,a,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Dv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I9 extends fR{data(){return super.data()}}function Dv(e,t){return typeof t=="string"?hR(e,t):t instanceof Rv?t._internalPath:t._delegate._internalPath}function D9(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class kv extends Mv{}function M9(e,t,...n){let i=[];t instanceof Mv&&i.push(t),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof Ov)).length,h=l.filter((m=>m instanceof Vv)).length;if(c>1||c>0&&h>0)throw new mt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)e=a._apply(e);return e}class Vv extends kv{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Vv(t,n,i)}_apply(t){const n=this._parse(t);return dR(t._query,n),new Sa(t.firestore,t.converter,Yy(t._query,n))}_parse(t){const n=oR(t.firestore);return(function(l,c,h,m,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ww(v,y);const M=[];for(const j of v)M.push(xw(m,l,j));T={arrayValue:{values:M}}}else T=xw(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ww(v,y),T=A9(h,c,v,y==="in"||y==="not-in");return rn.create(p,y,T)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ov extends Mv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ov(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)dR(c,m),c=Yy(c,m)})(t._query,n),new Sa(t.firestore,t.converter,Yy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends kv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Pv(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yu(l,c)})(t._query,this._field,this._direction);return new Sa(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new sc(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function k9(e,t="asc"){const n=t,i=Dv("orderBy",e);return Pv._create(i,n)}class Lv extends kv{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new Lv(t,n,i)}_apply(t){return new Sa(t.firestore,t.converter,Dd(t._query,this._limit,this._limitType))}}function V9(e){return Lv._create("limit",e,"F")}function xw(e,t,n){if(typeof(n=ss(n))=="string"){if(n==="")throw new mt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h2(t)&&n.indexOf("/")!==-1)throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Te.fromString(n));if(!Et.isDocumentKey(i))throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ux(e,new Et(i))}if(n instanceof pn)return Ux(e,n._key);throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sm(n)}.`)}function ww(e,t){if(!Array.isArray(e)||e.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dR(e,t){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class O9{convertValue(t,n="none"){switch(ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ga(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return vo(t,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[Nd].arrayValue?.values?.map((i=>Ye(i.doubleValue)));return new Ms(n)}convertGeoPoint(t){return new Ds(Ye(t.latitude),Ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=om(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(qu(t));default:return null}}convertTimestamp(t){const n=pa(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Te.fromString(t);ce(k2(i),9688,{name:t});const a=new Hu(i.get(1),i.get(3)),l=new Et(i.popFirst(5));return a.isEqual(n)||dr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function P9(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class ed{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Il extends fR{constructor(t,n,i,a,l,c){super(t,n,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Dv("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Il._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:an("string",Il._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class md extends Il{data(t={}){return super.data(t)}}class Dl{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new ed(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new md(this._firestore,this._userDataWriter,i.key,i,new ed(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new md(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ed(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new md(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ed(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:L9(h.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Dl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function L9(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:e})}}Dl._jsonSchemaVersion="firestore/querySnapshot/1.0",Dl._jsonSchema={type:an("string",Dl._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class j9 extends O9{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function mR(e){e=Ul(e,Sa);const t=Ul(e.firestore,ym),n=sR(t),i=new j9(t);return D9(e._query),_9(n,e._query).then((a=>new Dl(t,i,e,a)))}function pR(e,t,n){e=Ul(e,pn);const i=Ul(e.firestore,ym),a=P9(e.converter,t,n);return gR(i,[S9(oR(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Ns.none())])}function z9(e){return gR(Ul(e.firestore,ym),[new uv(e._key,Ns.none())])}function gR(e,t){return(function(i,a){const l=new oa;return i.asyncQueue.enqueueAndForget((async()=>s9(await g9(i),a,l))),l.promise})(sR(e),t)}(function(t,n=!0){(function(a){ec=a})(kC),Uu(new Ll("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new ym(new E6(i.getProvider("auth-internal")),new S6(c,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ra(Cx,Rx,t),ra(Cx,Rx,"esm2020")})();var Sw={};const Aw="@firebase/database",Cw="1.1.0";let yR="";function U9(e){yR=e}class B9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),dn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ju(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class F9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return gr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const _R=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new B9(t)}}catch{}return new F9},uo=_R("localStorage"),q9=_R("sessionStorage");const Ml=new tv("@firebase/database"),H9=(function(){let e=1;return function(){return e++}})(),vR=function(e){const t=c5(e),n=new l5;n.update(t);const i=n.digest();return $_.encodeByteArray(i)},mh=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=mh.apply(null,i):typeof i=="object"?t+=dn(i):t+=i,t+=" "}return t};let Cu=null,Rw=!0;const G9=function(e,t){ht(!0,"Can't turn on custom loggers persistently."),Ml.logLevel=Zt.VERBOSE,Cu=Ml.log.bind(Ml)},Bn=function(...e){if(Rw===!0&&(Rw=!1,Cu===null&&q9.get("logging_enabled")===!0&&G9()),Cu){const t=mh.apply(null,e);Cu(t)}},ph=function(e){return function(...t){Bn(e,...t)}},n_=function(...e){const t="FIREBASE INTERNAL ERROR: "+mh(...e);Ml.error(t)},pr=function(...e){const t=`FIREBASE FATAL ERROR: ${mh(...e)}`;throw Ml.error(t),new Error(t)},vi=function(...e){const t="FIREBASE WARNING: "+mh(...e);Ml.warn(t)},Y9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bR=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},K9=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gl="[MIN_NAME]",go="[MAX_NAME]",ac=function(e,t){if(e===t)return 0;if(e===Gl||t===go)return-1;if(t===Gl||e===go)return 1;{const n=Nw(e),i=Nw(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},Q9=function(e,t){return e===t?0:e<t?-1:1},cu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+dn(t))},jv=function(e){if(typeof e!="object"||e===null)return dn(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=dn(t[i]),n+=":",n+=jv(e[t[i]]);return n+="}",n},TR=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let a=0;a<n;a+=t)a+t>n?i.push(e.substring(a,n)):i.push(e.substring(a,a+t));return i};function ai(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ER=function(e){ht(!bR(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let a,l,c,h,m;e===0?(l=0,c=0,a=1/e===-1/0?1:0):(a=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),i),l=h+i,c=Math.round(e*Math.pow(2,n-h)-Math.pow(2,n))):(l=0,c=Math.round(e/Math.pow(2,1-i-n))));const p=[];for(m=n;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(m=t;m;m-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(a?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let T=parseInt(y.substr(m,8),2).toString(16);T.length===1&&(T="0"+T),v=v+T}return v.toLowerCase()},X9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $9(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const Z9=new RegExp("^-?(0*)\\d{1,10}$"),J9=-2147483648,tz=2147483647,Nw=function(e){if(Z9.test(e)){const t=Number(e);if(t>=J9&&t<=tz)return t}return null},gh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw vi("Exception was thrown by user callback.",n),t},Math.floor(0))}},ez=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ru=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class nz{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,MC(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){vi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iz{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vi(t)}}class pd{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}pd.OWNER="owner";const zv="5",xR="v",wR="s",SR="r",AR="f",CR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RR="ls",NR="p",i_="ac",IR="websocket",DR="long_polling";class MR{constructor(t,n,i,a,l=!1,c="",h=!1,m=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=uo.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&uo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function sz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function kR(e,t,n){ht(typeof t=="string","typeof type must == string"),ht(typeof n=="object","typeof params must == object");let i;if(t===IR)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===DR)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);sz(e)&&(n.ns=e.namespace);const a=[];return ai(n,(l,c)=>{a.push(l+"="+c)}),i+a.join("&")}class rz{constructor(){this.counters_={}}incrementCounter(t,n=1){gr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return BP(this.counters_)}}const ey={},ny={};function Uv(e){const t=e.toString();return ey[t]||(ey[t]=new rz),ey[t]}function az(e,t){const n=e.toString();return ny[n]||(ny[n]=t()),ny[n]}class oz{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&gh(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Iw="start",lz="close",cz="pLPCommand",uz="pRTLPCB",VR="id",OR="pw",PR="ser",hz="cb",fz="seg",dz="ts",mz="d",pz="dframe",LR=1870,jR=30,gz=LR-jR,yz=25e3,_z=3e4;class Al{constructor(t,n,i,a,l,c,h){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ph(t),this.stats_=Uv(n),this.urlFn=m=>(this.appCheckToken&&(m[i_]=this.appCheckToken),kR(n,DR,m))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new oz(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_z)),K9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bv((...l)=>{const[c,h,m,p,y]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Iw)this.id=h,this.password=m;else if(c===lz)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[Iw]="t",i[PR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[hz]=this.scriptTagHolder.uniqueCallbackIdentifier),i[xR]=zv,this.transportSessionId&&(i[wR]=this.transportSessionId),this.lastSessionId&&(i[RR]=this.lastSessionId),this.applicationId&&(i[NR]=this.applicationId),this.appCheckToken&&(i[i_]=this.appCheckToken),typeof location<"u"&&location.hostname&&CR.test(location.hostname)&&(i[SR]=AR);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Al.forceAllow_=!0}static forceDisallow(){Al.forceDisallow_=!0}static isAvailable(){return Al.forceAllow_?!0:!Al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!X9()&&!W9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=dn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=yC(n),a=TR(i,gz);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[pz]="t",i[VR]=t,i[OR]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=dn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Bv{constructor(t,n,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=H9(),window[cz+this.uniqueCallbackIdentifier]=t,window[uz+this.uniqueCallbackIdentifier]=n,this.myIFrame=Bv.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Bn("frame writing exception"),h.stack&&Bn(h.stack),Bn(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Bn("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[VR]=this.myID,t[OR]=this.myPW,t[PR]=this.currentSerial;let n=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jR+i.length<=LR;){const c=this.pendingSegs.shift();i=i+"&"+fz+a+"="+c.seg+"&"+dz+a+"="+c.ts+"&"+mz+a+"="+c.d,a++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(yz)),l=()=>{clearTimeout(a),i()};this.addTag(t,l)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Bn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const vz=16384,bz=45e3;let zd=null;typeof MozWebSocket<"u"?zd=MozWebSocket:typeof WebSocket<"u"&&(zd=WebSocket);class Ji{constructor(t,n,i,a,l,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ph(this.connId),this.stats_=Uv(n),this.connURL=Ji.connectionURL_(n,c,h,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,a,l){const c={};return c[xR]=zv,typeof location<"u"&&location.hostname&&CR.test(location.hostname)&&(c[SR]=AR),n&&(c[wR]=n),i&&(c[RR]=i),a&&(c[i_]=a),l&&(c[NR]=l),kR(t,IR,c)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,uo.set("previous_websocket_failure",!0);try{let i;ZP(),this.mySock=new zd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&zd!==null&&!Ji.forceDisallow_}static previouslyFailed(){return uo.isInMemoryStorage||uo.get("previous_websocket_failure")===!0}markConnectionHealthy(){uo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ju(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ht(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=dn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=TR(n,vz);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bz))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ji.responsesRequiredToBeHealthy=2;Ji.healthyTimeout=3e4;class Xu{static get ALL_TRANSPORTS(){return[Al,Ji]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Ji&&Ji.isAvailable();let i=n&&!Ji.previouslyFailed();if(t.webSocketOnly&&(n||vi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ji];else{const a=this.transports_=[];for(const l of Xu.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Xu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xu.globalTransportInitialized_=!1;const Tz=6e4,Ez=5e3,xz=10*1024,wz=100*1024,iy="t",Dw="d",Sz="s",Mw="r",Az="e",kw="o",Vw="a",Ow="n",Pw="p",Cz="h";class Rz{constructor(t,n,i,a,l,c,h,m,p,y){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ph("c:"+this.id+":"),this.transportManager_=new Xu(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ru(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(iy in t){const n=t[iy];n===Vw?this.upgradeIfSecondaryHealthy_():n===Mw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=cu("t",t),i=cu("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ow,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=cu("t",t),i=cu("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=cu(iy,t);if(Dw in t){const i=t[Dw];if(n===Cz){const a={...i};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===Ow){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Sz?this.onConnectionShutdown_(i):n===Mw?this.onReset_(i):n===Az?n_("Server Error: "+i):n===kw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):n_("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zv!==i&&vi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ru(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Tz))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ru(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ez))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(uo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zR{put(t,n,i,a){}merge(t,n,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}class UR{constructor(t){this.allowedEvents_=t,this.listeners_={},ht(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const a=this.getInitialEvent(t);a&&n.apply(i,a)}off(t,n,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(t){ht(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Ud extends UR{static getInstance(){return new Ud}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!SC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ht(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Lw=32,jw=768;class _e{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function se(){return new _e("")}function qt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ba(e){return e.pieces_.length-e.pieceNum_}function be(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new _e(e.pieces_,t)}function BR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Nz(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function FR(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function qR(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _e(t,0)}function mn(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof _e)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new _e(n,0)}function Ht(e){return e.pieceNum_>=e.pieces_.length}function Qn(e,t){const n=qt(e),i=qt(t);if(n===null)return t;if(n===i)return Qn(be(e),be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fv(e,t){if(ba(e)!==ba(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function es(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ba(e)>ba(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Iz{constructor(t,n){this.errorPrefix_=n,this.parts_=FR(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=im(this.parts_[i]);HR(this)}}function Dz(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=im(t),HR(e)}function Mz(e){const t=e.parts_.pop();e.byteLength_-=im(t),e.parts_.length>0&&(e.byteLength_-=1)}function HR(e){if(e.byteLength_>jw)throw new Error(e.errorPrefix_+"has a key path longer than "+jw+" bytes ("+e.byteLength_+").");if(e.parts_.length>Lw)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lw+") or object contains a cycle "+ao(e))}function ao(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}class qv extends UR{static getInstance(){return new qv}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ht(t==="visible","Unknown event type: "+t),[this.visible_]}}const uu=1e3,kz=300*1e3,zw=30*1e3,Vz=1.3,Oz=3e4,Pz="server_kill",Uw=3;class lr extends zR{constructor(t,n,i,a,l,c,h,m){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=lr.nextPersistentConnectionId_++,this.log_=ph("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uu,this.maxReconnectDelay_=kz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qv.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ud.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const a=++this.requestNumber_,l={r:a,a:t,b:n};this.log_(dn(l)),ht(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const n=new J_,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(t,n,i,a){this.initConnection_();const l=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),ht(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ht(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:n,query:t,tag:i};this.listens.get(c).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},c="q";t.tag&&(l.q=n._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest(c,l,h=>{const m=h.d,p=h.s;lr.warnOnListenWarnings_(m,n),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(i,a),t.onComplete&&t.onComplete(p,m))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&gr(t,"w")){const i=Pl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();vi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||a5(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=r5(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,a=>{const l=a.s,c=a.d||"error";this.authToken_===t&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),ht(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,n)}sendUnlisten_(t,n,i,a){this.log_("Unlisten on "+t+" for "+n);const l={p:t},c="n";a&&(l.q=i,l.t=a),this.sendRequest(c,l)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,a){const l={p:n,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(t,n,i,a){this.putInternal("p",t,n,i,a)}merge(t,n,i,a){this.putInternal("m",t,n,i,a)}putInternal(t,n,i,a,l){this.initConnection_();const c={p:n,d:i};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:t,request:c,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+dn(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):n_("Unrecognized action received from server: "+dn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ht(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=uu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Oz&&(this.reconnectDelay_=uu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Vz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+lr.nextConnectionId_++,l=this.lastSessionId;let c=!1,h=null;const m=function(){h?h.close():(c=!0,i())},p=function(v){ht(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,T]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?Bn("getToken() completed but was canceled"):(Bn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=T&&T.token,h=new Rz(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,C=>{vi(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pz)},l))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&vi(v),m())}}}interrupt(t){Bn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Bn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],gx(this.interruptReasons_)&&(this.reconnectDelay_=uu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(l=>jv(l)).join("$"):i="default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,n){const i=new _e(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,n){Bn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Uw&&(this.reconnectDelay_=zw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Bn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Uw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+yR.replace(/\./g,"-")]=1,SC()?t["framework.cordova"]=1:$P()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ud.getInstance().currentlyOnline();return gx(this.interruptReasons_)&&t}}lr.nextPersistentConnectionId_=0;lr.nextConnectionId_=0;class zt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new zt(t,n)}}class _m{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new zt(Gl,t),a=new zt(Gl,n);return this.compare(i,a)!==0}minPost(){return zt.MIN}}let nd;class GR extends _m{static get __EMPTY_NODE(){return nd}static set __EMPTY_NODE(t){nd=t}compare(t,n){return ac(t.name,n.name)}isDefinedOn(t){throw Jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return zt.MIN}maxPost(){return new zt(go,nd)}makePost(t,n){return ht(typeof t=="string","KeyIndex indexValue must always be a string."),new zt(t,nd)}toString(){return".key"}}const kl=new GR;class id{constructor(t,n,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=n?i(t.key,n):1,a&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class xn{constructor(t,n,i,a,l){this.key=t,this.value=n,this.color=i??xn.RED,this.left=a??ri.EMPTY_NODE,this.right=l??ri.EMPTY_NODE}copy(t,n,i,a,l){return new xn(t??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const l=i(t,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(t,n,i),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ri.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,a;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return ri.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}xn.RED=!0;xn.BLACK=!1;class Lz{copy(t,n,i,a,l){return this}insert(t,n,i){return new xn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ri{constructor(t,n=ri.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ri(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xn.BLACK,null,null))}remove(t){return new ri(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xn.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,a=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new id(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new id(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new id(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new id(this.root_,null,this.comparator_,!0,t)}}ri.EMPTY_NODE=new Lz;function jz(e,t){return ac(e.name,t.name)}function Hv(e,t){return ac(e,t)}let s_;function zz(e){s_=e}const YR=function(e){return typeof e=="number"?"number:"+ER(e):"string:"+e},KR=function(e){if(e.isLeafNode()){const t=e.val();ht(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gr(t,".sv"),"Priority must be a string or number.")}else ht(e===s_||e.isEmpty(),"priority of unexpected type.");ht(e===s_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Bw;class Tn{static set __childrenNodeConstructor(t){Bw=t}static get __childrenNodeConstructor(){return Bw}constructor(t,n=Tn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ht(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),KR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Tn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Tn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ht(t)?this:qt(t)===".priority"?this.priorityNode_:Tn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Tn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=qt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(ht(i!==".priority"||ba(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Tn.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+YR(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=ER(this.value_):t+=this.value_,this.lazyHash_=vR(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Tn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Tn.__childrenNodeConstructor?-1:(ht(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,a=Tn.VALUE_TYPE_ORDER.indexOf(n),l=Tn.VALUE_TYPE_ORDER.indexOf(i);return ht(a>=0,"Unknown leaf type: "+n),ht(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tn.VALUE_TYPE_ORDER=["object","boolean","number","string"];let QR,XR;function Uz(e){QR=e}function Bz(e){XR=e}class Fz extends _m{compare(t,n){const i=t.node.getPriority(),a=n.node.getPriority(),l=i.compareTo(a);return l===0?ac(t.name,n.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return zt.MIN}maxPost(){return new zt(go,new Tn("[PRIORITY-POST]",XR))}makePost(t,n){const i=QR(t);return new zt(n,new Tn("[PRIORITY-POST]",i))}toString(){return".priority"}}const je=new Fz;const qz=Math.log(2);class Hz{constructor(t){const n=l=>parseInt(Math.log(l)/qz,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const a=i(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Bd=function(e,t,n,i){e.sort(t);const a=function(m,p){const y=p-m;let v,T;if(y===0)return null;if(y===1)return v=e[m],T=n?n(v):v,new xn(T,v.node,xn.BLACK,null,null);{const C=parseInt(y/2,10)+m,M=a(m,C),j=a(C+1,p);return v=e[C],T=n?n(v):v,new xn(T,v.node,xn.BLACK,M,j)}},l=function(m){let p=null,y=null,v=e.length;const T=function(M,j){const L=v-M,X=v;v-=M;const nt=a(L+1,X),W=e[L],ot=n?n(W):W;C(new xn(ot,W.node,j,null,nt))},C=function(M){p?(p.left=M,p=M):(y=M,p=M)};for(let M=0;M<m.count;++M){const j=m.nextBitIsOne(),L=Math.pow(2,m.count-(M+1));j?T(L,xn.BLACK):(T(L,xn.BLACK),T(L,xn.RED))}return y},c=new Hz(e.length),h=l(c);return new ri(i||t,h)};let sy;const pl={};class or{static get Default(){return ht(pl&&je,"ChildrenNode.ts has not been loaded"),sy=sy||new or({".priority":pl},{".priority":je}),sy}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Pl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ri?n:null}hasIndex(t){return gr(this.indexSet_,t.toString())}addIndex(t,n){ht(t!==kl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=n.getIterator(zt.Wrap);let c=l.getNext();for(;c;)a=a||t.isDefinedOn(c.node),i.push(c),c=l.getNext();let h;a?h=Bd(i,t.getCompare()):h=pl;const m=t.toString(),p={...this.indexSet_};p[m]=t;const y={...this.indexes_};return y[m]=h,new or(y,p)}addToIndexes(t,n){const i=Sd(this.indexes_,(a,l)=>{const c=Pl(this.indexSet_,l);if(ht(c,"Missing index implementation for "+l),a===pl)if(c.isDefinedOn(t.node)){const h=[],m=n.getIterator(zt.Wrap);let p=m.getNext();for(;p;)p.name!==t.name&&h.push(p),p=m.getNext();return h.push(t),Bd(h,c.getCompare())}else return pl;else{const h=n.get(t.name);let m=a;return h&&(m=m.remove(new zt(t.name,h))),m.insert(t,t.node)}});return new or(i,this.indexSet_)}removeFromIndexes(t,n){const i=Sd(this.indexes_,a=>{if(a===pl)return a;{const l=n.get(t.name);return l?a.remove(new zt(t.name,l)):a}});return new or(i,this.indexSet_)}}let hu;class Ct{static get EMPTY_NODE(){return hu||(hu=new Ct(new ri(Hv),null,or.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&KR(this.priorityNode_),this.children_.isEmpty()&&ht(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hu}updatePriority(t){return this.children_.isEmpty()?this:new Ct(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?hu:n}}getChild(t){const n=qt(t);return n===null?this:this.getImmediateChild(n).getChild(be(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ht(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new zt(t,n);let a,l;n.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,n),l=this.indexMap_.addToIndexes(i,this.children_));const c=a.isEmpty()?hu:this.priorityNode_;return new Ct(a,c,l)}}updateChild(t,n){const i=qt(t);if(i===null)return n;{ht(qt(t)!==".priority"||ba(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(be(t),n);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,a=0,l=!0;if(this.forEachChild(je,(c,h)=>{n[c]=h.val(t),i++,l&&Ct.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):l=!1}),!t&&l&&a<2*i){const c=[];for(const h in n)c[h]=n[h];return c}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+YR(this.getPriority().val())+":"),this.forEachChild(je,(n,i)=>{const a=i.hash();a!==""&&(t+=":"+n+":"+a)}),this.lazyHash_=t===""?"":vR(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new zt(t,n));return l?l.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new zt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new zt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,zt.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,zt.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===yh?-1:0}withIndex(t){if(t===kl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Ct(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===kl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(je),a=n.getIterator(je);let l=i.getNext(),c=a.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=i.getNext(),c=a.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===kl?null:this.indexMap_.get(t.toString())}}Ct.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gz extends Ct{constructor(){super(new ri(Hv),Ct.EMPTY_NODE,or.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ct.EMPTY_NODE}isEmpty(){return!1}}const yh=new Gz;Object.defineProperties(zt,{MIN:{value:new zt(Gl,Ct.EMPTY_NODE)},MAX:{value:new zt(go,yh)}});GR.__EMPTY_NODE=Ct.EMPTY_NODE;Tn.__childrenNodeConstructor=Ct;zz(yh);Bz(yh);const Yz=!0;function kn(e,t=null){if(e===null)return Ct.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ht(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Tn(n,kn(t))}if(!(e instanceof Array)&&Yz){const n=[];let i=!1;if(ai(e,(c,h)=>{if(c.substring(0,1)!=="."){const m=kn(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),n.push(new zt(c,m)))}}),n.length===0)return Ct.EMPTY_NODE;const l=Bd(n,jz,c=>c.name,Hv);if(i){const c=Bd(n,je.getCompare());return new Ct(l,kn(t),new or({".priority":c},{".priority":je}))}else return new Ct(l,kn(t),or.Default)}else{let n=Ct.EMPTY_NODE;return ai(e,(i,a)=>{if(gr(e,i)&&i.substring(0,1)!=="."){const l=kn(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(kn(t))}}Uz(kn);class Kz extends _m{constructor(t){super(),this.indexPath_=t,ht(!Ht(t)&&qt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),a=this.extractChild(n.node),l=i.compareTo(a);return l===0?ac(t.name,n.name):l}makePost(t,n){const i=kn(t),a=Ct.EMPTY_NODE.updateChild(this.indexPath_,i);return new zt(n,a)}maxPost(){const t=Ct.EMPTY_NODE.updateChild(this.indexPath_,yh);return new zt(go,t)}toString(){return FR(this.indexPath_,0).join("/")}}class Qz extends _m{compare(t,n){const i=t.node.compareTo(n.node);return i===0?ac(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return zt.MIN}maxPost(){return zt.MAX}makePost(t,n){const i=kn(t);return new zt(n,i)}toString(){return".value"}}const Xz=new Qz;function WR(e){return{type:"value",snapshotNode:e}}function Yl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Wu(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $u(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Wz(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}class Gv{constructor(t){this.index_=t}updateChild(t,n,i,a,l,c){ht(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(n);return h.getChild(a).equals(i.getChild(a))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(n)?c.trackChildChange(Wu(n,h)):ht(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Yl(n,i)):c.trackChildChange($u(n,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(je,(a,l)=>{n.hasChild(a)||i.trackChildChange(Wu(a,l))}),n.isLeafNode()||n.forEachChild(je,(a,l)=>{if(t.hasChild(a)){const c=t.getImmediateChild(a);c.equals(l)||i.trackChildChange($u(a,l,c))}else i.trackChildChange(Yl(a,l))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Ct.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zu{constructor(t){this.indexedFilter_=new Gv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zu.getStartPost_(t),this.endPost_=Zu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,a,l,c){return this.matches(new zt(n,i))||(i=Ct.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,a,l,c)}updateFullNode(t,n,i){n.isLeafNode()&&(n=Ct.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Ct.EMPTY_NODE);const l=this;return n.forEachChild(je,(c,h)=>{l.matches(new zt(c,h))||(a=a.updateImmediateChild(c,Ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}class $z{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Zu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,a,l,c){return this.rangedFilter_.matches(new zt(n,i))||(i=Ct.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,a,l,c):this.fullLimitUpdateChild_(t,n,i,l,c)}updateFullNode(t,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=Ct.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Ct.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Ct.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let c=0;for(;l.hasNext();){const h=l.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:a=a.updateImmediateChild(h.name,Ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,a,l){let c;if(this.reverse_){const v=this.index_.getCompare();c=(T,C)=>v(C,T)}else c=this.index_.getCompare();const h=t;ht(h.numChildren()===this.limit_,"");const m=new zt(n,i),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(n)){const v=h.getImmediateChild(n);let T=a.getChildAfterChild(this.index_,p,this.reverse_);for(;T!=null&&(T.name===n||h.hasChild(T.name));)T=a.getChildAfterChild(this.index_,T,this.reverse_);const C=T==null?1:c(T,m);if(y&&!i.isEmpty()&&C>=0)return l?.trackChildChange($u(n,i,v)),h.updateImmediateChild(n,i);{l?.trackChildChange(Wu(n,v));const j=h.updateImmediateChild(n,Ct.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(l?.trackChildChange(Yl(T.name,T.node)),j.updateImmediateChild(T.name,T.node)):j}}else return i.isEmpty()?t:y&&c(p,m)>=0?(l!=null&&(l.trackChildChange(Wu(p.name,p.node)),l.trackChildChange(Yl(n,i))),h.updateImmediateChild(n,i).updateImmediateChild(p.name,Ct.EMPTY_NODE)):t}}class Yv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ht(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ht(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gl}hasEnd(){return this.endSet_}getIndexEndValue(){return ht(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ht(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:go}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ht(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const t=new Yv;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Zz(e){return e.loadsAllData()?new Gv(e.getIndex()):e.hasLimit()?new $z(e):new Zu(e)}function Fw(e){const t={};if(e.isDefault())return t;let n;if(e.index_===je?n="$priority":e.index_===Xz?n="$value":e.index_===kl?n="$key":(ht(e.index_ instanceof Kz,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=dn(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=dn(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+dn(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=dn(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+dn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function qw(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==je&&(t.i=e.index_.toString()),t}class Fd extends zR{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ht(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=ph("p:rest:"),this.listens_={}}listen(t,n,i,a){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const c=Fd.getListenId_(t,i),h={};this.listens_[c]=h;const m=Fw(t._queryParams);this.restRequest_(l+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(l,v,!1,i),Pl(this.listens_,c)===h){let T;p?p===401?T="permission_denied":T="rest_error:"+p:T="ok",a(T,null)}})}unlisten(t,n){const i=Fd.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Fw(t._queryParams),i=t._path.toString(),a=new J_;return this.restRequest_(i+".json",n,(l,c)=>{let h=c;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(i,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+o5(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=ju(h.responseText)}catch{vi("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,m)}else h.status!==401&&h.status!==404&&vi("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class Jz{constructor(){this.rootNode_=Ct.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function qd(){return{value:null,children:new Map}}function $R(e,t,n){if(Ht(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=qt(t);e.children.has(i)||e.children.set(i,qd());const a=e.children.get(i);t=be(t),$R(a,t,n)}}function r_(e,t,n){e.value!==null?n(t,e.value):tU(e,(i,a)=>{const l=new _e(t.toString()+"/"+i);r_(a,l,n)})}function tU(e,t){e.children.forEach((n,i)=>{t(i,n)})}class eU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&ai(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=t,n}}const Hw=10*1e3,nU=30*1e3,iU=300*1e3;class sU{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eU(t);const i=Hw+(nU-Hw)*Math.random();Ru(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;ai(t,(a,l)=>{l>0&&gr(this.statsToReport_,a)&&(n[a]=l,i=!0)}),i&&this.server_.reportStats(n),Ru(this.reportStats_.bind(this),Math.floor(Math.random()*2*iU))}}var ns;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ns||(ns={}));function ZR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Hd{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=ns.ACK_USER_WRITE,this.source=ZR()}operationForChild(t){if(Ht(this.path)){if(this.affectedTree.value!=null)return ht(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(t));return new Hd(se(),n,this.revert)}}else return ht(qt(this.path)===t,"operationForChild called for unrelated child."),new Hd(be(this.path),this.affectedTree,this.revert)}}class Ju{constructor(t,n){this.source=t,this.path=n,this.type=ns.LISTEN_COMPLETE}operationForChild(t){return Ht(this.path)?new Ju(this.source,se()):new Ju(this.source,be(this.path))}}class yo{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=ns.OVERWRITE}operationForChild(t){return Ht(this.path)?new yo(this.source,se(),this.snap.getImmediateChild(t)):new yo(this.source,be(this.path),this.snap)}}class th{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=ns.MERGE}operationForChild(t){if(Ht(this.path)){const n=this.children.subtree(new _e(t));return n.isEmpty()?null:n.value?new yo(this.source,se(),n.value):new th(this.source,se(),n)}else return ht(qt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new th(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ta{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ht(t))return this.isFullyInitialized()&&!this.filtered_;const n=qt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class rU{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function aU(e,t,n,i){const a=[],l=[];return t.forEach(c=>{c.type==="child_changed"&&e.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(Wz(c.childName,c.snapshotNode))}),fu(e,a,"child_removed",t,i,n),fu(e,a,"child_added",t,i,n),fu(e,a,"child_moved",l,i,n),fu(e,a,"child_changed",t,i,n),fu(e,a,"value",t,i,n),a}function fu(e,t,n,i,a,l){const c=i.filter(h=>h.type===n);c.sort((h,m)=>lU(e,h,m)),c.forEach(h=>{const m=oU(e,h,l);a.forEach(p=>{p.respondsTo(h.type)&&t.push(p.createEvent(m,e.query_))})})}function oU(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function lU(e,t,n){if(t.childName==null||n.childName==null)throw Jl("Should only compare child_ events.");const i=new zt(t.childName,t.snapshotNode),a=new zt(n.childName,n.snapshotNode);return e.index_.compare(i,a)}function vm(e,t){return{eventCache:e,serverCache:t}}function Nu(e,t,n,i){return vm(new Ta(t,n,i),e.serverCache)}function JR(e,t,n,i){return vm(e.eventCache,new Ta(t,n,i))}function Gd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function _o(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let ry;const cU=()=>(ry||(ry=new ri(Q9)),ry);class Se{static fromObject(t){let n=new Se(null);return ai(t,(i,a)=>{n=n.set(new _e(i),a)}),n}constructor(t,n=cU()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(Ht(t))return null;{const i=qt(t),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(be(t),n);return l!=null?{path:mn(new _e(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ht(t))return this;{const n=qt(t),i=this.children.get(n);return i!==null?i.subtree(be(t)):new Se(null)}}set(t,n){if(Ht(t))return new Se(n,this.children);{const i=qt(t),l=(this.children.get(i)||new Se(null)).set(be(t),n),c=this.children.insert(i,l);return new Se(this.value,c)}}remove(t){if(Ht(t))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=qt(t),i=this.children.get(n);if(i){const a=i.remove(be(t));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new Se(null):new Se(this.value,l)}else return this}}get(t){if(Ht(t))return this.value;{const n=qt(t),i=this.children.get(n);return i?i.get(be(t)):null}}setTree(t,n){if(Ht(t))return n;{const i=qt(t),l=(this.children.get(i)||new Se(null)).setTree(be(t),n);let c;return l.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,l),new Se(this.value,c)}}fold(t){return this.fold_(se(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(mn(t,a),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,se(),n)}findOnPath_(t,n,i){const a=this.value?i(n,this.value):!1;if(a)return a;if(Ht(t))return null;{const l=qt(t),c=this.children.get(l);return c?c.findOnPath_(be(t),mn(n,l),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,se(),n)}foreachOnPath_(t,n,i){if(Ht(t))return this;{this.value&&i(n,this.value);const a=qt(t),l=this.children.get(a);return l?l.foreachOnPath_(be(t),mn(n,a),i):new Se(null)}}foreach(t){this.foreach_(se(),t)}foreach_(t,n){this.children.inorderTraversal((i,a)=>{a.foreach_(mn(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}class is{constructor(t){this.writeTree_=t}static empty(){return new is(new Se(null))}}function Iu(e,t,n){if(Ht(t))return new is(new Se(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const a=i.path;let l=i.value;const c=Qn(a,t);return l=l.updateChild(c,n),new is(e.writeTree_.set(a,l))}else{const a=new Se(n),l=e.writeTree_.setTree(t,a);return new is(l)}}}function Gw(e,t,n){let i=e;return ai(n,(a,l)=>{i=Iu(i,mn(t,a),l)}),i}function Yw(e,t){if(Ht(t))return is.empty();{const n=e.writeTree_.setTree(t,new Se(null));return new is(n)}}function a_(e,t){return xo(e,t)!=null}function xo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Qn(n.path,t)):null}function Kw(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(i,a)=>{t.push(new zt(i,a))}):e.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&t.push(new zt(i,a.value))}),t}function ua(e,t){if(Ht(t))return e;{const n=xo(e,t);return n!=null?new is(new Se(n)):new is(e.writeTree_.subtree(t))}}function o_(e){return e.writeTree_.isEmpty()}function Kl(e,t){return tN(se(),e.writeTree_,t)}function tN(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((a,l)=>{a===".priority"?(ht(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=tN(mn(e,a),l,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(mn(e,".priority"),i)),n}}function bm(e,t){return sN(t,e)}function uU(e,t,n,i,a){ht(i>e.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:a}),a&&(e.visibleWrites=Iu(e.visibleWrites,t,n)),e.lastWriteId=i}function hU(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function fU(e,t){const n=e.allWrites.findIndex(h=>h.writeId===t);ht(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let a=i.visible,l=!1,c=e.allWrites.length-1;for(;a&&c>=0;){const h=e.allWrites[c];h.visible&&(c>=n&&dU(h,i.path)?a=!1:es(i.path,h.path)&&(l=!0)),c--}if(a){if(l)return mU(e),!0;if(i.snap)e.visibleWrites=Yw(e.visibleWrites,i.path);else{const h=i.children;ai(h,m=>{e.visibleWrites=Yw(e.visibleWrites,mn(i.path,m))})}return!0}else return!1}function dU(e,t){if(e.snap)return es(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&es(mn(e.path,n),t))return!0;return!1}function mU(e){e.visibleWrites=eN(e.allWrites,pU,se()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function pU(e){return e.visible}function eN(e,t,n){let i=is.empty();for(let a=0;a<e.length;++a){const l=e[a];if(t(l)){const c=l.path;let h;if(l.snap)es(n,c)?(h=Qn(n,c),i=Iu(i,h,l.snap)):es(c,n)&&(h=Qn(c,n),i=Iu(i,se(),l.snap.getChild(h)));else if(l.children){if(es(n,c))h=Qn(n,c),i=Gw(i,h,l.children);else if(es(c,n))if(h=Qn(c,n),Ht(h))i=Gw(i,se(),l.children);else{const m=Pl(l.children,qt(h));if(m){const p=m.getChild(be(h));i=Iu(i,se(),p)}}}else throw Jl("WriteRecord should have .snap or .children")}}return i}function nN(e,t,n,i,a){if(!i&&!a){const l=xo(e.visibleWrites,t);if(l!=null)return l;{const c=ua(e.visibleWrites,t);if(o_(c))return n;if(n==null&&!a_(c,se()))return null;{const h=n||Ct.EMPTY_NODE;return Kl(c,h)}}}else{const l=ua(e.visibleWrites,t);if(!a&&o_(l))return n;if(!a&&n==null&&!a_(l,se()))return null;{const c=function(p){return(p.visible||a)&&(!i||!~i.indexOf(p.writeId))&&(es(p.path,t)||es(t,p.path))},h=eN(e.allWrites,c,t),m=n||Ct.EMPTY_NODE;return Kl(h,m)}}}function gU(e,t,n){let i=Ct.EMPTY_NODE;const a=xo(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(je,(l,c)=>{i=i.updateImmediateChild(l,c)}),i;if(n){const l=ua(e.visibleWrites,t);return n.forEachChild(je,(c,h)=>{const m=Kl(ua(l,new _e(c)),h);i=i.updateImmediateChild(c,m)}),Kw(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const l=ua(e.visibleWrites,t);return Kw(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function yU(e,t,n,i,a){ht(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=mn(t,n);if(a_(e.visibleWrites,l))return null;{const c=ua(e.visibleWrites,l);return o_(c)?a.getChild(n):Kl(c,a.getChild(n))}}function _U(e,t,n,i){const a=mn(t,n),l=xo(e.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(n)){const c=ua(e.visibleWrites,a);return Kl(c,i.getNode().getImmediateChild(n))}else return null}function vU(e,t){return xo(e.visibleWrites,t)}function bU(e,t,n,i,a,l,c){let h;const m=ua(e.visibleWrites,t),p=xo(m,se());if(p!=null)h=p;else if(n!=null)h=Kl(m,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=c.getCompare(),T=l?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let C=T.getNext();for(;C&&y.length<a;)v(C,i)!==0&&y.push(C),C=T.getNext();return y}else return[]}function TU(){return{visibleWrites:is.empty(),allWrites:[],lastWriteId:-1}}function Yd(e,t,n,i){return nN(e.writeTree,e.treePath,t,n,i)}function Xv(e,t){return gU(e.writeTree,e.treePath,t)}function Qw(e,t,n,i){return yU(e.writeTree,e.treePath,t,n,i)}function Kd(e,t){return vU(e.writeTree,mn(e.treePath,t))}function EU(e,t,n,i,a,l){return bU(e.writeTree,e.treePath,t,n,i,a,l)}function Wv(e,t,n){return _U(e.writeTree,e.treePath,t,n)}function iN(e,t){return sN(mn(e.treePath,t),e.writeTree)}function sN(e,t){return{treePath:e,writeTree:t}}class xU{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;ht(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ht(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,$u(i,t.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Wu(i,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Yl(i,t.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,$u(i,t.snapshotNode,a.oldSnap));else throw Jl("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}class wU{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const rN=new wU;class $v{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new Ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wv(this.writes_,t,i)}}getChildAfterChild(t,n,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_o(this.viewCache_),l=EU(this.writes_,a,n,1,i,t);return l.length===0?null:l[0]}}function SU(e){return{filter:e}}function AU(e,t){ht(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ht(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function CU(e,t,n,i,a){const l=new xU;let c,h;if(n.type===ns.OVERWRITE){const p=n;p.source.fromUser?c=l_(e,t,p.path,p.snap,i,a,l):(ht(p.source.fromServer,"Unknown source."),h=p.source.tagged||t.serverCache.isFiltered()&&!Ht(p.path),c=Qd(e,t,p.path,p.snap,i,a,h,l))}else if(n.type===ns.MERGE){const p=n;p.source.fromUser?c=NU(e,t,p.path,p.children,i,a,l):(ht(p.source.fromServer,"Unknown source."),h=p.source.tagged||t.serverCache.isFiltered(),c=c_(e,t,p.path,p.children,i,a,h,l))}else if(n.type===ns.ACK_USER_WRITE){const p=n;p.revert?c=MU(e,t,p.path,i,a,l):c=IU(e,t,p.path,p.affectedTree,i,a,l)}else if(n.type===ns.LISTEN_COMPLETE)c=DU(e,t,n.path,i,l);else throw Jl("Unknown operation type: "+n.type);const m=l.getChanges();return RU(t,c,m),{viewCache:c,changes:m}}function RU(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Gd(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(WR(Gd(t)))}}function aN(e,t,n,i,a,l){const c=t.eventCache;if(Kd(i,n)!=null)return t;{let h,m;if(Ht(n))if(ht(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=_o(t),y=p instanceof Ct?p:Ct.EMPTY_NODE,v=Xv(i,y);h=e.filter.updateFullNode(t.eventCache.getNode(),v,l)}else{const p=Yd(i,_o(t));h=e.filter.updateFullNode(t.eventCache.getNode(),p,l)}else{const p=qt(n);if(p===".priority"){ht(ba(n)===1,"Can't have a priority with additional path components");const y=c.getNode();m=t.serverCache.getNode();const v=Qw(i,n,y,m);v!=null?h=e.filter.updatePriority(y,v):h=c.getNode()}else{const y=be(n);let v;if(c.isCompleteForChild(p)){m=t.serverCache.getNode();const T=Qw(i,n,c.getNode(),m);T!=null?v=c.getNode().getImmediateChild(p).updateChild(y,T):v=c.getNode().getImmediateChild(p)}else v=Wv(i,p,t.serverCache);v!=null?h=e.filter.updateChild(c.getNode(),p,v,y,a,l):h=c.getNode()}}return Nu(t,h,c.isFullyInitialized()||Ht(n),e.filter.filtersNodes())}}function Qd(e,t,n,i,a,l,c,h){const m=t.serverCache;let p;const y=c?e.filter:e.filter.getIndexedFilter();if(Ht(n))p=y.updateFullNode(m.getNode(),i,null);else if(y.filtersNodes()&&!m.isFiltered()){const C=m.getNode().updateChild(n,i);p=y.updateFullNode(m.getNode(),C,null)}else{const C=qt(n);if(!m.isCompleteForPath(n)&&ba(n)>1)return t;const M=be(n),L=m.getNode().getImmediateChild(C).updateChild(M,i);C===".priority"?p=y.updatePriority(m.getNode(),L):p=y.updateChild(m.getNode(),C,L,M,rN,null)}const v=JR(t,p,m.isFullyInitialized()||Ht(n),y.filtersNodes()),T=new $v(a,v,l);return aN(e,v,n,a,T,h)}function l_(e,t,n,i,a,l,c){const h=t.eventCache;let m,p;const y=new $v(a,t,l);if(Ht(n))p=e.filter.updateFullNode(t.eventCache.getNode(),i,c),m=Nu(t,p,!0,e.filter.filtersNodes());else{const v=qt(n);if(v===".priority")p=e.filter.updatePriority(t.eventCache.getNode(),i),m=Nu(t,p,h.isFullyInitialized(),h.isFiltered());else{const T=be(n),C=h.getNode().getImmediateChild(v);let M;if(Ht(T))M=i;else{const j=y.getCompleteChild(v);j!=null?BR(T)===".priority"&&j.getChild(qR(T)).isEmpty()?M=j:M=j.updateChild(T,i):M=Ct.EMPTY_NODE}if(C.equals(M))m=t;else{const j=e.filter.updateChild(h.getNode(),v,M,T,y,c);m=Nu(t,j,h.isFullyInitialized(),e.filter.filtersNodes())}}}return m}function Xw(e,t){return e.eventCache.isCompleteForChild(t)}function NU(e,t,n,i,a,l,c){let h=t;return i.foreach((m,p)=>{const y=mn(n,m);Xw(t,qt(y))&&(h=l_(e,h,y,p,a,l,c))}),i.foreach((m,p)=>{const y=mn(n,m);Xw(t,qt(y))||(h=l_(e,h,y,p,a,l,c))}),h}function Ww(e,t,n){return n.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function c_(e,t,n,i,a,l,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,p;Ht(n)?p=i:p=new Se(null).setTree(n,i);const y=t.serverCache.getNode();return p.children.inorderTraversal((v,T)=>{if(y.hasChild(v)){const C=t.serverCache.getNode().getImmediateChild(v),M=Ww(e,C,T);m=Qd(e,m,new _e(v),M,a,l,c,h)}}),p.children.inorderTraversal((v,T)=>{const C=!t.serverCache.isCompleteForChild(v)&&T.value===null;if(!y.hasChild(v)&&!C){const M=t.serverCache.getNode().getImmediateChild(v),j=Ww(e,M,T);m=Qd(e,m,new _e(v),j,a,l,c,h)}}),m}function IU(e,t,n,i,a,l,c){if(Kd(a,n)!=null)return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(i.value!=null){if(Ht(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return Qd(e,t,n,m.getNode().getChild(n),a,l,h,c);if(Ht(n)){let p=new Se(null);return m.getNode().forEachChild(kl,(y,v)=>{p=p.set(new _e(y),v)}),c_(e,t,n,p,a,l,h,c)}else return t}else{let p=new Se(null);return i.foreach((y,v)=>{const T=mn(n,y);m.isCompleteForPath(T)&&(p=p.set(y,m.getNode().getChild(T)))}),c_(e,t,n,p,a,l,h,c)}}function DU(e,t,n,i,a){const l=t.serverCache,c=JR(t,l.getNode(),l.isFullyInitialized()||Ht(n),l.isFiltered());return aN(e,c,n,i,rN,a)}function MU(e,t,n,i,a,l){let c;if(Kd(i,n)!=null)return t;{const h=new $v(i,t,a),m=t.eventCache.getNode();let p;if(Ht(n)||qt(n)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Yd(i,_o(t));else{const v=t.serverCache.getNode();ht(v instanceof Ct,"serverChildren would be complete if leaf node"),y=Xv(i,v)}y=y,p=e.filter.updateFullNode(m,y,l)}else{const y=qt(n);let v=Wv(i,y,t.serverCache);v==null&&t.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=e.filter.updateChild(m,y,v,be(n),h,l):t.eventCache.getNode().hasChild(y)?p=e.filter.updateChild(m,y,Ct.EMPTY_NODE,be(n),h,l):p=m,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Yd(i,_o(t)),c.isLeafNode()&&(p=e.filter.updateFullNode(p,c,l)))}return c=t.serverCache.isFullyInitialized()||Kd(i,se())!=null,Nu(t,p,c,e.filter.filtersNodes())}}class kU{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Gv(i.getIndex()),l=Zz(i);this.processor_=SU(l);const c=n.serverCache,h=n.eventCache,m=a.updateFullNode(Ct.EMPTY_NODE,c.getNode(),null),p=l.updateFullNode(Ct.EMPTY_NODE,h.getNode(),null),y=new Ta(m,c.isFullyInitialized(),a.filtersNodes()),v=new Ta(p,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=vm(v,y),this.eventGenerator_=new rU(this.query_)}get query(){return this.query_}}function VU(e){return e.viewCache_.serverCache.getNode()}function OU(e){return Gd(e.viewCache_)}function PU(e,t){const n=_o(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ht(t)&&!n.getImmediateChild(qt(t)).isEmpty())?n.getChild(t):null}function $w(e){return e.eventRegistrations_.length===0}function LU(e,t){e.eventRegistrations_.push(t)}function Zw(e,t,n){const i=[];if(n){ht(t==null,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(n,a);c&&i.push(c)})}if(t){let a=[];for(let l=0;l<e.eventRegistrations_.length;++l){const c=e.eventRegistrations_[l];if(!c.matches(t))a.push(c);else if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(l+1));break}}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function Jw(e,t,n,i){t.type===ns.MERGE&&t.source.queryId!==null&&(ht(_o(e.viewCache_),"We should always have a full cache before handling merges"),ht(Gd(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,l=CU(e.processor_,a,t,n,i);return AU(e.processor_,l.viewCache),ht(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=l.viewCache,oN(e,l.changes,l.viewCache.eventCache.getNode(),null)}function jU(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(l,c)=>{i.push(Yl(l,c))}),n.isFullyInitialized()&&i.push(WR(n.getNode())),oN(e,i,n.getNode(),t)}function oN(e,t,n,i){const a=i?[i]:e.eventRegistrations_;return aU(e.eventGenerator_,t,n,a)}let Xd;class lN{constructor(){this.views=new Map}}function zU(e){ht(!Xd,"__referenceConstructor has already been defined"),Xd=e}function UU(){return ht(Xd,"Reference.ts has not been loaded"),Xd}function BU(e){return e.views.size===0}function Zv(e,t,n,i){const a=t.source.queryId;if(a!==null){const l=e.views.get(a);return ht(l!=null,"SyncTree gave us an op for an invalid query."),Jw(l,t,n,i)}else{let l=[];for(const c of e.views.values())l=l.concat(Jw(c,t,n,i));return l}}function cN(e,t,n,i,a){const l=t._queryIdentifier,c=e.views.get(l);if(!c){let h=Yd(n,a?i:null),m=!1;h?m=!0:i instanceof Ct?(h=Xv(n,i),m=!1):(h=Ct.EMPTY_NODE,m=!1);const p=vm(new Ta(h,m,!1),new Ta(i,a,!1));return new kU(t,p)}return c}function FU(e,t,n,i,a,l){const c=cN(e,t,i,a,l);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),LU(c,n),jU(c,n)}function qU(e,t,n,i){const a=t._queryIdentifier,l=[];let c=[];const h=Ea(e);if(a==="default")for(const[m,p]of e.views.entries())c=c.concat(Zw(p,n,i)),$w(p)&&(e.views.delete(m),p.query._queryParams.loadsAllData()||l.push(p.query));else{const m=e.views.get(a);m&&(c=c.concat(Zw(m,n,i)),$w(m)&&(e.views.delete(a),m.query._queryParams.loadsAllData()||l.push(m.query)))}return h&&!Ea(e)&&l.push(new(UU())(t._repo,t._path)),{removed:l,events:c}}function uN(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ha(e,t){let n=null;for(const i of e.views.values())n=n||PU(i,t);return n}function hN(e,t){if(t._queryParams.loadsAllData())return Tm(e);{const i=t._queryIdentifier;return e.views.get(i)}}function fN(e,t){return hN(e,t)!=null}function Ea(e){return Tm(e)!=null}function Tm(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Wd;function HU(e){ht(!Wd,"__referenceConstructor has already been defined"),Wd=e}function GU(){return ht(Wd,"Reference.ts has not been loaded"),Wd}let YU=1;class tS{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Se(null),this.pendingWriteTree_=TU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function KU(e,t,n,i,a){return uU(e.pendingWriteTree_,t,n,i,a),a?vh(e,new yo(ZR(),t,n)):[]}function Cl(e,t,n=!1){const i=hU(e.pendingWriteTree_,t);if(fU(e.pendingWriteTree_,t)){let l=new Se(null);return i.snap!=null?l=l.set(se(),!0):ai(i.children,c=>{l=l.set(new _e(c),!0)}),vh(e,new Hd(i.path,l,n))}else return[]}function _h(e,t,n){return vh(e,new yo(Kv(),t,n))}function QU(e,t,n){const i=Se.fromObject(n);return vh(e,new th(Kv(),t,i))}function XU(e,t){return vh(e,new Ju(Kv(),t))}function WU(e,t,n){const i=Jv(e,n);if(i){const a=t0(i),l=a.path,c=a.queryId,h=Qn(l,t),m=new Ju(Qv(c),h);return e0(e,l,m)}else return[]}function $d(e,t,n,i,a=!1){const l=t._path,c=e.syncPointTree_.get(l);let h=[];if(c&&(t._queryIdentifier==="default"||fN(c,t))){const m=qU(c,t,n,i);BU(c)&&(e.syncPointTree_=e.syncPointTree_.remove(l));const p=m.removed;if(h=m.events,!a){const y=p.findIndex(T=>T._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(l,(T,C)=>Ea(C));if(y&&!v){const T=e.syncPointTree_.subtree(l);if(!T.isEmpty()){const C=JU(T);for(let M=0;M<C.length;++M){const j=C[M],L=j.query,X=yN(e,j);e.listenProvider_.startListening(Du(L),eh(e,L),X.hashFn,X.onComplete)}}}!v&&p.length>0&&!i&&(y?e.listenProvider_.stopListening(Du(t),null):p.forEach(T=>{const C=e.queryToTagMap.get(Em(T));e.listenProvider_.stopListening(Du(T),C)}))}t8(e,p)}return h}function dN(e,t,n,i){const a=Jv(e,i);if(a!=null){const l=t0(a),c=l.path,h=l.queryId,m=Qn(c,t),p=new yo(Qv(h),m,n);return e0(e,c,p)}else return[]}function $U(e,t,n,i){const a=Jv(e,i);if(a){const l=t0(a),c=l.path,h=l.queryId,m=Qn(c,t),p=Se.fromObject(n),y=new th(Qv(h),m,p);return e0(e,c,y)}else return[]}function u_(e,t,n,i=!1){const a=t._path;let l=null,c=!1;e.syncPointTree_.foreachOnPath(a,(T,C)=>{const M=Qn(T,a);l=l||ha(C,M),c=c||Ea(C)});let h=e.syncPointTree_.get(a);h?(c=c||Ea(h),l=l||ha(h,se())):(h=new lN,e.syncPointTree_=e.syncPointTree_.set(a,h));let m;l!=null?m=!0:(m=!1,l=Ct.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((C,M)=>{const j=ha(M,se());j&&(l=l.updateImmediateChild(C,j))}));const p=fN(h,t);if(!p&&!t._queryParams.loadsAllData()){const T=Em(t);ht(!e.queryToTagMap.has(T),"View does not exist, but we have a tag");const C=e8();e.queryToTagMap.set(T,C),e.tagToQueryMap.set(C,T)}const y=bm(e.pendingWriteTree_,a);let v=FU(h,t,n,y,l,m);if(!p&&!c&&!i){const T=hN(h,t);v=v.concat(n8(e,t,T))}return v}function mN(e,t,n){const a=e.pendingWriteTree_,l=e.syncPointTree_.findOnPath(t,(c,h)=>{const m=Qn(c,t),p=ha(h,m);if(p)return p});return nN(a,t,l,n,!0)}function ZU(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(p,y)=>{const v=Qn(p,n);i=i||ha(y,v)});let a=e.syncPointTree_.get(n);a?i=i||ha(a,se()):(a=new lN,e.syncPointTree_=e.syncPointTree_.set(n,a));const l=i!=null,c=l?new Ta(i,!0,!1):null,h=bm(e.pendingWriteTree_,t._path),m=cN(a,t,h,l?c.getNode():Ct.EMPTY_NODE,l);return OU(m)}function vh(e,t){return pN(t,e.syncPointTree_,null,bm(e.pendingWriteTree_,se()))}function pN(e,t,n,i){if(Ht(e.path))return gN(e,t,n,i);{const a=t.get(se());n==null&&a!=null&&(n=ha(a,se()));let l=[];const c=qt(e.path),h=e.operationForChild(c),m=t.children.get(c);if(m&&h){const p=n?n.getImmediateChild(c):null,y=iN(i,c);l=l.concat(pN(h,m,p,y))}return a&&(l=l.concat(Zv(a,e,i,n))),l}}function gN(e,t,n,i){const a=t.get(se());n==null&&a!=null&&(n=ha(a,se()));let l=[];return t.children.inorderTraversal((c,h)=>{const m=n?n.getImmediateChild(c):null,p=iN(i,c),y=e.operationForChild(c);y&&(l=l.concat(gN(y,h,m,p)))}),a&&(l=l.concat(Zv(a,e,i,n))),l}function yN(e,t){const n=t.query,i=eh(e,n);return{hashFn:()=>(VU(t)||Ct.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?WU(e,n._path,i):XU(e,n._path);{const l=$9(a,n);return $d(e,n,null,l)}}}}function eh(e,t){const n=Em(t);return e.queryToTagMap.get(n)}function Em(e){return e._path.toString()+"$"+e._queryIdentifier}function Jv(e,t){return e.tagToQueryMap.get(t)}function t0(e){const t=e.indexOf("$");return ht(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _e(e.substr(0,t))}}function e0(e,t,n){const i=e.syncPointTree_.get(t);ht(i,"Missing sync point for query tag that we're tracking");const a=bm(e.pendingWriteTree_,t);return Zv(i,n,a,null)}function JU(e){return e.fold((t,n,i)=>{if(n&&Ea(n))return[Tm(n)];{let a=[];return n&&(a=uN(n)),ai(i,(l,c)=>{a=a.concat(c)}),a}})}function Du(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(GU())(e._repo,e._path):e}function t8(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const a=Em(i),l=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(l)}}}function e8(){return YU++}function n8(e,t,n){const i=t._path,a=eh(e,t),l=yN(e,n),c=e.listenProvider_.startListening(Du(t),a,l.hashFn,l.onComplete),h=e.syncPointTree_.subtree(i);if(a)ht(!Ea(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,v)=>{if(!Ht(p)&&y&&Ea(y))return[Tm(y).query];{let T=[];return y&&(T=T.concat(uN(y).map(C=>C.query))),ai(v,(C,M)=>{T=T.concat(M)}),T}});for(let p=0;p<m.length;++p){const y=m[p];e.listenProvider_.stopListening(Du(y),eh(e,y))}}return c}class n0{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new n0(n)}node(){return this.node_}}class i0{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=mn(this.path_,t);return new i0(this.syncTree_,n)}node(){return mN(this.syncTree_,this.path_)}}const i8=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},eS=function(e,t,n){if(!e||typeof e!="object")return e;if(ht(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return s8(e[".sv"],t,n);if(typeof e[".sv"]=="object")return r8(e[".sv"],t);ht(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},s8=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ht(!1,"Unexpected server value: "+e)}},r8=function(e,t,n){e.hasOwnProperty("increment")||ht(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&ht(!1,"Unexpected increment value: "+i);const a=t.node();if(ht(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const c=a.getValue();return typeof c!="number"?i:c+i},a8=function(e,t,n,i){return s0(t,new i0(n,e),i)},o8=function(e,t,n){return s0(e,new n0(t),n)};function s0(e,t,n){const i=e.getPriority().val(),a=eS(i,t.getImmediateChild(".priority"),n);let l;if(e.isLeafNode()){const c=e,h=eS(c.getValue(),t,n);return h!==c.getValue()||a!==c.getPriority().val()?new Tn(h,kn(a)):e}else{const c=e;return l=c,a!==c.getPriority().val()&&(l=l.updatePriority(new Tn(a))),c.forEachChild(je,(h,m)=>{const p=s0(m,t.getImmediateChild(h),n);p!==m&&(l=l.updateImmediateChild(h,p))}),l}}class r0{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function a0(e,t){let n=t instanceof _e?t:new _e(t),i=e,a=qt(n);for(;a!==null;){const l=Pl(i.node.children,a)||{children:{},childCount:0};i=new r0(a,i,l),n=be(n),a=qt(n)}return i}function oc(e){return e.node.value}function _N(e,t){e.node.value=t,h_(e)}function vN(e){return e.node.childCount>0}function l8(e){return oc(e)===void 0&&!vN(e)}function xm(e,t){ai(e.node.children,(n,i)=>{t(new r0(n,e,i))})}function bN(e,t,n,i){n&&t(e),xm(e,a=>{bN(a,t,!0)})}function c8(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function bh(e){return new _e(e.parent===null?e.name:bh(e.parent)+"/"+e.name)}function h_(e){e.parent!==null&&u8(e.parent,e.name,e)}function u8(e,t,n){const i=l8(n),a=gr(e.node.children,t);i&&a?(delete e.node.children[t],e.node.childCount--,h_(e)):!i&&!a&&(e.node.children[t]=n.node,e.node.childCount++,h_(e))}const h8=/[\[\].#$\/\u0000-\u001F\u007F]/,f8=/[\[\].#$\u0000-\u001F\u007F]/,ay=10*1024*1024,TN=function(e){return typeof e=="string"&&e.length!==0&&!h8.test(e)},EN=function(e){return typeof e=="string"&&e.length!==0&&!f8.test(e)},d8=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),EN(e)},xN=function(e,t,n){const i=n instanceof _e?new Iz(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ao(i));if(typeof t=="function")throw new Error(e+"contains a function "+ao(i)+" with contents = "+t.toString());if(bR(t))throw new Error(e+"contains "+t.toString()+" "+ao(i));if(typeof t=="string"&&t.length>ay/3&&im(t)>ay)throw new Error(e+"contains a string greater than "+ay+" utf8 bytes "+ao(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,l=!1;if(ai(t,(c,h)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!TN(c)))throw new Error(e+" contains an invalid key ("+c+") "+ao(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Dz(i,c),xN(e,h,i),Mz(i)}),a&&l)throw new Error(e+' contains ".value" child '+ao(i)+" in addition to actual children.")}},wN=function(e,t,n,i){if(!EN(n))throw new Error(RC(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m8=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wN(e,t,n)},p8=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!TN(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!d8(n))throw new Error(RC(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class g8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SN(e,t){let n=null;for(let i=0;i<t.length;i++){const a=t[i],l=a.getPath();n!==null&&!Fv(l,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&e.eventLists_.push(n)}function AN(e,t,n){SN(e,n),CN(e,i=>Fv(i,t))}function Aa(e,t,n){SN(e,n),CN(e,i=>es(i,t)||es(t,i))}function CN(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const a=e.eventLists_[i];if(a){const l=a.path;t(l)?(y8(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function y8(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Cu&&Bn("event: "+n.toString()),gh(i)}}}const _8="repo_interrupt",v8=25;class b8{constructor(t,n,i,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qd(),this.transactionQueueTree_=new r0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T8(e,t,n){if(e.stats_=Uv(e.repoInfo_),e.forceRestClient_||ez())e.server_=new Fd(e.repoInfo_,(i,a,l,c)=>{nS(e,i,a,l,c)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>iS(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new lr(e.repoInfo_,t,(i,a,l,c)=>{nS(e,i,a,l,c)},i=>{iS(e,i)},i=>{x8(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=az(e.repoInfo_,()=>new sU(e.stats_,e.server_)),e.infoData_=new Jz,e.infoSyncTree_=new tS({startListening:(i,a,l,c)=>{let h=[];const m=e.infoData_.getNode(i._path);return m.isEmpty()||(h=_h(e.infoSyncTree_,i._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),o0(e,"connected",!1),e.serverSyncTree_=new tS({startListening:(i,a,l,c)=>(e.server_.listen(i,l,a,(h,m)=>{const p=c(h,m);Aa(e.eventQueue_,i._path,p)}),[]),stopListening:(i,a)=>{e.server_.unlisten(i,a)}})}function E8(e){const n=e.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function RN(e){return i8({timestamp:E8(e)})}function nS(e,t,n,i,a){e.dataUpdateCount++;const l=new _e(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let c=[];if(a)if(i){const m=Sd(n,p=>kn(p));c=$U(e.serverSyncTree_,l,m,a)}else{const m=kn(n);c=dN(e.serverSyncTree_,l,m,a)}else if(i){const m=Sd(n,p=>kn(p));c=QU(e.serverSyncTree_,l,m)}else{const m=kn(n);c=_h(e.serverSyncTree_,l,m)}let h=l;c.length>0&&(h=u0(e,l)),Aa(e.eventQueue_,h,c)}function iS(e,t){o0(e,"connected",t),t===!1&&A8(e)}function x8(e,t){ai(t,(n,i)=>{o0(e,n,i)})}function o0(e,t,n){const i=new _e("/.info/"+t),a=kn(n);e.infoData_.updateSnapshot(i,a);const l=_h(e.infoSyncTree_,i,a);Aa(e.eventQueue_,i,l)}function w8(e){return e.nextWriteId_++}function S8(e,t,n){const i=ZU(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(a=>{const l=kn(a).withIndex(t._queryParams.getIndex());u_(e.serverSyncTree_,t,n,!0);let c;if(t._queryParams.loadsAllData())c=_h(e.serverSyncTree_,t._path,l);else{const h=eh(e.serverSyncTree_,t);c=dN(e.serverSyncTree_,t._path,l,h)}return Aa(e.eventQueue_,t._path,c),$d(e.serverSyncTree_,t,n,null,!0),l},a=>(l0(e,"get for query "+dn(t)+" failed: "+a),Promise.reject(new Error(a))))}function A8(e){l0(e,"onDisconnectEvents");const t=RN(e),n=qd();r_(e.onDisconnect_,se(),(a,l)=>{const c=a8(a,l,e.serverSyncTree_,t);$R(n,a,c)});let i=[];r_(n,se(),(a,l)=>{i=i.concat(_h(e.serverSyncTree_,a,l));const c=M8(e,a);u0(e,c)}),e.onDisconnect_=qd(),Aa(e.eventQueue_,se(),i)}function C8(e,t,n){let i;qt(t._path)===".info"?i=u_(e.infoSyncTree_,t,n):i=u_(e.serverSyncTree_,t,n),AN(e.eventQueue_,t._path,i)}function R8(e,t,n){let i;qt(t._path)===".info"?i=$d(e.infoSyncTree_,t,n):i=$d(e.serverSyncTree_,t,n),AN(e.eventQueue_,t._path,i)}function N8(e){e.persistentConnection_&&e.persistentConnection_.interrupt(_8)}function l0(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Bn(n,...t)}function NN(e,t,n){return mN(e.serverSyncTree_,t,n)||Ct.EMPTY_NODE}function c0(e,t=e.transactionQueueTree_){if(t||wm(e,t),oc(t)){const n=DN(e,t);ht(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&I8(e,bh(t),n)}else vN(t)&&xm(t,n=>{c0(e,n)})}function I8(e,t,n){const i=n.map(p=>p.currentWriteId),a=NN(e,t,i);let l=a;const c=a.hash();for(let p=0;p<n.length;p++){const y=n[p];ht(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Qn(t,y.path);l=l.updateChild(v,y.currentOutputSnapshotRaw)}const h=l.val(!0),m=t;e.server_.put(m.toString(),h,p=>{l0(e,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let T=0;T<n.length;T++)n[T].status=2,y=y.concat(Cl(e.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&v.push(()=>n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)),n[T].unwatcher();wm(e,a0(e.transactionQueueTree_,t)),c0(e,e.transactionQueueTree_),Aa(e.eventQueue_,t,y);for(let T=0;T<v.length;T++)gh(v[T])}else{if(p==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{vi("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=p}u0(e,t)}},c)}function u0(e,t){const n=IN(e,t),i=bh(n),a=DN(e,n);return D8(e,a,i),i}function D8(e,t,n){if(t.length===0)return;const i=[];let a=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],p=Qn(n,m.path);let y=!1,v;if(ht(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,a=a.concat(Cl(e.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=v8)y=!0,v="maxretry",a=a.concat(Cl(e.serverSyncTree_,m.currentWriteId,!0));else{const T=NN(e,m.path,c);m.currentInputSnapshot=T;const C=t[h].update(T.val());if(C!==void 0){xN("transaction failed: Data returned ",C,m.path);let M=kn(C);typeof C=="object"&&C!=null&&gr(C,".priority")||(M=M.updatePriority(T.getPriority()));const L=m.currentWriteId,X=RN(e),nt=o8(M,T,X);m.currentOutputSnapshotRaw=M,m.currentOutputSnapshotResolved=nt,m.currentWriteId=w8(e),c.splice(c.indexOf(L),1),a=a.concat(KU(e.serverSyncTree_,m.path,nt,m.currentWriteId,m.applyLocally)),a=a.concat(Cl(e.serverSyncTree_,L,!0))}else y=!0,v="nodata",a=a.concat(Cl(e.serverSyncTree_,m.currentWriteId,!0))}Aa(e.eventQueue_,n,a),a=[],y&&(t[h].status=2,(function(T){setTimeout(T,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(v==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(v),!1,null))))}wm(e,e.transactionQueueTree_);for(let h=0;h<i.length;h++)gh(i[h]);c0(e,e.transactionQueueTree_)}function IN(e,t){let n,i=e.transactionQueueTree_;for(n=qt(t);n!==null&&oc(i)===void 0;)i=a0(i,n),t=be(t),n=qt(t);return i}function DN(e,t){const n=[];return MN(e,t,n),n.sort((i,a)=>i.order-a.order),n}function MN(e,t,n){const i=oc(t);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);xm(t,a=>{MN(e,a,n)})}function wm(e,t){const n=oc(t);if(n){let i=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[i]=n[a],i++);n.length=i,_N(t,n.length>0?n:void 0)}xm(t,i=>{wm(e,i)})}function M8(e,t){const n=bh(IN(e,t)),i=a0(e.transactionQueueTree_,t);return c8(i,a=>{oy(e,a)}),oy(e,i),bN(i,a=>{oy(e,a)}),n}function oy(e,t){const n=oc(t);if(n){const i=[];let a=[],l=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ht(l===c-1,"All SENT items should be at beginning of queue."),l=c,n[c].status=3,n[c].abortReason="set"):(ht(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),a=a.concat(Cl(e.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&i.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?_N(t,void 0):n.length=l+1,Aa(e.eventQueue_,bh(t),a);for(let c=0;c<i.length;c++)gh(i[c])}}function k8(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function V8(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vi(`Invalid query segment '${n}' in query '${e}'`)}return t}const sS=function(e,t){const n=O8(e),i=n.namespace;n.domain==="firebase.com"&&pr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&pr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Y9();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new MR(n.host,n.secure,i,a,t,"",i!==n.subdomain),path:new _e(n.pathString)}},O8=function(e){let t="",n="",i="",a="",l="",c=!0,h="https",m=443;if(typeof e=="string"){let p=e.indexOf("//");p>=0&&(h=e.substring(0,p-1),e=e.substring(p+2));let y=e.indexOf("/");y===-1&&(y=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(y,v)),y<v&&(a=k8(e.substring(y,v)));const T=V8(e.substring(Math.min(e.length,v)));p=t.indexOf(":"),p>=0?(c=h==="https"||h==="wss",m=parseInt(t.substring(p+1),10)):p=t.length;const C=t.slice(0,p);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const M=t.indexOf(".");i=t.substring(0,M).toLowerCase(),n=t.substring(M+1),l=i}"ns"in T&&(l=T.ns)}return{host:t,port:m,domain:n,subdomain:i,secure:c,scheme:h,pathString:a,namespace:l}};class P8{constructor(t,n,i,a){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dn(this.snapshot.exportVal())}}class L8{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kN{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ht(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class h0{constructor(t,n,i,a){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return Ht(this._path)?null:BR(this._path)}get ref(){return new yr(this._repo,this._path)}get _queryIdentifier(){const t=qw(this._queryParams),n=jv(t);return n==="{}"?"default":n}get _queryObject(){return qw(this._queryParams)}isEqual(t){if(t=ss(t),!(t instanceof h0))return!1;const n=this._repo===t._repo,i=Fv(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return n&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+Nz(this._path)}}class yr extends h0{constructor(t,n){super(t,n,new Yv,!1)}get parent(){const t=qR(this._path);return t===null?null:new yr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class nh{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new _e(t),i=f_(this.ref,t);return new nh(this._node.getChild(n),i,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>t(new nh(a,f_(this.ref,i),je)))}hasChild(t){const n=new _e(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function VN(e,t){return e=ss(e),e._checkNotDeleted("ref"),t!==void 0?f_(e._root,t):e._root}function f_(e,t){return e=ss(e),qt(e._path)===null?m8("child","path",t):wN("child","path",t),new yr(e._repo,mn(e._path,t))}function j8(e){e=ss(e);const t=new kN(()=>{}),n=new Sm(t);return S8(e._repo,e,n).then(i=>new nh(i,new yr(e._repo,e._path),e._queryParams.getIndex()))}class Sm{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new P8("value",this,new nh(t.snapshotNode,new yr(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new L8(this,t,n):null}matches(t){return t instanceof Sm?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function z8(e,t,n,i,a){const l=new kN(n,void 0),c=new Sm(l);return C8(e._repo,e,c),()=>R8(e._repo,e,c)}function U8(e,t,n,i){return z8(e,"value",t)}zU(yr);HU(yr);const B8="FIREBASE_DATABASE_EMULATOR_HOST",d_={};let F8=!1;function q8(e,t,n,i){const a=t.lastIndexOf(":"),l=t.substring(0,a),c=lh(l);e.repoInfo_=new MR(t,c,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function H8(e,t,n,i,a){let l=i||e.options.databaseURL;l===void 0&&(e.options.projectId||pr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bn("Using default host for project ",e.options.projectId),l=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c=sS(l,a),h=c.repoInfo,m;typeof process<"u"&&Sw&&(m=Sw[B8]),m?(l=`http://${m}?ns=${h.namespace}`,c=sS(l,a),h=c.repoInfo):c.repoInfo.secure;const p=new iz(e.name,e.options,t);p8("Invalid Firebase Database URL",c),Ht(c.path)||pr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Y8(h,e,p,new nz(e,n));return new K8(y,e)}function G8(e,t){const n=d_[t];(!n||n[e.key]!==e)&&pr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),N8(e),delete n[e.key]}function Y8(e,t,n,i){let a=d_[t.name];a||(a={},d_[t.name]=a);let l=a[e.toURLString()];return l&&pr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new b8(e,F8,n,i),a[e.toURLString()]=l,l}class K8{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(T8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yr(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(G8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&pr("Cannot call "+t+" on a deleted database.")}}function Q8(e=OC(),t){const n=DC(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=vC("database");i&&X8(n,...i)}return n}function X8(e,t,n,i={}){e=ss(e),e._checkNotDeleted("useEmulator");const a=`${t}:${n}`,l=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&zu(i,l.repoInfo_.emulatorOptions))return;pr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&pr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new pd(pd.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:EC(i.mockUserToken,e.app.options.projectId);c=new pd(h)}lh(t)&&(TC(t),xC("Database",!0)),q8(l,a,i,c)}function W8(e){U9(kC),Uu(new Ll("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),l=t.getProvider("app-check-internal");return H8(i,a,l,n)},"PUBLIC").setMultipleInstances(!0)),ra(Aw,Cw,e),ra(Aw,Cw,"esm2020")}lr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};lr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};W8();const $8={apiKey:"AIzaSyCub0XtA27wJfA8QzLWTRcVvsn4Wiz84H0",authDomain:"tiger-superextension-09.firebaseapp.com",projectId:"tiger-superextension-09",storageBucket:"tiger-superextension-09.firebasestorage.app",messagingSenderId:"523127017746",appId:"1:523127017746:web:c58418b3ad5009509823cb",measurementId:"G-53CSV68T7D"},ON=VC($8,"extension-app"),Am=b9(ON),PN=Q8(ON),Z8=async(e,t,n)=>{try{const i=iR(Cv(Am,`users/${e}/history`));await pR(i,{summary:t,url:n,timestamp:new Date().toISOString()})}catch{}},J8=async e=>{try{const t=Cv(Am,`users/${e}/history`),n=M9(t,k9("timestamp","desc"),V9(50));return(await mR(n)).docs.map(a=>({id:a.id,...a.data()}))}catch{return[]}},tB=async e=>{try{const t=Cv(Am,`users/${e}/history`),i=(await mR(t)).docs.map(a=>z9(a.ref));await Promise.all(i)}catch(t){throw t}},eB=async e=>{try{const t=iR(Am,"users",e.id);await pR(t,{email:e.email,name:e.name,picture:e.picture,lastLogin:new Date().toISOString()},{merge:!0})}catch(t){throw t}},nB=async e=>{try{const t=e.replace(/\./g,"_"),n=VN(PN,`admin/users/${t}`);return(await j8(n)).val()?.isPro||!1}catch{return!1}},iB=e=>{const t=VN(PN,"admin/features");return U8(t,n=>{const i=n.val()||{imageAnalysis:!0,creativeTone:!0,professionalTone:!0,jsonFormat:!0,xmlFormat:!0};e(i)})},sB="phc_CnQoAhO7LuIZtFrzKlzsMKL3bVmWtGv4sEUgMFnnM4I",rB="https://us.i.posthog.com";let LN=!1,f0=null;const aB=()=>{LN=!0},Zi=async(e,t)=>{if(LN)try{const n={api_key:sB,event:e,properties:{distinct_id:f0||"anonymous_user",$lib:"summarai-extension",...t},timestamp:new Date().toISOString()};await fetch(`${rB}/capture/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch{}},oB=(e,t)=>{f0=e,t&&Zi("$identify",{$set:{email:t}})},lB=()=>{f0=null},cB=[{name:"ChatGPT",domain:"chatgpt.com",url:"https://chatgpt.com"},{name:"OpenAI",domain:"openai.com",url:"https://openai.com"},{name:"Google Gemini",domain:"gemini.google.com",url:"https://gemini.google.com"},{name:"Google Labs",domain:"labs.google.com",url:"https://labs.google.com"},{name:"Figma",domain:"figma.com",url:"https://figma.com"},{name:"Visily",domain:"visily.ai",url:"https://visily.ai"},{name:"Uizard",domain:"uizard.io",url:"https://uizard.io"},{name:"UX Magic",domain:"uxmagic.ai",url:"https://uxmagic.ai"},{name:"Banani",domain:"banani.co",url:"https://banani.co"},{name:"Emergent",domain:"app.emergent.sh",url:"https://app.emergent.sh"},{name:"Rocket",domain:"rocket.new",url:"https://rocket.new"},{name:"Lovable",domain:"lovable.dev",url:"https://lovable.dev"},{name:"Bolt",domain:"bolt.new",url:"https://bolt.new"},{name:"Base44",domain:"base44.com",url:"https://base44.com"},{name:"Create XYZ",domain:"create.xyz",url:"https://create.xyz"},{name:"Memex",domain:"memex.tech",url:"https://memex.tech"},{name:"BuildFire",domain:"buildfire.com",url:"https://buildfire.com"},{name:"Glide",domain:"glideapps.com",url:"https://glideapps.com"},{name:"Flatlogic",domain:"flatlogic.com",url:"https://flatlogic.com"},{name:"Retool",domain:"retool.com",url:"https://retool.com"},{name:"UI Bakery",domain:"uibakery.io",url:"https://uibakery.io"},{name:"Zoho",domain:"zoho.com",url:"https://zoho.com"},{name:"Appy Pie",domain:"appypie.com",url:"https://appypie.com"},{name:"Meta AI",domain:"meta.ai",url:"https://meta.ai"}],uB=e=>cB.some(t=>e.includes(t.domain)),hB=({open:e,onClose:t,summary:n,prompts:i})=>{const[a,l]=G.useState(""),[c,h]=G.useState(!1),[m,p]=G.useState(!1),[y,v]=G.useState(""),[T,C]=G.useState(!1),M=async()=>{if(!a.trim()){v("Please describe what went wrong.");return}p(!0),v("");try{const j={rating:"negative",feedback:a,summary_length:n.length,prompts_length:i.length};c&&(j.summary_text=n,j.input_prompts=i),Zi("feedback_negative_detailed",j),C(!0),setTimeout(()=>{l(""),h(!1),C(!1),t()},1500)}catch{v("Failed to submit feedback. Please try again.")}finally{p(!1)}};return e?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 z-[200] animate-fade-in",onClick:t}),x.jsx("div",{className:"fixed inset-0 z-[201] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md animate-slide-up-fade",onClick:j=>j.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(YE,{className:"w-5 h-5 text-orange-500"}),x.jsx("h3",{className:"font-semibold text-gray-900",children:"Report Issue"})]}),x.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:x.jsx(TS,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"p-5 space-y-4",children:T?x.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[x.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thank you!"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Your feedback has been submitted."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What went wrong?"}),x.jsx("textarea",{value:a,onChange:j=>{l(j.target.value),v("")},placeholder:"Describe the issue (e.g., summary was inaccurate, missed key points, wrong format...)",className:`w-full h-32 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-black focus:border-transparent resize-none ${y?"border-red-300":"border-gray-300"}`,autoFocus:!0}),y&&x.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[x.jsx(YE,{className:"w-4 h-4"}),y]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>h(!c),children:[x.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center shrink-0 transition-all ${c?"bg-black border-black":"bg-white border-gray-300"}`,children:c&&x.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Include conversation data for debugging"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will send your input prompts and generated summary to help us improve. Optional."})]})]})]})}),x.jsxs("div",{className:"flex items-center justify-end gap-3 p-5 border-t border-gray-200",children:[x.jsx(sn,{variant:"ghost",onClick:t,disabled:m,children:"Cancel"}),x.jsx(sn,{onClick:M,disabled:m,className:"bg-black text-white hover:bg-gray-800",children:m?"Submitting...":"Submit Feedback"})]})]})})]}):null},rS=({label:e,subtext:t,checked:n,onChange:i})=>x.jsxs("div",{className:"flex items-center gap-4 p-2 cursor-pointer group hover:bg-gray-50 rounded-xl transition-colors",onClick:i,children:[x.jsx("div",{className:Ft("w-5 h-5 rounded-md border flex items-center justify-center transition-all duration-200 shrink-0",n?"bg-black border-black":"bg-white border-gray-300 group-hover:border-gray-400"),children:n&&x.jsx(Mu,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),x.jsxs("div",{className:"flex flex-col select-none",children:[x.jsx("span",{className:"text-sm font-medium text-gray-900",children:e}),x.jsx("span",{className:"text-xs text-gray-500",children:t})]})]}),fB=({user:e})=>{const[t,n]=G.useState(0),[i,a]=G.useState(e?14:3);return G.useEffect(()=>{chrome.storage.local.get(["quotaUsed","quotaLimit"],c=>{c.quotaUsed!==void 0&&n(c.quotaUsed),c.quotaLimit!==void 0&&a(c.quotaLimit)});const l=c=>{c.quotaUsed&&n(c.quotaUsed.newValue),c.quotaLimit&&a(c.quotaLimit.newValue)};return chrome.storage.onChanged.addListener(l),()=>chrome.storage.onChanged.removeListener(l)},[]),G.useEffect(()=>{a(e?14:3)},[e]),x.jsx(Ae,{content:`Daily quota: ${t}/${i} used`,side:"bottom",children:x.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 text-gray-600 text-[10px] font-semibold border border-gray-200 shadow-sm",children:[t,"/",i]})})},dB=({summary:e,onRegenerate:t,onReportIssue:n,isRegenerating:i,isGuest:a})=>{const[l,c]=G.useState("idle"),[h,m]=G.useState(!1),[p,y]=G.useState(!1),[v,T]=G.useState(!1),C=()=>{if(h){m(!1);return}m(!0),y(!1),c("good"),Zi("summary_rated",{rating:"positive",summary_length:e.length}),setTimeout(()=>c("idle"),2e3)},M=()=>{if(p){y(!1);return}y(!0),m(!1),c("bad"),n(),setTimeout(()=>c("idle"),2e3)},j=()=>{navigator.clipboard.writeText(e),c("copied"),setTimeout(()=>c("idle"),2e3)};return x.jsx("div",{className:"relative",children:x.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded-xl border border-gray-100 shadow-lg min-h-[40px]",children:[x.jsx(Ae,{content:"Good Response",children:x.jsx(sn,{variant:"ghost",size:"icon",onClick:C,className:Ft("h-8 w-8 rounded-lg transition-colors shrink-0 focus:outline-none focus:ring-0",h?"text-black hover:bg-gray-100":"text-gray-500 hover:bg-gray-50"),children:x.jsx(y_,{className:Ft("w-4 h-4",h&&"fill-current")})})}),l==="good"&&x.jsx("div",{className:"overflow-hidden whitespace-nowrap text-[10px] font-medium text-green-600 px-1 animate-fade-in",children:"Thanks for feedback"}),x.jsx(Ae,{content:"Bad Response",children:x.jsx(sn,{variant:"ghost",size:"icon",onClick:M,className:Ft("h-8 w-8 rounded-lg transition-colors shrink-0 focus:outline-none focus:ring-0",p?"text-black hover:bg-gray-100":"text-gray-500 hover:bg-gray-50"),children:x.jsx(bS,{className:Ft("w-4 h-4",p&&"fill-current")})})}),l==="bad"&&x.jsx("div",{className:"overflow-hidden whitespace-nowrap text-[10px] font-medium text-black px-1 animate-fade-in",children:"Thanks for feedback"}),x.jsx("div",{className:"w-px h-4 bg-gray-200 mx-0.5 shrink-0"}),x.jsx(Ae,{content:"Regenerate",children:x.jsx(sn,{variant:"ghost",size:"icon",onClick:t,disabled:i,className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500 shrink-0 focus:outline-none focus:ring-0",children:x.jsx(_S,{className:Ft("w-4 h-4",i&&"animate-spin text-black")})})}),i&&x.jsx("div",{className:"overflow-hidden whitespace-nowrap text-[10px] font-medium text-gray-500 px-1 animate-fade-in",children:"Regenerating..."}),x.jsx(Ae,{content:"Copy",children:x.jsx(sn,{variant:"ghost",size:"icon",onClick:j,className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500 shrink-0 focus:outline-none focus:ring-0",children:x.jsx(gS,{className:"w-4 h-4"})})}),l==="copied"&&x.jsxs("div",{className:"overflow-hidden whitespace-nowrap text-[10px] font-medium text-gray-700 flex items-center gap-1 px-1 animate-fade-in",children:[x.jsx(Mu,{className:"w-3 h-3"}),"Copied"]}),l==="doc"&&x.jsxs("div",{className:"overflow-hidden whitespace-nowrap text-[10px] font-medium text-blue-600 flex items-center gap-1 px-1 animate-fade-in",children:[x.jsx(Mu,{className:"w-3 h-3"}),"Copied! Paste in Doc"]}),!a&&x.jsxs("div",{className:"relative",children:[x.jsx(Ae,{content:"More",disabled:v,children:x.jsx(sn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500 shrink-0 focus:outline-none focus:ring-0",onClick:()=>T(!v),children:x.jsx(yS,{className:"w-4 h-4"})})}),v&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>T(!1)}),x.jsxs("div",{className:"absolute bottom-full right-0 mb-2 z-[100] w-36 bg-white rounded-xl shadow-xl border border-gray-200 py-1 origin-bottom-right",children:[x.jsxs("button",{className:"w-full px-3 py-2 text-left text-base text-gray-700 hover:bg-gray-50 flex items-center gap-2",onClick:()=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const L=new SpeechSynthesisUtterance(e);L.rate=1,L.pitch=1,window.speechSynthesis.speak(L),hn.success("Playing summary...")}else hn.error("Text-to-speech not supported");T(!1)},children:[x.jsx(ak,{className:"w-4 h-4"}),"Listen"]}),x.jsxs("button",{className:"w-full px-3 py-2 text-left text-base text-gray-700 hover:bg-gray-50 flex items-center gap-2",onClick:()=>{const L=window.open("","_blank");L&&(L.document.write(`
                                                    <html>
                                                        <head>
                                                            <title>Summary - SummarAI</title>
                                                            <style>
                                                                body { font-family: Arial, sans-serif; padding: 40px; line-height: 1.6; }
                                                                h1 { color: #333; margin-bottom: 20px; }
                                                                p { white-space: pre-wrap; }
                                                            </style>
                                                        </head>
                                                        <body>
                                                            <h1>Summary</h1>
                                                            <p>${e.replace(/\n/g,"<br>")}</p>
                                                        </body>
                                                    </html>
                                                `),L.document.close(),L.print(),hn.success("Opening print dialog...")),T(!1)},children:[x.jsx(MM,{className:"w-4 h-4"}),"PDF"]}),x.jsxs("button",{className:"w-full px-3 py-2 text-left text-base text-gray-700 hover:bg-gray-50 flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(e),c("doc"),setTimeout(()=>c("idle"),2e3),hn.success("Copied! Paste in Google Docs"),T(!1)},children:[x.jsx(IM,{className:"w-4 h-4"}),"Docs"]}),x.jsxs("button",{className:"w-full px-3 py-2 text-left text-base text-gray-700 hover:bg-gray-50 flex items-center gap-2",onClick:()=>{const L=encodeURIComponent("Summary from SummarAI"),X=encodeURIComponent(e);window.open(`mailto:?subject=${L}&body=${X}`,"_blank"),hn.success("Opening email client..."),T(!1)},children:[x.jsx(vS,{className:"w-4 h-4"}),"Mail"]}),x.jsx("div",{className:"h-px bg-gray-100 my-1"}),x.jsxs("button",{className:"w-full px-3 py-2 text-left text-base text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{window.open("https://forms.gle/N9VJY9Cb2F8v2VHF6","_blank"),T(!1)},children:[x.jsx(VM,{className:"w-4 h-4"}),"Report Issue"]})]})]})]})]})})},mB=()=>{const[e,t]=G.useState("idle"),[n,i]=G.useState(!1),[a,l]=G.useState(!1),[c,h]=G.useState("none"),[m,p]=G.useState(null),[y,v]=G.useState(!1),[T,C]=G.useState(!1),[M,j]=G.useState("TXT"),[L,X]=G.useState("paragraph"),[nt,W]=G.useState("normal"),[ot,ut]=G.useState(""),[lt,R]=G.useState("auto"),[S,N]=G.useState(null),[P,k]=G.useState(!1),[z,I]=G.useState([]),[Gt,te]=G.useState(!1),[$,at]=G.useState(!1),[et,At]=G.useState(!0),[Pt,V]=G.useState(!0),[J,ct]=G.useState(window.innerHeight||800),[ft,xt]=G.useState(""),[It,bt]=G.useState(!1),[Re,ee]=G.useState(0),[ze,qn]=G.useState("none"),[Xn,Vs]=G.useState(!1),[oi,Ca]=G.useState({imageAnalysis:!0,creativeTone:!0,professionalTone:!0,jsonFormat:!0,xmlFormat:!0}),Ee=ze==="none"?S:ze==="guest"?null:{email:"simulated@example.com",id:"simulated-user",name:"Simulated User",picture:""},_r=ze==="none"?P:ze==="pro",vr=async()=>{if(!S?.email)return hn.error("No email found");try{const K=hn.loading("Sending email...");await fetch("https://tai-backend.amaravadhibharath.workers.dev/send-welcome-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S.email,name:S.name})}),hn.dismiss(K),hn.success("Email sent!")}catch{hn.dismiss(),hn.error("Failed to send")}},[Me,Ue]=G.useState({x:16,y:window.innerHeight-100}),[bi,wo]=G.useState(!1),[br,wn]=G.useState({x:0,y:0}),Os=K=>{wo(!0);const wt=K.target.closest(".debug-panel")?.getBoundingClientRect();wt&&wn({x:K.clientX-wt.left,y:K.clientY-wt.top})};G.useEffect(()=>{if(!bi)return;const K=Wt=>{Ue({x:Wt.clientX-br.x,y:Wt.clientY-br.y})},wt=()=>{wo(!1)};return document.addEventListener("mousemove",K),document.addEventListener("mouseup",wt),()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",wt)}},[bi,br]),G.useEffect(()=>{const K=()=>ct(window.innerHeight||800);return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),G.useEffect(()=>{const K=iB(wt=>{Ca(wt)});return()=>K()},[]),G.useEffect(()=>{S?.email&&nB(S.email).then(K=>{K&&k(!0)})},[S]);const Ps=J<250,Ra=J<150,Ti=async()=>{try{const[K]=await chrome.tabs.query({active:!0,currentWindow:!0}),wt=K?.url;if(wt){const Wt=uB(wt);if(te(Wt),K.id&&Wt)try{await chrome.tabs.sendMessage(K.id,{action:"ping"}),at(!0)}catch{at(!1)}else at(!1)}else te(!1),at(!1)}catch{te(!1)}finally{V(!1)}},Na=async()=>{try{const[K]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!K?.id){At(!1);return}const wt=K.url||"";if(!(wt.includes("chatgpt.com")||wt.includes("gemini.google.com")||wt.includes("claude.ai"))){At(!0);return}const le=await chrome.tabs.sendMessage(K.id,{action:"getPageContent",includeImages:!1});le&&le.error,At(!0)}catch{At(!0)}};G.useEffect(()=>{aB(),setTimeout(()=>{Zi("extension_opened")},100),chrome.storage.local.get(["isPro"],Wt=>{k(!!Wt.isPro)}),Ti(),Na();const K=()=>{V(!0),Ti(),Na()},wt=(Wt,le,An)=>{An.active&&(Ti(),Na())};return chrome.tabs.onActivated.addListener(K),chrome.tabs.onUpdated.addListener(wt),()=>{chrome.tabs.onActivated.removeListener(K),chrome.tabs.onUpdated.removeListener(wt)}},[]),G.useEffect(()=>{m&&e==="completed"&&t("idle")},[n,a]),G.useEffect(()=>{const K=LP(async wt=>{if(N(wt),wt){oB(wt.id,wt.email||void 0),eB(wt);const Wt=await J8(wt.id);Wt&&Wt.length>0&&(I(Wt),chrome.storage.local.set({history:Wt}))}else lB()});return()=>K()},[]),p_.useEffect(()=>{chrome.storage.local.get(["summaryType","provider","history"],K=>{K.summaryType&&j(K.summaryType),K.provider&&R(K.provider),K.history&&Array.isArray(K.history)&&I(K.history)})},[]);const Ia=async()=>{Vs(!0);try{await OP(),qn("none"),h("none")}catch(K){hn.error(`Login failed: ${K.message}`)}finally{Vs(!1)}},So=async()=>{await PP(),h("none")},Ao=async()=>{await W_(),Ia()},li=K=>{p(K.summary),t("completed"),h("none"),Zi("history_item_viewed",{item_id:K.id})},Be=K=>{window.open(`https://superextension.in/help?topic=${K}`,"_blank"),h("none"),Zi("help_action_clicked",{action:K})},Sn=async(K,wt,Wt)=>{const le=typeof K=="string"?K:ot;let An=wt||M;(M==="JSON"||M==="XML")&&An==="paragraph"&&(An=M);const ci=Wt||nt;t("generating");try{const[yn]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!yn.id)throw new Error("No active tab found");const Fe=await chrome.tabs.sendMessage(yn.id,{action:"getPageContent",includeImages:a});if(!Fe)throw new Error("Failed to scrape content. Refresh the page and try again.");let Pn="";Fe.conversation&&Fe.conversation.length>0&&(n?Pn=Fe.conversation.map(ve=>`${ve.role==="user"?"User":"AI"}: ${ve.text}`).join(`

`):Pn=Fe.conversation.filter(Ke=>Ke.role==="user").map(Ke=>`User: ${Ke.text}`).join(`

`));const Hn=Fe.conversation&&Fe.conversation.length>0;if(!Pn||Pn.trim().length===0){if(Hn&&!n)throw new Error("No user messages found to summarize. Try checking 'Include AI responses'.");Pn=Fe.rawText||""}xt(Pn);const Ls=new Promise(ve=>setTimeout(ve,2500));let js="";try{const ve=await chrome.storage.local.get(["deviceId"]);ve.deviceId?js=ve.deviceId:(js=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,await chrome.storage.local.set({deviceId:js}))}catch{js=`temp_${Date.now()}`}let as;if(S)try{const ve=await new Promise(Ke=>{chrome.identity.getAuthToken({interactive:!1},zs=>{Ke(zs||void 0)})});ve&&(await fetch(`https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=${ve}`)).ok&&(as=ve)}catch{}const[zi]=await Promise.all([MP(Pn,{includeAI:n,format:An,length:"medium",apiKey:"",provider:lt,images:a?Fe.images:void 0,tone:ci},lt,le,as,js),Ls]);p(zi),t("completed"),C(!1);const Da={id:Date.now(),summary:zi,date:new Date().toISOString(),preview:zi.slice(0,100)+"...",platform:Fe.platform||"generic",type:a?"prompt+response+image":n?"prompt+response":"prompt"};chrome.storage.local.get(["history"],ve=>{const Ke=ve.history||[],zs=[Da,...Ke].slice(0,50);chrome.storage.local.set({history:zs}),I(zs)}),chrome.storage.local.get(["summarizeCount"],ve=>{const Ke=ve.summarizeCount||0;chrome.storage.local.set({summarizeCount:Ke+1})}),S&&yn.url&&zi&&Z8(S.id,zi,yn.url),Zi("summary_generated",{type:M,length:m?m.length:0,is_pro:_r,include_ai:n,analyze_images:a,format:An,tone:ci,provider:lt})}catch(yn){const Fe=yn.message||"Failed to generate summary";if(Fe.includes("Guest Quota Exceeded"))hn.error("You've used your 3 free summaries today! Sign in with Google to get 14 daily summaries.",{duration:5e3}),h("profile"),t("error");else if(Fe.includes("Could not establish connection")||Fe.includes("Receiving end does not exist")||Fe.includes("Extension context invalidated")){try{const[Pn]=await chrome.tabs.query({active:!0,currentWindow:!0});Pn?.id&&(await chrome.scripting.executeScript({target:{tabId:Pn.id},files:["src/content.ts"]}),hn.success("Connection restored! Please click 'Generate' again."))}catch{confirm("Connection lost. Please reload the page to fix it.")&&chrome.tabs.query({active:!0,currentWindow:!0}).then(([Hn])=>{Hn.id&&chrome.tabs.reload(Hn.id)})}t("idle")}else p(Fe),t("error");Zi("generation_failed",{error:Fe})}finally{C(!1)}},ke=()=>{confirm("Are you sure you want to clear your history?")&&(chrome.storage.local.set({history:[]}),I([]),S&&tB(S.id))},Co=()=>{C(!0),Zi("regenerate_clicked"),Sn()},Tr=()=>{p(null),t("idle")};return G.useEffect(()=>{const K=wt=>{if(c!=="none"){const Wt=wt.target;!Wt.closest(".popup-content")&&!Wt.closest("button")&&h("none")}};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[c]),x.jsxs(OS,{children:[x.jsxs("div",{className:"flex flex-col h-full relative",children:[x.jsxs("div",{className:"flex-1 min-h-[150px] mb-4",children:[x.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden relative border border-gray-200 rounded-2xl",children:[x.jsxs("div",{className:"absolute top-4 right-4 z-50 flex items-center gap-2",children:[(()=>{const K=S?.email==="amaravadhibharath@gmail.com"||S?.email==="bharath.amaravadi@gmail.com";let wt="GUEST",Wt="bg-blue-50 text-blue-600 border-blue-100 hover:bg-blue-100";return ze==="none"&&K?(wt="ADMIN",Wt="bg-black text-white border-black hover:bg-gray-800"):_r?(wt="PRO",Wt="bg-yellow-50 text-yellow-600 border-yellow-100 hover:bg-yellow-100"):Ee&&(wt="FREE",Wt="bg-green-50 text-green-600 border-green-100 hover:bg-green-100"),x.jsx("span",{className:Ft("px-1.5 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border shadow-sm cursor-pointer transition-colors",Wt),onClick:()=>{const le=Re+1;ee(le),le===6&&(h("feedback"),ee(0))},children:wt})})(),x.jsx(fB,{user:Ee}),x.jsx(Ae,{content:"Profile",side:"bottom",disabled:c==="profile",children:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-medium text-gray-600 cursor-pointer hover:bg-gray-300 transition-colors overflow-hidden",onClick:()=>h(c==="profile"?"none":"profile"),children:Ee&&Ee.picture?x.jsx("img",{src:Ee.picture,alt:"Profile",className:"w-full h-full object-cover"}):Ee&&Ee.name?Ee.name[0].toUpperCase():x.jsx(ik,{className:"w-4 h-4"})})}),c==="profile"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>h("none")}),x.jsx("div",{className:"popup-content absolute top-full right-0 mt-2 w-auto min-w-[200px] bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden z-40 flex flex-col py-1 animate-slide-up-fade",onClick:K=>K.stopPropagation(),children:Ee?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[x.jsx("p",{className:"text-xs font-medium text-gray-900",children:Ee.name}),x.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:Ee.email})]}),x.jsxs("button",{onClick:Ao,className:"flex items-center gap-2 px-4 py-2.5 text-xs text-gray-700 hover:bg-gray-50 w-full text-left transition-colors",children:[x.jsx($E,{className:"w-3.5 h-3.5"}),"Switch Account"]}),x.jsxs("button",{onClick:So,className:"flex items-center gap-2 px-4 py-2.5 text-xs text-red-600 hover:bg-red-50 w-full text-left transition-colors",children:[x.jsx(BM,{className:"w-3.5 h-3.5"}),"Logout"]}),x.jsxs("div",{className:"px-4 py-2 border-t border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Simulate Mode"}),x.jsx("div",{className:"grid grid-cols-4 gap-1",children:["none","guest","free","pro"].map(K=>x.jsx("button",{onClick:wt=>{wt.stopPropagation(),qn(K)},className:Ft("px-1 py-1 text-[9px] font-medium rounded border transition-all text-center",ze===K?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"),children:K==="none"?"Real":K.charAt(0).toUpperCase()},K))}),(S?.email==="amaravadhibharath@gmail.com"||S?.email==="bharath.amaravadi@gmail.com")&&x.jsx("button",{onClick:K=>{K.stopPropagation(),vr()},className:"w-full mt-2 py-1 text-[10px] font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100",children:"Test Welcome Email"})]})]}):x.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[x.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Sign in to sync history and upgrade."}),x.jsx("button",{onClick:Ia,disabled:Xn,className:"flex items-center justify-center gap-2 w-full py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors text-xs font-medium disabled:opacity-70 disabled:cursor-not-allowed",children:Xn?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-3.5 h-3.5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):x.jsxs(x.Fragment,{children:[x.jsx($E,{className:"w-3.5 h-3.5"}),"Sign in with Google"]})}),x.jsx("button",{onClick:()=>window.open("https://accounts.google.com/signin/recovery","_blank"),className:"text-[10px] text-gray-400 hover:text-gray-600 transition-colors text-center w-full",children:"Forgot Password?"})]})})]})]}),m?x.jsxs("div",{className:"flex flex-col h-full relative animate-fade-in",children:[x.jsx("div",{className:"absolute top-4 left-4 z-30",children:x.jsx(Ae,{content:"Back",side:"bottom",children:x.jsx(sn,{variant:"secondary",size:"icon",onClick:Tr,className:"rounded-full w-8 h-8 shadow-sm border-gray-200 bg-white/80 backdrop-blur-sm",children:x.jsx(pS,{className:"w-4 h-4 text-gray-600"})})})}),x.jsx("div",{className:"absolute top-0 left-0 right-0 h-16 bg-white z-20 border-b border-gray-50"}),y?x.jsx("textarea",{value:m,onChange:K=>p(K.target.value),onBlur:()=>v(!1),autoFocus:!0,className:"flex-1 w-full resize-none no-scrollbar p-6 pt-20 pb-4 text-sm leading-relaxed text-gray-700 text-justify font-sans border-none focus:ring-0 outline-none"}):x.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar text-sm leading-relaxed text-gray-700 text-justify font-sans p-6 pt-20 pb-4 space-y-2",children:m.split(`
`).map((K,wt)=>{const Wt=K.trim();return Wt.startsWith("-")?x.jsxs("div",{className:"flex gap-2 items-start",children:[x.jsx("span",{className:"shrink-0 text-black font-bold",children:""}),x.jsx("span",{children:Wt.substring(1).trim()})]},wt):x.jsx("p",{children:K},wt)})}),x.jsxs("div",{className:"w-full shrink-0 flex flex-col items-end gap-3 bg-white border-t border-gray-50 pt-4 pb-4 px-4",children:[x.jsx("div",{className:"w-full text-center",children:x.jsxs("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-3 py-1 rounded-full border border-gray-100 opacity-80",children:[lt==="google"?"Gemini":lt==="openai"?"ChatGPT":"AI"," can make mistakes. Regenerate if needed."]})}),x.jsx(dB,{summary:m,onRegenerate:Co,onReportIssue:()=>bt(!0),isRegenerating:T,isGuest:!Ee})]})]},"summary-content"):x.jsx(x.Fragment,{children:x.jsx("div",{className:"w-full h-full animate-fade-in p-6 pt-16 flex flex-col items-center justify-center gap-4",children:Pt?x.jsx("div",{className:"flex flex-col items-center gap-3 text-center max-w-sm",children:x.jsx("div",{className:"w-6 h-6 border-2 border-gray-100 border-t-gray-400 rounded-full animate-spin"})}):Gt?et?x.jsx("span",{className:"text-gray-400 text-sm",children:$?"Ready to generate summary":"Ready when you reload the page "}):x.jsxs("div",{className:"flex flex-col items-center gap-3 text-center max-w-sm",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center",children:x.jsx(Cg,{className:"w-6 h-6 text-blue-600"})}),x.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"No conversation found"}),x.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Start a chat first, then generate a summary."})]}):x.jsx(x.Fragment,{children:x.jsxs("div",{className:"flex flex-col items-center gap-3 text-center max-w-sm",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-50 flex items-center justify-center",children:x.jsx(Cg,{className:"w-6 h-6 text-amber-600"})}),x.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Page not supported"}),x.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Works on ChatGPT, Gemini, and 20+ AI platforms."}),x.jsxs("button",{onClick:()=>window.open("https://superextension.in/supported-sites.pdf","_blank"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium mt-2",children:[x.jsx(GE,{className:"w-4 h-4"}),"View All Supported Sites",x.jsx(QE,{className:"w-3.5 h-3.5"})]}),x.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Made to tailor your conversation with AI apps"})]})})},"empty-state")}),!Ee&&!Ps&&x.jsx(Ig,{onGenerate:Sn,state:e,isRegenerating:T,disabled:!Gt||!et,includeAI:n,analyzeImages:a,isGuest:!0})]}),Ps&&x.jsx("div",{className:"absolute bottom-4 right-4 z-[60]",children:x.jsx(Ig,{onGenerate:Sn,state:e,isRegenerating:T,disabled:!Gt,compact:!0,includeAI:n,analyzeImages:a,isGuest:!Ee})}),(S?.email==="amaravadhibharath@gmail.com"||S?.email==="bharath.amaravadi@gmail.com")&&x.jsxs("div",{className:"debug-panel fixed z-[60] bg-white/90 backdrop-blur border border-gray-200 p-2 rounded-lg shadow-lg select-none",style:{left:`${Me.x}px`,top:`${Me.y}px`,cursor:bi?"grabbing":"grab"},onMouseDown:Os,children:[x.jsx("p",{className:"text-[9px] font-bold text-gray-500 mb-1",children:"DEBUG MODE"}),x.jsx("div",{className:"flex gap-1",children:["none","guest","free","pro"].map(K=>x.jsx("button",{onClick:()=>qn(K),onMouseDown:wt=>wt.stopPropagation(),className:Ft("px-1.5 py-1 text-[9px] font-bold rounded border transition-all",ze===K?"bg-red-500 text-white border-red-500":"bg-white text-gray-600 border-gray-200"),children:K==="none"?"OFF":K.toUpperCase()},K))}),x.jsx("div",{className:"mt-1",children:x.jsx("button",{onClick:vr,onMouseDown:K=>K.stopPropagation(),className:"w-full px-1.5 py-1 text-[9px] font-bold rounded border bg-blue-600 text-white border-blue-600 hover:bg-blue-700",children:"TEST EMAIL"})})]})]}),x.jsxs("div",{className:Ft("shrink-0 flex flex-col gap-4 pb-2 relative z-50",Ps&&"gap-0 pb-0"),children:[Ee&&!m&&x.jsx(Ig,{onGenerate:Sn,state:e,isRegenerating:T,disabled:!Gt,includeAI:n,analyzeImages:a,isGuest:!1}),!Ra&&x.jsxs("div",{className:"space-y-3 px-1",children:[x.jsx(rS,{label:"Include AI responses",subtext:"Summarize the full conversation",checked:n,onChange:()=>{i(K=>!K)}}),x.jsx(rS,{label:"Read images",subtext:"Include visual context",checked:a,onChange:()=>{l(K=>!K)}})]}),x.jsxs("div",{className:"relative flex items-center justify-between pt-2 px-1 flex-nowrap",children:[x.jsxs("div",{className:"relative z-[110]",children:[x.jsx(Ae,{content:"Metadata",children:x.jsx(sn,{variant:"secondary",size:"icon",className:Ft("relative z-[110] rounded-full w-8 h-8 shadow-sm border-gray-200 text-gray-500 transition-colors hover:bg-gray-50",c==="metadata"&&"bg-gray-100 text-gray-900 border-gray-300"),onClick:()=>h(c==="metadata"?"none":"metadata"),children:x.jsx(Cg,{className:"w-4 h-4"})})}),c==="metadata"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>h("none")}),x.jsxs("div",{className:"popup-content absolute bottom-full left-0 mb-2 z-[100] w-[280px] bg-white rounded-2xl shadow-xl border border-gray-200 p-5 text-sm origin-bottom-left",onClick:K=>K.stopPropagation(),children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Metadata"}),x.jsxs("div",{className:"space-y-3 text-gray-600",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Version"}),x.jsx("span",{className:"font-medium text-gray-900 bg-gray-100 px-2 py-0.5 rounded text-xs",children:"Tiger v1.0"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Engine"}),x.jsx("span",{className:"font-medium text-gray-900",children:"GPT-4o-mini"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Status"}),x.jsxs("span",{className:"flex items-center gap-1.5 font-medium text-green-600 text-xs bg-green-50 px-2 py-0.5 rounded-full border border-green-100",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600 animate-pulse"}),"Active"]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Developer"}),x.jsx("span",{className:"font-medium text-gray-900",children:"Bharath Amaravadi"})]}),x.jsx("div",{className:"pt-3 mt-1 border-t border-gray-100",children:x.jsxs("button",{onClick:()=>chrome.tabs.create({url:chrome.runtime.getURL("welcome.html")}),className:"flex items-center justify-center gap-2 w-full py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-xs",children:["Visit Website",x.jsx(QE,{className:"w-3 h-3"})]})})]})]})]})]}),x.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[x.jsx("div",{className:"relative",children:x.jsx(Ae,{content:"Feedback",disabled:c==="feedback",children:x.jsx(sn,{variant:"secondary",size:"icon",className:"relative z-[110] rounded-full w-8 h-8 shadow-sm border-gray-200 text-gray-500 transition-colors hover:bg-gray-50",onClick:()=>h(c==="feedback"?"none":"feedback"),children:x.jsx(GM,{className:"w-4 h-4"})})})}),x.jsx(Zk,{open:c==="feedback",onOpenChange:K=>h(K?"feedback":"none"),userEmail:Ee?.email}),x.jsx("div",{className:"relative",children:x.jsx(Ae,{content:"History",disabled:c==="history",children:x.jsx(sn,{variant:"secondary",size:"icon",className:Ft("relative z-[110] rounded-full w-8 h-8 shadow-sm border-gray-200 text-gray-500 transition-colors hover:bg-gray-50",c==="history"&&"bg-gray-100 text-gray-900 border-gray-300"),onClick:()=>h(c==="history"?"none":"history"),children:x.jsx(XE,{className:"w-4 h-4"})})})}),c==="history"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>h("none")}),x.jsx("div",{className:"popup-content absolute bottom-full right-0 mb-2 z-[200] w-[300px]",onClick:K=>K.stopPropagation(),children:x.jsxs("div",{className:"w-full bg-white rounded-2xl shadow-xl border border-gray-200 p-5 text-sm origin-bottom-right",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"font-semibold text-gray-900",children:"History"}),x.jsx("button",{onClick:ke,className:"text-[10px] font-medium text-red-500 hover:text-red-600 transition-colors",children:"Clear all"})]}),x.jsx("div",{className:"space-y-3 max-h-[250px] overflow-y-auto pr-1 custom-scrollbar",children:z.length===0?x.jsxs("div",{className:"text-center text-gray-400 py-8",children:[x.jsx(XE,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),x.jsx("p",{children:"No history yet"})]}):z.map(K=>x.jsxs("div",{onClick:()=>li(K),className:"flex flex-col gap-1 p-3 rounded-xl bg-gray-50 border border-gray-100 hover:border-gray-200 transition-colors cursor-pointer shrink-0",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("span",{className:"font-medium text-xs text-gray-900 line-clamp-1 capitalize",children:K.platform?`${K.platform} | ${K.type} summary`:"Summary"}),x.jsx("span",{className:"text-[10px] text-gray-400 whitespace-nowrap ml-2",children:new Date(K.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.jsx("p",{className:"text-[10px] text-gray-500 line-clamp-2 leading-relaxed",children:K.preview})]},K.id))})]})})]}),Ee&&x.jsxs("div",{className:"relative",children:[x.jsx(Ae,{content:"Settings",disabled:c==="settings",children:x.jsx(sn,{variant:"secondary",size:"icon",className:"relative z-[110] rounded-full w-8 h-8 shadow-sm border-gray-200 text-gray-500 transition-colors hover:bg-gray-50",onClick:()=>h(c==="settings"?"none":"settings"),children:x.jsx(XM,{className:"w-4 h-4"})})}),c==="settings"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>h("none")}),x.jsxs("div",{className:"popup-content absolute bottom-full right-0 mb-2 z-[100] w-[200px] bg-white rounded-2xl shadow-xl border border-gray-200 p-5 text-sm origin-bottom-right max-h-[400px] overflow-y-auto custom-scrollbar",onClick:K=>K.stopPropagation(),children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Settings"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Summary Type"}),x.jsx("div",{className:"flex flex-col gap-2",children:["TXT","JSON","XML"].map(K=>x.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg border border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",children:[x.jsx("div",{className:Ft("w-4 h-4 rounded-full border flex items-center justify-center transition-all",M===K?"border-black bg-black":"border-gray-300 bg-white"),children:M===K&&x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})}),x.jsx("input",{type:"radio",name:"summaryType",value:K,checked:M===K,onChange:()=>j(K),className:"hidden"}),x.jsx("span",{className:"text-xs font-medium text-gray-700",children:K})]},K))})]}),M==="TXT"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Structure"}),x.jsx("div",{className:"flex flex-col gap-2",children:["paragraph","points"].map(K=>x.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg border border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",children:[x.jsx("div",{className:Ft("w-4 h-4 rounded-full border flex items-center justify-center transition-all",L===K?"border-black bg-black":"border-gray-300 bg-white"),children:L===K&&x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})}),x.jsx("input",{type:"radio",name:"structure",value:K,checked:L===K,onChange:()=>X(K),className:"hidden"}),x.jsx("span",{className:"text-xs font-medium text-gray-700 capitalize",children:K})]},K))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Tone"}),x.jsx("div",{className:"flex flex-col gap-2",children:["normal","professional","creative"].filter(K=>!(K==="creative"&&!oi.creativeTone||K==="professional"&&!oi.professionalTone)).map(K=>x.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg border border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",children:[x.jsx("div",{className:Ft("w-4 h-4 rounded-full border flex items-center justify-center transition-all",nt===K?"border-black bg-black":"border-gray-300 bg-white"),children:nt===K&&x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})}),x.jsx("input",{type:"radio",name:"tone",value:K,checked:nt===K,onChange:()=>W(K),className:"hidden"}),x.jsx("span",{className:"text-xs font-medium text-gray-700 capitalize",children:K})]},K))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Additional Instructions"}),x.jsx("textarea",{value:ot,onChange:K=>ut(K.target.value),placeholder:"E.g. Focus on key dates...",className:"w-full h-16 p-2 text-xs border border-gray-200 rounded-lg resize-none focus:outline-none focus:border-black transition-colors"})]}),x.jsx("div",{className:"h-px bg-gray-100"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Debug"}),x.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg space-y-2",children:[x.jsx("span",{className:"text-xs font-medium text-gray-700 block",children:"Simulate User Mode"}),x.jsx("div",{className:"grid grid-cols-2 gap-2",children:["none","guest","free","pro"].map(K=>x.jsx("button",{onClick:()=>qn(K),className:Ft("px-2 py-1.5 text-[10px] font-medium rounded-md border transition-all",ze===K?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"),children:K==="none"?"Real":K.charAt(0).toUpperCase()+K.slice(1)},K))})]}),x.jsxs(sn,{variant:"secondary",size:"sm",className:"w-full justify-start text-gray-600",onClick:()=>{hn.success("Success: Summary generated!"),setTimeout(()=>hn.error("Error: Something went wrong"),1e3),setTimeout(()=>hn.loading("Loading: Analyzing..."),2e3),setTimeout(()=>hn.dismiss(),4e3)},children:[x.jsx($M,{className:"w-4 h-4 mr-2"}),"Test Notifications"]})]}),x.jsx("div",{className:"text-center pt-2",children:x.jsx("span",{className:"text-[10px] text-gray-400",children:"v1.0.5 (Tiger)"})})]})]})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Ae,{content:"Help",disabled:c==="help",children:x.jsx(sn,{variant:"secondary",size:"icon",className:"relative z-[110] rounded-full w-8 h-8 shadow-sm border-gray-200 text-gray-500 transition-colors hover:bg-gray-50",onClick:()=>h(c==="help"?"none":"help"),children:x.jsx(KE,{className:"w-4 h-4"})})}),c==="help"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>h("none")}),x.jsxs("div",{className:"popup-content absolute bottom-full right-0 mb-2 z-[100] w-max bg-white rounded-2xl shadow-xl border border-gray-200 p-5 text-sm origin-bottom-right",onClick:K=>K.stopPropagation(),children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Help & Support"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:()=>Be("docs"),className:"flex items-center gap-3 w-full text-left text-gray-600 hover:text-gray-900 transition-colors",children:[x.jsx(GE,{className:"w-4 h-4"}),"Documentation"]}),x.jsxs("button",{onClick:()=>Be("faqs"),className:"flex items-center gap-3 w-full text-left text-gray-600 hover:text-gray-900 transition-colors",children:[x.jsx(KE,{className:"w-4 h-4"}),"FAQs"]}),x.jsxs("button",{onClick:()=>Be("support"),className:"flex items-center gap-3 w-full text-left text-gray-600 hover:text-gray-900 transition-colors",children:[x.jsx(qM,{className:"w-4 h-4"}),"Contact Support"]})]})]})]})]})]})]}),c==="feedback"&&x.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>h("none")})]})]}),x.jsx(hB,{open:It,onClose:()=>bt(!1),summary:m||"",prompts:ft})]})},pB=({summary:e,onBack:t})=>x.jsx(OS,{children:x.jsx("div",{className:"flex flex-col h-full relative",children:x.jsx("div",{className:"flex-1 min-h-0 mb-4 relative",children:x.jsxs("div",{className:"w-full h-full bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col overflow-hidden relative",children:[x.jsx("div",{className:"absolute top-4 left-4 z-10",children:x.jsx(Ae,{content:"Back",children:x.jsx(sn,{variant:"secondary",size:"icon",onClick:t,className:"rounded-full w-8 h-8 shadow-sm border-gray-200 bg-white/80 backdrop-blur-sm",children:x.jsx(pS,{className:"w-4 h-4 text-gray-600"})})})}),x.jsx(mC.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex-1 overflow-y-auto text-sm leading-relaxed text-gray-700 text-justify font-sans p-6 pt-16 pb-20",children:e}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex flex-col items-end gap-3 bg-gradient-to-t from-white via-white/95 to-transparent pt-12 pb-4 px-4",children:[x.jsx("div",{className:"w-full text-center",children:x.jsx("span",{className:"text-[10px] text-gray-300 bg-gray-50 px-3 py-1 rounded-full border border-gray-100",children:"AI can make mistakes. Regenerate if needed."})}),x.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded-xl border border-gray-100 shadow-lg",children:[x.jsx(Ae,{content:"Good Response",children:x.jsx(sn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500",onClick:()=>Zi("feedback_positive",{type:"thumbs_up",length:e.length}),children:x.jsx(y_,{className:"w-4 h-4"})})}),x.jsx(Ae,{content:"Bad Response",children:x.jsx(sn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500",onClick:()=>Zi("feedback_negative",{type:"thumbs_down",length:e.length}),children:x.jsx(bS,{className:"w-4 h-4"})})}),x.jsx("div",{className:"w-px h-4 bg-gray-200 mx-0.5"}),x.jsx(Ae,{content:"Regenerate",children:x.jsx(sn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500",children:x.jsx(_S,{className:"w-4 h-4"})})}),x.jsx(Ae,{content:"Copy",children:x.jsx(sn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500",children:x.jsx(gS,{className:"w-4 h-4"})})}),x.jsx(Ae,{content:"More",children:x.jsx(sn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50 rounded-lg text-gray-500",children:x.jsx(yS,{className:"w-4 h-4"})})})]})]})]})})})});function gB(){const[e,t]=G.useState("home"),[n,i]=G.useState(""),a=c=>{i(c),t("summary")},l=()=>{t("home"),i("")};return x.jsx("div",{className:"w-full h-screen bg-white",children:e==="home"?x.jsx(mB,{onGenerateComplete:a}):x.jsx(pB,{summary:n,onBack:l})})}wD.createRoot(document.getElementById("root")).render(x.jsxs(p_.StrictMode,{children:[x.jsx(gB,{}),x.jsx(fM,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#fff",color:"#000",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"12px 16px",fontSize:"14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]}));
